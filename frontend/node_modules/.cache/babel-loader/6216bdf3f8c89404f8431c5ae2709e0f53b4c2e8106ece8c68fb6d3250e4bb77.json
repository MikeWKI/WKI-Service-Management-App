{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{ArrowLeft,Clock,MessageSquare,Target}from'lucide-react';import{Link}from'react-router-dom';import{useApiCache}from'../hooks/useApiCache';import{usePerformanceMonitor}from'../hooks/usePerformanceMonitor';import{useLoading}from'../contexts/LoadingContext';import{useNotifications}from'../contexts/NotificationContext';import LoadingSpinner from'./LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// Status parsing functions\nconst parseEtrStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue>=15)return'good';if(numValue>=10)return'warning';return'critical';};const parseNotesStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue<=5)return'good';if(numValue<=10)return'warning';return'critical';};const parseVscStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue>=95)return'good';if(numValue>=80)return'warning';return'critical';};const parseDwellStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);if(numValue<=3.0)return'good';if(numValue<=5.0)return'warning';return'critical';};const getServiceAdvisorMetrics=async()=>{const API_BASE_URL='https://wki-service-management-app.onrender.com';try{// ENHANCED: Try parallel trend API calls first for current data\nconsole.log('Fetching current trend data for Service Advisor metrics (parallel requests)...');// Define the metrics we want to fetch for Service Advisors\nconst serviceAdvisorMetrics=['etrPercentCases','smMonthlyDwellAvg','percentCasesWith3Notes'];// Define location data structure (matching your working LocationMetrics pattern)\nconst locationData=[{id:'wichita',name:'Wichita Kenworth'},{id:'emporia',name:'Emporia Kenworth'},{id:'dodge-city',name:'Dodge City Kenworth'},{id:'liberal',name:'Liberal Kenworth'}];// Create promises for all location/metric combinations\nconst allPromises=locationData.flatMap(location=>serviceAdvisorMetrics.map(async metric=>{try{const trendResponse=await fetch(\"\".concat(API_BASE_URL,\"/api/locationMetrics/trends/\").concat(location.id,\"/\").concat(metric));if(trendResponse.ok){const trendData=await trendResponse.json();if(trendData!==null&&trendData!==void 0&&trendData.success&&trendData!==null&&trendData!==void 0&&trendData.data){const cv=trendData.data.currentValue;const value=cv!==null&&cv!==undefined?String(cv):'N/A';console.log(\"\\u2705 \".concat(location.id,\" \").concat(metric,\": \").concat(value));return{locationId:location.id,locationName:location.name,metric,value,success:true};}}console.log(\"\\u274C \".concat(location.id,\" \").concat(metric,\": No data\"));return{locationId:location.id,locationName:location.name,metric,value:'N/A',success:false};}catch(err){console.error(\"Error fetching \".concat(location.id,\" \").concat(metric,\":\"),err);return{locationId:location.id,locationName:location.name,metric,value:'N/A',success:false};}}));console.time('Service Advisor Parallel API Calls');const results=await Promise.all(allPromises);console.timeEnd('Service Advisor Parallel API Calls');// Define proper type for location values\n// Organize results by metric type\nconst metricGroups={etr:{title:'ETR % of Cases',values:[],icon:/*#__PURE__*/_jsx(Target,{className:\"w-6 h-6\"}),target:'100% (goal)',impact:'ETR compliance - must provide estimated repair time',description:'Percentage of cases with ETR provided - required for all cases'},dwell:{title:'SM Monthly Dwell Avg',values:[],icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),target:'< 3.0 days (target)',impact:'Workflow efficiency and customer wait times',description:'Average time trucks spend at dealership - affects customer satisfaction and operational efficiency'},notes:{title:'% Cases with 3+ Notes',values:[],icon:/*#__PURE__*/_jsx(MessageSquare,{className:\"w-6 h-6\"}),target:'100% (goal)',impact:'PACCAR case documentation compliance',description:'Percentage of cases meeting PACCAR requirement of 3+ notes'}};// Process results into the groups\nresults.forEach(result=>{if(result.metric==='etrPercentCases'){const formattedValue=result.value!=='N/A'&&!result.value.includes('%')?\"\".concat(result.value,\"%\"):result.value;metricGroups.etr.values.push({location:result.locationName,value:formattedValue,status:parseEtrStatus(result.value)});}else if(result.metric==='smMonthlyDwellAvg'){const formattedValue=result.value!=='N/A'&&!result.value.includes('days')?\"\".concat(result.value,\" days\"):result.value;metricGroups.dwell.values.push({location:result.locationName,value:formattedValue,status:parseDwellStatus(result.value)});}else if(result.metric==='percentCasesWith3Notes'){const formattedValue=result.value!=='N/A'&&!result.value.includes('%')?\"\".concat(result.value,\"%\"):result.value;metricGroups.notes.values.push({location:result.locationName,value:formattedValue,status:parseNotesStatus(result.value)});}});// Check if we got good data from trends\nconst successfulResults=results.filter(r=>r.success);console.log(\"\\u2705 Got \".concat(successfulResults.length,\" successful trend results out of \").concat(results.length,\" total requests\"));if(successfulResults.length>0){console.log('Using current trend data for Service Advisor metrics');// Convert to MetricCard format with current data\nreturn[{title:metricGroups.etr.title,value:'',target:metricGroups.etr.target,status:'good',impact:metricGroups.etr.impact,description:metricGroups.etr.description,icon:metricGroups.etr.icon,location:'All Locations',locations:metricGroups.etr.values},{title:metricGroups.dwell.title,value:'',target:metricGroups.dwell.target,status:'good',impact:metricGroups.dwell.impact,description:metricGroups.dwell.description,icon:metricGroups.dwell.icon,location:'All Locations',locations:metricGroups.dwell.values},{title:metricGroups.notes.title,value:'',target:metricGroups.notes.target,status:'good',impact:metricGroups.notes.impact,description:metricGroups.notes.description,icon:metricGroups.notes.icon,location:'All Locations',locations:metricGroups.notes.values}];}// Fallback to original logic if trends don't work\nconsole.log('Trends data insufficient, falling back to original locationMetrics endpoint...');}catch(error){console.error('Error in enhanced metrics fetch:',error);}// ORIGINAL FALLBACK LOGIC - Completely rewritten to avoid TypeScript indexing issues\nconsole.log('Using original API endpoint as fallback...');const response=await fetch(\"\".concat(API_BASE_URL,\"/api/locationMetrics\"));if(!response.ok){throw new Error(\"Failed to fetch metrics: \".concat(response.status,\" \").concat(response.statusText));}const apiResponse=await response.json();// Define proper type for location values\n// Initialize combined metrics for all locations\nconst combinedMetrics={etr:{title:'ETR % of Cases',values:[],icon:/*#__PURE__*/_jsx(Target,{className:\"w-6 h-6\"}),target:'100% (goal)',impact:'ETR compliance - must provide estimated repair time',description:'Percentage of cases with ETR provided - required for all cases'},dwell:{title:'SM Monthly Dwell Avg',values:[],icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),target:'< 3.0 days (target)',impact:'Workflow efficiency and customer wait times',description:'Average time trucks spend at dealership - affects customer satisfaction and operational efficiency'},notes:{title:'% Cases with 3+ Notes',values:[],icon:/*#__PURE__*/_jsx(MessageSquare,{className:\"w-6 h-6\"}),target:'100% (goal)',impact:'PACCAR case documentation compliance',description:'Percentage of cases meeting PACCAR requirement of 3+ notes'}};// Handle the nested data structure\nif(apiResponse.success&&apiResponse.data&&apiResponse.data.locations){apiResponse.data.locations.forEach(location=>{const locationName=location.name||'Unknown Location';const locationData=location.metrics||location;// ETR % of Cases\nconst etrValue=locationData.etrPercentCases||'N/A';combinedMetrics.etr.values.push({location:locationName,value:etrValue.includes('%')?etrValue:\"\".concat(etrValue,\"%\"),status:parseEtrStatus(etrValue)});// SM Monthly Dwell Avg\nconst dwellValue=locationData.smMonthlyDwellAvg||'N/A';combinedMetrics.dwell.values.push({location:locationName,value:dwellValue==='N/A'?dwellValue:\"\".concat(dwellValue,\" days\"),status:parseDwellStatus(dwellValue)});// % Cases with 3+ Notes\nconst notesValue=locationData.percentCasesWith3Notes||'N/A';combinedMetrics.notes.values.push({location:locationName,value:notesValue.includes('%')?notesValue:\"\".concat(notesValue,\"%\"),status:parseNotesStatus(notesValue)});});}// Convert to MetricCard format with combined location data\nconst metrics=[{title:combinedMetrics.etr.title,value:'',// Will be handled differently in rendering\ntarget:combinedMetrics.etr.target,status:'good',// Will be determined by individual locations\nimpact:combinedMetrics.etr.impact,description:combinedMetrics.etr.description,icon:combinedMetrics.etr.icon,location:'All Locations',locations:combinedMetrics.etr.values},{title:combinedMetrics.dwell.title,value:'',target:combinedMetrics.dwell.target,status:'good',impact:combinedMetrics.dwell.impact,description:combinedMetrics.dwell.description,icon:combinedMetrics.dwell.icon,location:'All Locations',locations:combinedMetrics.dwell.values},{title:combinedMetrics.notes.title,value:'',target:combinedMetrics.notes.target,status:'good',impact:combinedMetrics.notes.impact,description:combinedMetrics.notes.description,icon:combinedMetrics.notes.icon,location:'All Locations',locations:combinedMetrics.notes.values}];return metrics;};function ServiceAdvisorMetrics(){const{trackOperation}=usePerformanceMonitor('ServiceAdvisorMetrics');const{startLoading,stopLoading,isLoading}=useLoading();const{success,error}=useNotifications();const hasShownSuccessRef=useRef(false);const{data:metrics,isLoading:dataLoading,error:dataError,refetch,isStale}=useApiCache('serviceAdvisorMetrics',getServiceAdvisorMetrics,{cacheTime:10*60*1000,// 10 minutes\nstaleTime:5*60*1000// 5 minutes\n});useEffect(()=>{const trackDataLoad=trackOperation('dataLoad');if(dataLoading){startLoading('serviceAdvisorMetrics');hasShownSuccessRef.current=false;// Reset when starting new load\n}else{stopLoading('serviceAdvisorMetrics');trackDataLoad();if(dataError){hasShownSuccessRef.current=false;// Reset on error\nerror('Failed to Load Metrics',dataError,{actions:[{label:'Retry',action:()=>refetch(),variant:'primary'}]});}else if(metrics&&metrics.length>0&&!hasShownSuccessRef.current){const sessionKey='serviceAdvisorMetrics_success_shown';const hasShownInSession=sessionStorage.getItem(sessionKey);if(!hasShownInSession){hasShownSuccessRef.current=true;// Mark as shown\nsessionStorage.setItem(sessionKey,'true');success('Metrics Updated','Service advisor metrics loaded successfully',{duration:2000});}}}},[dataLoading,dataError,metrics,startLoading,stopLoading,trackOperation,error,success,refetch]);const actionItems=[{metric:'ETR Management',actions:['Set ETR within PremierCare 2-hour window','Include ETR on all posted estimates','Update ETR proactively when scope changes','Monitor Vision favorites for ETR Overdue cases']},{metric:'Daily Updates',actions:['Implement daily case review protocols','Contact customers within 24-hour window minimum','Use automated reminders for update schedules','Monitor Vision Extended Update favorite']},{metric:'QAB Usage',actions:['Use CHECK-IN button immediately when truck arrives','Click REQUEST APPROVAL for all estimates (auto-sets follow-up)','Mark ASSET READY when repairs complete','Use ASSET RELEASED to set ATR and complete case']}];const getStatusColor=status=>{switch(status){case'good':return'text-green-400 bg-gradient-to-br from-slate-800 to-slate-900 border-green-500/50';case'warning':return'text-yellow-400 bg-gradient-to-br from-slate-800 to-slate-900 border-yellow-500/50';case'critical':return'text-red-400 bg-gradient-to-br from-slate-800 to-slate-900 border-red-500/50';default:return'text-slate-300 bg-gradient-to-br from-slate-800 to-slate-900 border-slate-600';}};const getStatusIcon=status=>{switch(status){case'good':return'‚úÖ';case'warning':return'‚ö†Ô∏è';case'critical':return'üî¥';default:return'üìä';}};// Show loading spinner while data is loading\nif(dataLoading){return/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",text:\"Loading Service Advisor metrics...\",fullScreen:true});}// Show stale data warning\nconst showStaleWarning=isStale&&metrics&&metrics.length>0;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/metrics\",className:\"flex items-center text-red-400 hover:text-red-300 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:20,className:\"mr-2\"}),\"Back to Role Selection\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-600\",children:\"|\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center text-slate-400 hover:text-white transition-colors\",children:\"Back to Workflow\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-2\",children:\"Service Advisor PACCAR Metrics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-slate-300\",children:\"Your QAB usage directly impacts PACCAR dealer performance tracking\"}),showStaleWarning&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-yellow-900/50 border border-yellow-500/50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-400 text-sm\",children:[\"\\u26A0\\uFE0F Data may be outdated.\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>refetch(),className:\"ml-2 underline hover:no-underline\",children:\"Refresh now\"})]})})]}),dataError&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/50 border border-red-500/50 rounded-lg p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-red-400 text-xl mb-2\",children:\"Error Loading Metrics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 mb-4\",children:dataError}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>refetch(),className:\"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors\",children:\"Try Again\"})]}),!dataLoading&&!dataError&&(!metrics||metrics.length===0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-4\",children:\"No Service Advisor Data Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 mb-6\",children:\"Service Advisor metrics will be available once W370 Service Scorecard data is uploaded and processed.\"})]}),!dataLoading&&!dataError&&metrics&&metrics.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-1 lg:grid-cols-3 gap-6 mb-12\",children:metrics.map((metric,index)=>{var _metric$locations;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-slate-600 p-6 shadow-2xl hover:shadow-lg transition-all duration-300 hover:scale-105\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[metric.icon,/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCCA\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4 text-white\",children:metric.title}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 mb-4\",children:(_metric$locations=metric.locations)===null||_metric$locations===void 0?void 0:_metric$locations.map((loc,locIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-slate-700/30 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-300\",children:loc.location}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-white\",children:loc.value}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:getStatusIcon(loc.status)})]})]},locIndex))}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-slate-400\",children:[\"Target: \",metric.target]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-300\",children:metric.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"text-red-400\",children:\"Impact:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:metric.impact})]})]})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-lg shadow-2xl border border-slate-700 p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"\\uD83C\\uDFAF Action Items to Improve Your Metrics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-3 gap-8\",children:actionItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2\",children:item.metric}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:item.actions.map((action,actionIndex)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:action})]},actionIndex))})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-gradient-to-r from-red-900/30 to-red-800/30 rounded-lg p-6 border border-red-500/50 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-red-300 mb-4\",children:\"\\uD83D\\uDCA1 How Service Advisors Drive Dealer Success\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6 text-sm text-slate-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 text-white\",children:\"Customer Experience Impact\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Fast triage = Higher customer satisfaction scores\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Regular communication = Improved trust and retention\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Accurate estimates = Reduced complaints and rework\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 text-white\",children:\"Operational Impact\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 QAB usage = Better workflow tracking and efficiency\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Quick approvals = Reduced dwell time and costs\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Proactive coordination = Higher first-time fix rates\"})]})]})]})]})]})]});}export default ServiceAdvisorMetrics;","map":{"version":3,"names":["React","useEffect","useRef","ArrowLeft","Clock","MessageSquare","Target","Link","useApiCache","usePerformanceMonitor","useLoading","useNotifications","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","parseEtrStatus","value","numValue","parseFloat","replace","parseNotesStatus","parseVscStatus","parseDwellStatus","getServiceAdvisorMetrics","API_BASE_URL","console","log","serviceAdvisorMetrics","locationData","id","name","allPromises","flatMap","location","map","metric","trendResponse","fetch","concat","ok","trendData","json","success","data","cv","currentValue","undefined","String","locationId","locationName","err","error","time","results","Promise","all","timeEnd","metricGroups","etr","title","values","icon","className","target","impact","description","dwell","notes","forEach","result","formattedValue","includes","push","status","successfulResults","filter","r","length","locations","response","Error","statusText","apiResponse","combinedMetrics","metrics","etrValue","etrPercentCases","dwellValue","smMonthlyDwellAvg","notesValue","percentCasesWith3Notes","ServiceAdvisorMetrics","trackOperation","startLoading","stopLoading","isLoading","hasShownSuccessRef","dataLoading","dataError","refetch","isStale","cacheTime","staleTime","trackDataLoad","current","actions","label","action","variant","sessionKey","hasShownInSession","sessionStorage","getItem","setItem","duration","actionItems","getStatusColor","getStatusIcon","size","text","fullScreen","showStaleWarning","children","to","onClick","index","_metric$locations","loc","locIndex","item","actionIndex"],"sources":["C:/Users/michaela/service-management-app/frontend/src/components/ServiceAdvisorMetrics.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { ArrowLeft, Clock, Users, CheckCircle, AlertTriangle, MessageSquare, Target, BarChart3 } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useApiCache } from '../hooks/useApiCache';\r\nimport { usePerformanceMonitor } from '../hooks/usePerformanceMonitor';\r\nimport { useLoading } from '../contexts/LoadingContext';\r\nimport { useNotifications } from '../contexts/NotificationContext';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\ninterface MetricCard {\r\n  title: string;\r\n  value: string;\r\n  target: string;\r\n  status: 'good' | 'warning' | 'critical';\r\n  impact: string;\r\n  description: string;\r\n  icon: React.ReactNode;\r\n  location: string;\r\n  locations?: Array<{\r\n    location: string;\r\n    value: string;\r\n    status: 'good' | 'warning' | 'critical';\r\n  }>;\r\n}\r\n\r\ninterface LocationMetrics {\r\n  location: string;\r\n  etrPercentCases: string;\r\n  percentCasesWith3Notes: string;\r\n  vscCaseRequirements: string;\r\n}\r\n\r\n// Status parsing functions\r\nconst parseEtrStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue >= 15) return 'good';\r\n  if (numValue >= 10) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseNotesStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue <= 5) return 'good';\r\n  if (numValue <= 10) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseVscStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue >= 95) return 'good';\r\n  if (numValue >= 80) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseDwellStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  if (numValue <= 3.0) return 'good';\r\n  if (numValue <= 5.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst getServiceAdvisorMetrics = async (): Promise<MetricCard[]> => {\r\n  const API_BASE_URL = 'https://wki-service-management-app.onrender.com';\r\n  \r\n  try {\r\n    // ENHANCED: Try parallel trend API calls first for current data\r\n    console.log('Fetching current trend data for Service Advisor metrics (parallel requests)...');\r\n    \r\n    // Define the metrics we want to fetch for Service Advisors\r\n    const serviceAdvisorMetrics = [\r\n      'etrPercentCases',\r\n      'smMonthlyDwellAvg', \r\n      'percentCasesWith3Notes'\r\n    ];\r\n    \r\n    // Define location data structure (matching your working LocationMetrics pattern)\r\n    const locationData = [\r\n      { id: 'wichita', name: 'Wichita Kenworth' },\r\n      { id: 'emporia', name: 'Emporia Kenworth' },\r\n      { id: 'dodge-city', name: 'Dodge City Kenworth' },\r\n      { id: 'liberal', name: 'Liberal Kenworth' }\r\n    ];\r\n    \r\n    // Create promises for all location/metric combinations\r\n    const allPromises = locationData.flatMap(location => \r\n      serviceAdvisorMetrics.map(async (metric) => {\r\n        try {\r\n          const trendResponse = await fetch(`${API_BASE_URL}/api/locationMetrics/trends/${location.id}/${metric}`);\r\n          if (trendResponse.ok) {\r\n            const trendData = await trendResponse.json();\r\n            if (trendData?.success && trendData?.data) {\r\n              const cv = trendData.data.currentValue;\r\n              const value = (cv !== null && cv !== undefined) ? String(cv) : 'N/A';\r\n              console.log(`‚úÖ ${location.id} ${metric}: ${value}`);\r\n              return { \r\n                locationId: location.id, \r\n                locationName: location.name, \r\n                metric, \r\n                value, \r\n                success: true \r\n              };\r\n            }\r\n          }\r\n          console.log(`‚ùå ${location.id} ${metric}: No data`);\r\n          return { \r\n            locationId: location.id, \r\n            locationName: location.name, \r\n            metric, \r\n            value: 'N/A', \r\n            success: false \r\n          };\r\n        } catch (err) {\r\n          console.error(`Error fetching ${location.id} ${metric}:`, err);\r\n          return { \r\n            locationId: location.id, \r\n            locationName: location.name, \r\n            metric, \r\n            value: 'N/A', \r\n            success: false \r\n          };\r\n        }\r\n      })\r\n    );\r\n    \r\n    console.time('Service Advisor Parallel API Calls');\r\n    const results = await Promise.all(allPromises);\r\n    console.timeEnd('Service Advisor Parallel API Calls');\r\n    \r\n    // Define proper type for location values\r\n    type LocationValue = {\r\n      location: string;\r\n      value: string;\r\n      status: 'good' | 'warning' | 'critical';\r\n    };\r\n    \r\n    // Organize results by metric type\r\n    const metricGroups = {\r\n      etr: { \r\n        title: 'ETR % of Cases', \r\n        values: [] as LocationValue[], \r\n        icon: <Target className=\"w-6 h-6\" />, \r\n        target: '100% (goal)', \r\n        impact: 'ETR compliance - must provide estimated repair time', \r\n        description: 'Percentage of cases with ETR provided - required for all cases' \r\n      },\r\n      dwell: { \r\n        title: 'SM Monthly Dwell Avg', \r\n        values: [] as LocationValue[], \r\n        icon: <Clock className=\"w-6 h-6\" />, \r\n        target: '< 3.0 days (target)', \r\n        impact: 'Workflow efficiency and customer wait times', \r\n        description: 'Average time trucks spend at dealership - affects customer satisfaction and operational efficiency' \r\n      },\r\n      notes: { \r\n        title: '% Cases with 3+ Notes', \r\n        values: [] as LocationValue[], \r\n        icon: <MessageSquare className=\"w-6 h-6\" />, \r\n        target: '100% (goal)', \r\n        impact: 'PACCAR case documentation compliance', \r\n        description: 'Percentage of cases meeting PACCAR requirement of 3+ notes' \r\n      }\r\n    };\r\n    \r\n    // Process results into the groups\r\n    results.forEach(result => {\r\n      if (result.metric === 'etrPercentCases') {\r\n        const formattedValue = result.value !== 'N/A' && !result.value.includes('%') \r\n          ? `${result.value}%` \r\n          : result.value;\r\n        metricGroups.etr.values.push({\r\n          location: result.locationName,\r\n          value: formattedValue,\r\n          status: parseEtrStatus(result.value)\r\n        });\r\n      } else if (result.metric === 'smMonthlyDwellAvg') {\r\n        const formattedValue = result.value !== 'N/A' && !result.value.includes('days')\r\n          ? `${result.value} days`\r\n          : result.value;\r\n        metricGroups.dwell.values.push({\r\n          location: result.locationName,\r\n          value: formattedValue,\r\n          status: parseDwellStatus(result.value)\r\n        });\r\n      } else if (result.metric === 'percentCasesWith3Notes') {\r\n        const formattedValue = result.value !== 'N/A' && !result.value.includes('%')\r\n          ? `${result.value}%`\r\n          : result.value;\r\n        metricGroups.notes.values.push({\r\n          location: result.locationName,\r\n          value: formattedValue,\r\n          status: parseNotesStatus(result.value)\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Check if we got good data from trends\r\n    const successfulResults = results.filter(r => r.success);\r\n    console.log(`‚úÖ Got ${successfulResults.length} successful trend results out of ${results.length} total requests`);\r\n    \r\n    if (successfulResults.length > 0) {\r\n      console.log('Using current trend data for Service Advisor metrics');\r\n      \r\n      // Convert to MetricCard format with current data\r\n      return [\r\n        {\r\n          title: metricGroups.etr.title,\r\n          value: '', \r\n          target: metricGroups.etr.target,\r\n          status: 'good', \r\n          impact: metricGroups.etr.impact,\r\n          description: metricGroups.etr.description,\r\n          icon: metricGroups.etr.icon,\r\n          location: 'All Locations',\r\n          locations: metricGroups.etr.values\r\n        },\r\n        {\r\n          title: metricGroups.dwell.title,\r\n          value: '',\r\n          target: metricGroups.dwell.target,\r\n          status: 'good',\r\n          impact: metricGroups.dwell.impact,\r\n          description: metricGroups.dwell.description,\r\n          icon: metricGroups.dwell.icon,\r\n          location: 'All Locations',\r\n          locations: metricGroups.dwell.values\r\n        },\r\n        {\r\n          title: metricGroups.notes.title,\r\n          value: '',\r\n          target: metricGroups.notes.target,\r\n          status: 'good',\r\n          impact: metricGroups.notes.impact,\r\n          description: metricGroups.notes.description,\r\n          icon: metricGroups.notes.icon,\r\n          location: 'All Locations',\r\n          locations: metricGroups.notes.values\r\n        }\r\n      ];\r\n    }\r\n    \r\n    // Fallback to original logic if trends don't work\r\n    console.log('Trends data insufficient, falling back to original locationMetrics endpoint...');\r\n    \r\n  } catch (error) {\r\n    console.error('Error in enhanced metrics fetch:', error);\r\n  }\r\n\r\n  // ORIGINAL FALLBACK LOGIC - Completely rewritten to avoid TypeScript indexing issues\r\n  console.log('Using original API endpoint as fallback...');\r\n  \r\n  const response = await fetch(`${API_BASE_URL}/api/locationMetrics`);\r\n  if (!response.ok) {\r\n    throw new Error(`Failed to fetch metrics: ${response.status} ${response.statusText}`);\r\n  }\r\n  \r\n  const apiResponse = await response.json();\r\n  \r\n  // Define proper type for location values\r\n  type LocationValue = {\r\n    location: string;\r\n    value: string;\r\n    status: 'good' | 'warning' | 'critical';\r\n  };\r\n  \r\n  // Initialize combined metrics for all locations\r\n  const combinedMetrics = {\r\n    etr: { \r\n      title: 'ETR % of Cases', \r\n      values: [] as LocationValue[], \r\n      icon: <Target className=\"w-6 h-6\" />, \r\n      target: '100% (goal)', \r\n      impact: 'ETR compliance - must provide estimated repair time', \r\n      description: 'Percentage of cases with ETR provided - required for all cases' \r\n    },\r\n    dwell: { \r\n      title: 'SM Monthly Dwell Avg', \r\n      values: [] as LocationValue[], \r\n      icon: <Clock className=\"w-6 h-6\" />, \r\n      target: '< 3.0 days (target)', \r\n      impact: 'Workflow efficiency and customer wait times', \r\n      description: 'Average time trucks spend at dealership - affects customer satisfaction and operational efficiency' \r\n    },\r\n    notes: { \r\n      title: '% Cases with 3+ Notes', \r\n      values: [] as LocationValue[], \r\n      icon: <MessageSquare className=\"w-6 h-6\" />, \r\n      target: '100% (goal)', \r\n      impact: 'PACCAR case documentation compliance', \r\n      description: 'Percentage of cases meeting PACCAR requirement of 3+ notes' \r\n    }\r\n  };\r\n  \r\n  // Handle the nested data structure\r\n  if (apiResponse.success && apiResponse.data && apiResponse.data.locations) {\r\n    apiResponse.data.locations.forEach((location: any) => {\r\n      const locationName = location.name || 'Unknown Location';\r\n      const locationData = location.metrics || location;\r\n      \r\n      // ETR % of Cases\r\n      const etrValue = locationData.etrPercentCases || 'N/A';\r\n      combinedMetrics.etr.values.push({\r\n        location: locationName,\r\n        value: etrValue.includes('%') ? etrValue : `${etrValue}%`,\r\n        status: parseEtrStatus(etrValue)\r\n      });\r\n\r\n      // SM Monthly Dwell Avg\r\n      const dwellValue = locationData.smMonthlyDwellAvg || 'N/A';\r\n      combinedMetrics.dwell.values.push({\r\n        location: locationName,\r\n        value: dwellValue === 'N/A' ? dwellValue : `${dwellValue} days`,\r\n        status: parseDwellStatus(dwellValue)\r\n      });\r\n\r\n      // % Cases with 3+ Notes\r\n      const notesValue = locationData.percentCasesWith3Notes || 'N/A';\r\n      combinedMetrics.notes.values.push({\r\n        location: locationName,\r\n        value: notesValue.includes('%') ? notesValue : `${notesValue}%`,\r\n        status: parseNotesStatus(notesValue)\r\n      });\r\n    });\r\n  }\r\n  \r\n  // Convert to MetricCard format with combined location data\r\n  const metrics: MetricCard[] = [\r\n    {\r\n      title: combinedMetrics.etr.title,\r\n      value: '', // Will be handled differently in rendering\r\n      target: combinedMetrics.etr.target,\r\n      status: 'good', // Will be determined by individual locations\r\n      impact: combinedMetrics.etr.impact,\r\n      description: combinedMetrics.etr.description,\r\n      icon: combinedMetrics.etr.icon,\r\n      location: 'All Locations',\r\n      locations: combinedMetrics.etr.values\r\n    },\r\n    {\r\n      title: combinedMetrics.dwell.title,\r\n      value: '',\r\n      target: combinedMetrics.dwell.target,\r\n      status: 'good',\r\n      impact: combinedMetrics.dwell.impact,\r\n      description: combinedMetrics.dwell.description,\r\n      icon: combinedMetrics.dwell.icon,\r\n      location: 'All Locations',\r\n      locations: combinedMetrics.dwell.values\r\n    },\r\n    {\r\n      title: combinedMetrics.notes.title,\r\n      value: '',\r\n      target: combinedMetrics.notes.target,\r\n      status: 'good',\r\n      impact: combinedMetrics.notes.impact,\r\n      description: combinedMetrics.notes.description,\r\n      icon: combinedMetrics.notes.icon,\r\n      location: 'All Locations',\r\n      locations: combinedMetrics.notes.values\r\n    }\r\n  ];\r\n  \r\n  return metrics;\r\n};\r\n\r\nfunction ServiceAdvisorMetrics() {\r\n  const { trackOperation } = usePerformanceMonitor('ServiceAdvisorMetrics');\r\n  const { startLoading, stopLoading, isLoading } = useLoading();\r\n  const { success, error } = useNotifications();\r\n  const hasShownSuccessRef = useRef(false);\r\n  \r\n  const { \r\n    data: metrics, \r\n    isLoading: dataLoading, \r\n    error: dataError, \r\n    refetch,\r\n    isStale \r\n  } = useApiCache('serviceAdvisorMetrics', getServiceAdvisorMetrics, {\r\n    cacheTime: 10 * 60 * 1000, // 10 minutes\r\n    staleTime: 5 * 60 * 1000   // 5 minutes\r\n  });\r\n\r\n  useEffect(() => {\r\n    const trackDataLoad = trackOperation('dataLoad');\r\n    \r\n    if (dataLoading) {\r\n      startLoading('serviceAdvisorMetrics');\r\n      hasShownSuccessRef.current = false; // Reset when starting new load\r\n    } else {\r\n      stopLoading('serviceAdvisorMetrics');\r\n      trackDataLoad();\r\n      \r\n      if (dataError) {\r\n        hasShownSuccessRef.current = false; // Reset on error\r\n        error('Failed to Load Metrics', dataError, {\r\n          actions: [\r\n            {\r\n              label: 'Retry',\r\n              action: () => refetch(),\r\n              variant: 'primary'\r\n            }\r\n          ]\r\n        });\r\n      } else if (metrics && metrics.length > 0 && !hasShownSuccessRef.current) {\r\n        const sessionKey = 'serviceAdvisorMetrics_success_shown';\r\n        const hasShownInSession = sessionStorage.getItem(sessionKey);\r\n        \r\n        if (!hasShownInSession) {\r\n          hasShownSuccessRef.current = true; // Mark as shown\r\n          sessionStorage.setItem(sessionKey, 'true');\r\n          success('Metrics Updated', 'Service advisor metrics loaded successfully', { duration: 2000 });\r\n        }\r\n      }\r\n    }\r\n  }, [dataLoading, dataError, metrics, startLoading, stopLoading, trackOperation, error, success, refetch]);\r\n\r\n  const actionItems = [\r\n    {\r\n      metric: 'ETR Management',\r\n      actions: [\r\n        'Set ETR within PremierCare 2-hour window',\r\n        'Include ETR on all posted estimates',\r\n        'Update ETR proactively when scope changes',\r\n        'Monitor Vision favorites for ETR Overdue cases'\r\n      ]\r\n    },\r\n    {\r\n      metric: 'Daily Updates',\r\n      actions: [\r\n        'Implement daily case review protocols',\r\n        'Contact customers within 24-hour window minimum',\r\n        'Use automated reminders for update schedules',\r\n        'Monitor Vision Extended Update favorite'\r\n      ]\r\n    },\r\n    {\r\n      metric: 'QAB Usage',\r\n      actions: [\r\n        'Use CHECK-IN button immediately when truck arrives',\r\n        'Click REQUEST APPROVAL for all estimates (auto-sets follow-up)',\r\n        'Mark ASSET READY when repairs complete',\r\n        'Use ASSET RELEASED to set ATR and complete case'\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'good': return 'text-green-400 bg-gradient-to-br from-slate-800 to-slate-900 border-green-500/50';\r\n      case 'warning': return 'text-yellow-400 bg-gradient-to-br from-slate-800 to-slate-900 border-yellow-500/50';\r\n      case 'critical': return 'text-red-400 bg-gradient-to-br from-slate-800 to-slate-900 border-red-500/50';\r\n      default: return 'text-slate-300 bg-gradient-to-br from-slate-800 to-slate-900 border-slate-600';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'good': return '‚úÖ';\r\n      case 'warning': return '‚ö†Ô∏è';\r\n      case 'critical': return 'üî¥';\r\n      default: return 'üìä';\r\n    }\r\n  };\r\n\r\n  // Show loading spinner while data is loading\r\n  if (dataLoading) {\r\n    return <LoadingSpinner size=\"lg\" text=\"Loading Service Advisor metrics...\" fullScreen />;\r\n  }\r\n\r\n  // Show stale data warning\r\n  const showStaleWarning = isStale && metrics && metrics.length > 0;\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Link \r\n            to=\"/metrics\" \r\n            className=\"flex items-center text-red-400 hover:text-red-300 transition-colors\"\r\n          >\r\n            <ArrowLeft size={20} className=\"mr-2\" />\r\n            Back to Role Selection\r\n          </Link>\r\n          <div className=\"text-slate-600\">|</div>\r\n          <Link \r\n            to=\"/\" \r\n            className=\"flex items-center text-slate-400 hover:text-white transition-colors\"\r\n          >\r\n            Back to Workflow\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-2\">\r\n          Service Advisor PACCAR Metrics\r\n        </h1>\r\n        <p className=\"text-xl text-slate-300\">\r\n          Your QAB usage directly impacts PACCAR dealer performance tracking\r\n        </p>\r\n        \r\n        {/* Stale data warning */}\r\n        {showStaleWarning && (\r\n          <div className=\"mt-4 p-3 bg-yellow-900/50 border border-yellow-500/50 rounded-lg\">\r\n            <p className=\"text-yellow-400 text-sm\">\r\n              ‚ö†Ô∏è Data may be outdated. \r\n              <button \r\n                onClick={() => refetch()} \r\n                className=\"ml-2 underline hover:no-underline\"\r\n              >\r\n                Refresh now\r\n              </button>\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {/* Error state */}\r\n      {dataError && (\r\n        <div className=\"bg-red-900/50 border border-red-500/50 rounded-lg p-6 mb-8\">\r\n          <h3 className=\"text-red-400 text-xl mb-2\">Error Loading Metrics</h3>\r\n          <p className=\"text-slate-300 mb-4\">{dataError}</p>\r\n          <button \r\n            onClick={() => refetch()}\r\n            className=\"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors\"\r\n          >\r\n            Try Again\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Show message when no legitimate scorecard data is available */}\r\n      {!dataLoading && !dataError && (!metrics || metrics.length === 0) && (\r\n        <div className=\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center mb-8\">\r\n          <div className=\"text-6xl mb-4\">üìä</div>\r\n          <h2 className=\"text-2xl font-bold text-white mb-4\">No Service Advisor Data Available</h2>\r\n          <p className=\"text-slate-300 mb-6\">\r\n            Service Advisor metrics will be available once W370 Service Scorecard data is uploaded and processed.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Metrics Grid - only show when data exists */}\r\n      {!dataLoading && !dataError && metrics && metrics.length > 0 && (\r\n        <>\r\n          <div className=\"grid md:grid-cols-1 lg:grid-cols-3 gap-6 mb-12\">\r\n            {metrics.map((metric, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-slate-600 p-6 shadow-2xl hover:shadow-lg transition-all duration-300 hover:scale-105\"\r\n              >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  {metric.icon}\r\n                  <span className=\"text-2xl\">üìä</span>\r\n                </div>\r\n                <h3 className=\"text-lg font-semibold mb-4 text-white\">{metric.title}</h3>\r\n                \r\n                {/* Location-specific values */}\r\n                <div className=\"space-y-3 mb-4\">\r\n                  {metric.locations?.map((loc, locIndex) => (\r\n                    <div key={locIndex} className=\"flex items-center justify-between p-2 bg-slate-700/30 rounded\">\r\n                      <span className=\"text-sm text-slate-300\">{loc.location}</span>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-lg font-bold text-white\">{loc.value}</span>\r\n                        <span className=\"text-lg\">{getStatusIcon(loc.status)}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-slate-400\">Target: {metric.target}</span>\r\n                  </div>\r\n                  <p className=\"text-sm text-slate-300\">{metric.description}</p>\r\n                  <div className=\"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600\">\r\n                    <strong className=\"text-red-400\">Impact:</strong> <span className=\"text-slate-300\">{metric.impact}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Action Items and Performance Impact */}\r\n          <div className=\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-lg shadow-2xl border border-slate-700 p-8\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">\r\n              üéØ Action Items to Improve Your Metrics\r\n            </h2>\r\n            \r\n            <div className=\"grid md:grid-cols-3 gap-8\">\r\n              {actionItems.map((item, index) => (\r\n                <div key={index} className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2\">\r\n                    {item.metric}\r\n                  </h3>\r\n                  <ul className=\"space-y-2\">\r\n                    {item.actions.map((action, actionIndex) => (\r\n                      <li key={actionIndex} className=\"flex items-start space-x-2 text-sm\">\r\n                        <span className=\"text-red-500 mt-1\">‚Ä¢</span>\r\n                        <span className=\"text-slate-300\">{action}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Performance Impact */}\r\n          <div className=\"mt-8 bg-gradient-to-r from-red-900/30 to-red-800/30 rounded-lg p-6 border border-red-500/50 backdrop-blur-sm\">\r\n            <h3 className=\"text-xl font-bold text-red-300 mb-4\">\r\n              üí° How Service Advisors Drive Dealer Success\r\n            </h3>\r\n            <div className=\"grid md:grid-cols-2 gap-6 text-sm text-slate-300\">\r\n              <div>\r\n                <h4 className=\"font-semibold mb-2 text-white\">Customer Experience Impact</h4>\r\n                <ul className=\"space-y-1\">\r\n                  <li>‚Ä¢ Fast triage = Higher customer satisfaction scores</li>\r\n                  <li>‚Ä¢ Regular communication = Improved trust and retention</li>\r\n                  <li>‚Ä¢ Accurate estimates = Reduced complaints and rework</li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-semibold mb-2 text-white\">Operational Impact</h4>\r\n                <ul className=\"space-y-1\">\r\n                  <li>‚Ä¢ QAB usage = Better workflow tracking and efficiency</li>\r\n                  <li>‚Ä¢ Quick approvals = Reduced dwell time and costs</li>\r\n                  <li>‚Ä¢ Proactive coordination = Higher first-time fix rates</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ServiceAdvisorMetrics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}