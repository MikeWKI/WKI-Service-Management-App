{"ast":null,"code":"import React,{useState,useEffect}from'react';import{ArrowLeft,Clock,Users,CheckCircle,AlertTriangle,TrendingUp,TrendingDown,BarChart3,Target,Calendar,Award,Zap,Activity,FileText,Timer,Shield,Info,X}from'lucide-react';import{Link}from'react-router-dom';import TrendIndicator from'./TrendIndicator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Helper function to safely parse metric values\nconst parseMetric=value=>{if(value===undefined||value===null)return 0;const parsed=typeof value==='string'?parseFloat(value):value;return isNaN(parsed)?0:parsed;};// Helper function to format metric display\nconst formatMetric=function(value){let suffix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';const parsed=parseMetric(value);if(parsed===0)return'No data';return\"\".concat(parsed.toFixed(1)).concat(suffix);};// Status parsing helper functions for new metrics\nconst parseVscStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue>=95)return'good';if(numValue>=80)return'warning';return'critical';};const parseDwellStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);if(numValue<=3.0)return'good';if(numValue<=5.0)return'warning';return'critical';};const parseTriageStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);if(numValue<=2.0)return'good';if(numValue<=3.0)return'warning';return'critical';};const parseEtrStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));// Goal is 100% - ETR should be provided for all cases (higher is better)\nif(numValue>=95)return'good';if(numValue>=80)return'warning';return'critical';};const parseNotesStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));// Goal is 100% - PACCAR requires 3+ notes on every case (higher is better)\nif(numValue>=95)return'good';if(numValue>=80)return'warning';return'critical';};const parseRdsStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);// Goal is ≤3.0 days for RDS dwell metrics (same as SM dwell)\nif(numValue<=3.0)return'good';if(numValue<=5.0)return'warning';return'critical';};// Helper function to add percentage sign if needed\nconst addPercentageIfNeeded=value=>{if(!value||value==='N/A')return'N/A';const numericValue=parseFloat(value);if(isNaN(numericValue))return value;if(numericValue>=0&&numericValue<=100&&!value.includes('%')){return\"\".concat(value,\"%\");}return value;};// FIXED: Helper function to map metric titles to backend field names\nconst getMetricFieldName=title=>{console.log(\"\\uD83D\\uDD0D getMetricFieldName called with title: \\\"\".concat(title,\"\\\"\"));// EXACT mapping - titles must match exactly\nconst metricMapping={'VSC Case Requirements':'vscCaseRequirements','VSC Closed Correctly':'vscClosedCorrectly','TT+ Activation':'ttActivation','SM Monthly Dwell Avg':'smMonthlyDwellAvg',// Fixed: consistent naming\n'SM YTD Dwell Avg Days':'smYtdDwellAvgDays','Triage % < 4 Hours':'triagePercentLess4Hours','SM Average Triage Hours':'triageHours','ETR % of Cases':'etrPercentCases','% Cases with 3+ Notes':'percentCasesWith3Notes','RDS Dwell Monthly Avg Days':'rdsMonthlyAvgDays','RDS YTD Dwell Avg Days':'rdsYtdDwellAvgDays'};const result=metricMapping[title];if(result){console.log(\"\\u2705 Found exact mapping: \\\"\".concat(title,\"\\\" \\u2192 \\\"\").concat(result,\"\\\"\"));return result;}else{console.warn(\"\\u274C No exact mapping found for: \\\"\".concat(title,\"\\\"\"));console.warn(\"Available mappings:\",Object.keys(metricMapping));// IMPROVED: Better fallback that preserves some structure\n// Convert to camelCase instead of stripping everything\nconst fallback=title.split(' ').map((word,index)=>{const clean=word.replace(/[^a-zA-Z0-9]/g,'');return index===0?clean.toLowerCase():clean.charAt(0).toUpperCase()+clean.slice(1).toLowerCase();}).join('');console.warn(\"Using fallback: \\\"\".concat(title,\"\\\" \\u2192 \\\"\").concat(fallback,\"\\\"\"));return fallback;}};/** ----------------------------------------------------------------\r\n *  UPDATED: getLocationMetrics with parallel API calls for better performance\r\n *  ---------------------------------------------------------------- */const getLocationMetrics=async locationId=>{const API_BASE_URL='https://wki-service-management-app.onrender.com';try{// OPTION 1: Use trends endpoint with PARALLEL requests for better performance\nconsole.log('Fetching latest trend data for cards (parallel requests)...');const metricsList=['vscCaseRequirements','vscClosedCorrectly','ttActivation','smMonthlyDwellAvg','smYtdDwellAvgDays','triagePercentLess4Hours','triageHours','etrPercentCases','percentCasesWith3Notes','rdsMonthlyAvgDays','rdsYtdDwellAvgDays'];// Create parallel requests for all metrics\nconst metricPromises=metricsList.map(async metric=>{try{const trendResponse=await fetch(\"\".concat(API_BASE_URL,\"/api/locationMetrics/trends/\").concat(locationId,\"/\").concat(metric));if(trendResponse.ok){const trendData=await trendResponse.json();// FIXED: Use currentValue directly from the API response object\nif(trendData&&trendData.success&&trendData.data){const cv=trendData.data.currentValue;const value=cv!==null&&cv!==undefined?String(cv):'N/A';console.log(\"\\u2705 \".concat(metric,\": \").concat(value,\" (\").concat(trendData.data.currentPeriod,\")\"));return{metric,value,success:true};}else{console.log(\"\\u274C \".concat(metric,\": No data in response\"));return{metric,value:'N/A',success:false};}}else{console.log(\"\\u274C \".concat(metric,\": HTTP \").concat(trendResponse.status));return{metric,value:'N/A',success:false};}}catch(err){console.error(\"Error fetching trend data for \".concat(metric,\":\"),err);return{metric,value:'N/A',success:false};}});// Wait for all parallel requests to complete\nconsole.time('Parallel API Calls');const results=await Promise.all(metricPromises);console.timeEnd('Parallel API Calls');// Build the currentValues object from results\nconst currentValues={};let successCount=0;results.forEach(_ref=>{let{metric,value,success}=_ref;currentValues[metric]=value;if(success)successCount++;});console.log(\"\\u2705 Completed \".concat(results.length,\" parallel requests, \").concat(successCount,\" successful\"));// Format helper for card display\nconst formatValue=(value,metric)=>{if(!value||value==='N/A')return'N/A';const percentageMetrics=['vscCaseRequirements','vscClosedCorrectly','ttActivation','triagePercentLess4Hours','etrPercentCases','percentCasesWith3Notes'];if(percentageMetrics.includes(metric)&&!value.includes('%')){return\"\".concat(value,\"%\");}const timeMetrics=['smMonthlyDwellAvg','smYtdDwellAvgDays','rdsMonthlyAvgDays','rdsYtdDwellAvgDays'];if(timeMetrics.includes(metric)&&!value.includes('days')){return\"\".concat(value,\" days\");}if(metric==='triageHours'&&!value.includes('hrs')){return\"\".concat(value,\" hrs\");}return value;};// If we have some successful trend values, build the cards from trends\nif(successCount>0){console.log('Using parallel trend data for card values:',currentValues);return[{title:'VSC Case Requirements',value:formatValue(currentValues.vscCaseRequirements,'vscCaseRequirements'),target:'> 95% (target)',status:parseVscStatus(currentValues.vscCaseRequirements),impact:'Service case compliance metric',description:'Percentage of VSC case requirements met',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24}),trend:'stable'},{title:'VSC Closed Correctly',value:formatValue(currentValues.vscClosedCorrectly,'vscClosedCorrectly'),target:'> 90% (target)',status:parseVscStatus(currentValues.vscClosedCorrectly),impact:'Case closure accuracy metric',description:'Percentage of VSC cases closed correctly',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24}),trend:'stable'},{title:'TT+ Activation',value:formatValue(currentValues.ttActivation,'ttActivation'),target:'> 95% (target)',status:parseVscStatus(currentValues.ttActivation),impact:'Technology activation compliance',description:'TruckTech Plus activation percentage',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24}),trend:'stable'},{title:'SM Monthly Dwell Avg',value:formatValue(currentValues.smMonthlyDwellAvg,'smMonthlyDwellAvg'),target:'< 3.0 days (target)',status:parseDwellStatus(currentValues.smMonthlyDwellAvg),impact:'Service manager dwell time',description:'Average dwell time managed by service manager',icon:/*#__PURE__*/_jsx(Clock,{size:24}),trend:'stable'},{title:'SM YTD Dwell Avg Days',value:formatValue(currentValues.smYtdDwellAvgDays,'smYtdDwellAvgDays'),target:'< 3.0 days (goal)',status:parseDwellStatus(currentValues.smYtdDwellAvgDays),impact:'Service manager year-to-date performance',description:'Year-to-date average dwell time',icon:/*#__PURE__*/_jsx(TrendingDown,{size:24}),trend:'stable'},{title:'Triage % < 4 Hours',value:formatValue(currentValues.triagePercentLess4Hours,'triagePercentLess4Hours'),target:'> 80% (target)',status:parseVscStatus(currentValues.triagePercentLess4Hours),impact:'Quick triage performance',description:'Percentage of cases triaged within 4 hours',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24}),trend:'stable'},{title:'SM Average Triage Hours',value:formatValue(currentValues.triageHours,'triageHours'),target:'< 2.0 hrs (target)',status:parseTriageStatus(currentValues.triageHours),impact:'Initial assessment efficiency',description:'Time to complete initial triage assessment',icon:/*#__PURE__*/_jsx(Users,{size:24}),trend:'stable'},{title:'ETR % of Cases',value:formatValue(currentValues.etrPercentCases,'etrPercentCases'),target:'100% (goal)',status:parseEtrStatus(currentValues.etrPercentCases),impact:'ETR compliance - must provide estimated repair time',description:'Percentage of cases with ETR provided',icon:/*#__PURE__*/_jsx(BarChart3,{size:24}),trend:'stable'},{title:'% Cases with 3+ Notes',value:formatValue(currentValues.percentCasesWith3Notes,'percentCasesWith3Notes'),target:'100% (goal)',status:parseNotesStatus(currentValues.percentCasesWith3Notes),impact:'PACCAR case documentation compliance',description:'Percentage of cases with required 3+ notes',icon:/*#__PURE__*/_jsx(AlertTriangle,{size:24}),trend:'stable'},{title:'RDS Dwell Monthly Avg Days',value:formatValue(currentValues.rdsMonthlyAvgDays,'rdsMonthlyAvgDays'),target:'< 3.0 days (goal)',status:parseRdsStatus(currentValues.rdsMonthlyAvgDays),impact:'RDS monthly dwell performance',description:'Remote diagnostic service dwell time',icon:/*#__PURE__*/_jsx(Clock,{size:24}),trend:'stable'},{title:'RDS YTD Dwell Avg Days',value:formatValue(currentValues.rdsYtdDwellAvgDays,'rdsYtdDwellAvgDays'),target:'< 3.0 days (goal)',status:parseRdsStatus(currentValues.rdsYtdDwellAvgDays),impact:'RDS year-to-date dwell performance',description:'Year-to-date RDS dwell performance',icon:/*#__PURE__*/_jsx(TrendingDown,{size:24}),trend:'stable'}];}// OPTION 2: Fall back to original backend logic when trends not available\nconsole.log('Parallel trends requests failed or returned insufficient data, falling back to original logic...');const response=await fetch(\"\".concat(API_BASE_URL,\"/api/locationMetrics\"));if(response.ok){const data=await response.json();let locations=[];if(data&&typeof data==='object'){if('locations'in data&&Array.isArray(data.locations)){locations=data.locations;}else if('data'in data&&data.data&&'locations'in data.data&&Array.isArray(data.data.locations)){locations=data.data.locations;}}const locationMap={'wichita':'Wichita Kenworth','emporia':'Emporia Kenworth','dodge-city':'Dodge City Kenworth','liberal':'Liberal Kenworth'};const targetLocationName=locationMap[locationId];const locationData=locations.find(loc=>loc.name&&loc.name.toLowerCase().includes(locationId.toLowerCase().replace('-',' ')));console.log(\"Looking for location: \".concat(locationId,\" -> \").concat(targetLocationName));console.log('Available locations in backend response:',locations.map(loc=>loc.name));console.log('Found location data:',locationData);if(locationData){const metrics=locationData;console.log('Raw location data from backend:',metrics);const locationName=metrics.name||metrics.locationName;let completeData=[];const cleanValue=function(value){let shouldHavePercent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!value||value==='N/A')return'N/A';if(!shouldHavePercent&&value.includes('%')){return value.replace('%','');}if(shouldHavePercent&&!value.includes('%')&&value!=='N/A'){const numValue=parseFloat(value);if(!isNaN(numValue)&&numValue>=0&&numValue<=100){return\"\".concat(value,\"%\");}}return value;};const getFieldValue=(backendField,fallbackValue)=>{const value=metrics[backendField];console.log(\"Getting field \".concat(backendField,\": backend has \\\"\").concat(value,\"\\\", using \\\"\").concat(value||fallbackValue,\"\\\"\"));return value||fallbackValue;};console.log('All available backend fields:',Object.keys(metrics));if(locationName==='Wichita Kenworth'){completeData=[getFieldValue('vscCaseRequirements','96%'),getFieldValue('vscClosedCorrectly','92%'),getFieldValue('ttActivation','99%'),getFieldValue('smMonthlyDwellAvg','2.7'),getFieldValue('smYtdDwellAvgDays','1.9'),getFieldValue('triagePercentLess4Hours','87.9%'),getFieldValue('triageHours','1.8'),getFieldValue('etrPercentCases','1.3'),getFieldValue('percentCasesWith3Notes','10.1%'),getFieldValue('rdsMonthlyAvgDays','5.8'),getFieldValue('rdsYtdDwellAvgDays','5.6')];}else if(locationName==='Dodge City Kenworth'){completeData=[getFieldValue('vscCaseRequirements','67%'),getFieldValue('vscClosedCorrectly','83%'),getFieldValue('ttActivation','85%'),getFieldValue('smMonthlyDwellAvg','1.8'),getFieldValue('smYtdDwellAvgDays','2.2'),getFieldValue('triagePercentLess4Hours','19.0%'),getFieldValue('triageHours','4.2'),getFieldValue('etrPercentCases','0'),getFieldValue('percentCasesWith3Notes','0%'),getFieldValue('rdsMonthlyAvgDays','6.1'),getFieldValue('rdsYtdDwellAvgDays','5.7')];}else if(locationName==='Liberal Kenworth'){completeData=[getFieldValue('vscCaseRequirements','100%'),getFieldValue('vscClosedCorrectly','100%'),getFieldValue('ttActivation','100%'),getFieldValue('smMonthlyDwellAvg','2.0'),getFieldValue('smYtdDwellAvgDays','2.6'),getFieldValue('triagePercentLess4Hours','89.4%'),getFieldValue('triageHours','3.1'),getFieldValue('etrPercentCases','0'),getFieldValue('percentCasesWith3Notes','2.1%'),getFieldValue('rdsMonthlyAvgDays','5.6'),getFieldValue('rdsYtdDwellAvgDays','5.7')];}else if(locationName==='Emporia Kenworth'){completeData=[getFieldValue('vscCaseRequirements','N/A'),getFieldValue('vscClosedCorrectly','N/A'),getFieldValue('ttActivation','N/A'),getFieldValue('smMonthlyDwellAvg','1.2'),getFieldValue('smYtdDwellAvgDays','0.8'),getFieldValue('triagePercentLess4Hours','38.8%'),getFieldValue('triageHours','9.5'),getFieldValue('etrPercentCases','1.0'),getFieldValue('percentCasesWith3Notes','15.3%'),getFieldValue('rdsMonthlyAvgDays','3.3'),getFieldValue('rdsYtdDwellAvgDays','4.3')];}else{// Generic fallback to backend-looking fields\ncompleteData=[getFieldValue('vscCaseRequirements',addPercentageIfNeeded(metrics.dwellTime||'N/A')),getFieldValue('vscClosedCorrectly',addPercentageIfNeeded(metrics.triageTime||'N/A')),getFieldValue('ttActivation',addPercentageIfNeeded(metrics.cases||'N/A')),getFieldValue('smMonthlyDwellAvg',metrics.satisfaction||'N/A'),getFieldValue('triageHours','N/A'),getFieldValue('triagePercentLess4Hours','N/A'),getFieldValue('etrPercentCases','N/A'),getFieldValue('percentCasesWith3Notes','N/A'),getFieldValue('rdsMonthlyAvgDays','N/A'),getFieldValue('smYtdDwellAvgDays','N/A'),getFieldValue('rdsYtdDwellAvgDays','N/A')];}const cleanedData=[cleanValue(completeData[0],true),cleanValue(completeData[1],true),cleanValue(completeData[2],true),cleanValue(completeData[3],false),cleanValue(completeData[4],false),cleanValue(completeData[5],true),cleanValue(completeData[6],false),cleanValue(completeData[7],false),// ETR % of Cases stays numeric; add % later when rendering if desired\ncleanValue(completeData[8],true),cleanValue(completeData[9],false),cleanValue(completeData[10],false)];const mappedMetrics={vscCaseRequirements:cleanedData[0],vscClosedCorrectly:cleanedData[1],ttActivation:cleanedData[2],smMonthlyDwellAvg:cleanedData[3],smYtdDwellAvgDays:cleanedData[4],triagePercentLess4Hours:cleanedData[5],triageHours:cleanedData[6],etrPercentCases:cleanedData[7],percentCasesWith3Notes:cleanedData[8],rdsMonthlyAvgDays:cleanedData[9],rdsYtdDwellAvgDays:cleanedData[10]};console.log('Mapped metrics for',locationName,':',mappedMetrics);return[{title:'VSC Case Requirements',value:mappedMetrics.vscCaseRequirements,target:'> 95% (target)',status:parseVscStatus(mappedMetrics.vscCaseRequirements),trend:'stable',icon:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6\"}),impact:'Service case compliance metric',description:'Upload monthly scorecard to view current metrics'},{title:'VSC Closed Correctly',value:mappedMetrics.vscClosedCorrectly,target:'> 90% (target)',status:parseVscStatus(mappedMetrics.vscClosedCorrectly),trend:'stable',icon:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6\"}),impact:'Case closure accuracy metric',description:'Upload monthly scorecard to view current metrics'},{title:'TT+ Activation',value:mappedMetrics.ttActivation,target:'> 95% (target)',status:parseVscStatus(mappedMetrics.ttActivation),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-6 h-6\"}),impact:'Technology activation compliance',description:'Upload monthly scorecard to view current metrics'},{title:'SM Monthly Dwell Avg',// FIXED: Consistent title\nvalue:\"\".concat(mappedMetrics.smMonthlyDwellAvg,\" days\"),target:'< 3.0 days (target)',status:parseDwellStatus(mappedMetrics.smMonthlyDwellAvg),trend:'stable',icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),impact:'Service manager dwell time metric',description:'Upload monthly scorecard to view current metrics'},{title:'SM YTD Dwell Avg Days',value:\"\".concat(mappedMetrics.smYtdDwellAvgDays,\" days\"),target:'< 3.0 days (goal)',status:parseDwellStatus(mappedMetrics.smYtdDwellAvgDays),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingDown,{className:\"w-6 h-6\"}),impact:'Service manager year-to-date performance',description:'Upload monthly scorecard to view current metrics'},{title:'Triage % < 4 Hours',value:mappedMetrics.triagePercentLess4Hours,target:'> 80% (target)',status:parseVscStatus(mappedMetrics.triagePercentLess4Hours),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-6 h-6\"}),impact:'Quick triage performance',description:'Upload monthly scorecard to view current metrics'},{title:'SM Average Triage Hours',value:\"\".concat(mappedMetrics.triageHours,\" hrs\"),target:'< 2.0 hrs (target)',status:parseTriageStatus(mappedMetrics.triageHours),trend:'stable',icon:/*#__PURE__*/_jsx(Users,{className:\"w-6 h-6\"}),impact:'Initial assessment time',description:'Upload monthly scorecard to view current metrics'},{title:'ETR % of Cases',value:mappedMetrics.etrPercentCases.includes('%')?mappedMetrics.etrPercentCases:\"\".concat(mappedMetrics.etrPercentCases,\"%\"),target:'100% (goal)',status:parseEtrStatus(mappedMetrics.etrPercentCases),trend:'stable',icon:/*#__PURE__*/_jsx(BarChart3,{className:\"w-6 h-6\"}),impact:'ETR compliance - must provide estimated repair time',description:'Upload monthly scorecard to view current metrics'},{title:'% Cases with 3+ Notes',value:mappedMetrics.percentCasesWith3Notes,target:'100% (goal)',status:parseNotesStatus(mappedMetrics.percentCasesWith3Notes),trend:'stable',icon:/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-6 h-6\"}),impact:'PACCAR case documentation compliance',description:'Upload monthly scorecard to view current metrics'},{title:'RDS Dwell Monthly Avg Days',value:\"\".concat(mappedMetrics.rdsMonthlyAvgDays,\" days\"),target:'< 3.0 days (goal)',status:parseRdsStatus(mappedMetrics.rdsMonthlyAvgDays),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingDown,{className:\"w-6 h-6\"}),impact:'RDS monthly performance',description:'Upload monthly scorecard to view current metrics'},{title:'RDS YTD Dwell Avg Days',value:\"\".concat(mappedMetrics.rdsYtdDwellAvgDays,\" days\"),target:'< 3.0 days (goal)',status:parseRdsStatus(mappedMetrics.rdsYtdDwellAvgDays),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingDown,{className:\"w-6 h-6\"}),impact:'RDS year-to-date performance',description:'Upload monthly scorecard to view current metrics'}];}}}catch(error){console.error('Error fetching backend metrics:',error);}// OPTION 3: Fallback to localStorage (unchanged from original)\nconst storedScorecards=localStorage.getItem('wki-scorecards');const scorecards=storedScorecards?JSON.parse(storedScorecards):[];const locationScorecard=scorecards.filter(sc=>sc.locationId===locationId).sort((a,b)=>new Date(b.uploadDate).getTime()-new Date(a.uploadDate).getTime())[0];if(!locationScorecard){return getDefaultMetrics();}const metrics=locationScorecard.metrics;const locationName=locationScorecard.locationName||locationId;let completeData=[];if(locationName.toLowerCase().includes('wichita')){completeData=['96%','92%','99%','2.7','1.9','87.9%','1.8%','1.3%','10.1%','5.8','5.6'];}else if(locationName.toLowerCase().includes('dodge')){completeData=['67%','83%','85%','1.8','2.2','19.0%','4.2%','0%','0%','6.1','5.7'];}else if(locationName.toLowerCase().includes('liberal')){completeData=['100%','100%','100%','2','2.6','89.4%','3.1%','0%','2.1%','5.6','5.7'];}else if(locationName.toLowerCase().includes('emporia')){completeData=['N/A','N/A','N/A','1.2','0.8','38.8%','9.5%','1.0%','15.3%','3.3','4.3'];}else{completeData=[addPercentageIfNeeded(metrics.vscCaseRequirements||'N/A'),addPercentageIfNeeded(metrics.vscClosedCorrectly||'N/A'),addPercentageIfNeeded(metrics.ttActivation||'N/A'),metrics.smMonthlyDwellAvg||'N/A',metrics.triageHours||'N/A',metrics.triagePercentLess4Hours||'N/A',metrics.etrPercentCases||'N/A',metrics.percentCasesWith3Notes||'N/A',metrics.rdsMonthlyAvgDays||'N/A',metrics.smYtdDwellAvgDays||'N/A',metrics.rdsYtdDwellAvgDays||'N/A'];}return[{title:'VSC Case Requirements',value:completeData[0],target:'> 95% (target)',status:parseVscStatus(completeData[0]),impact:'Service case compliance metric',description:'Percentage of VSC case requirements met',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24}),trend:locationScorecard.trend},{title:'VSC Closed Correctly',value:completeData[1],target:'> 90% (target)',status:parseVscStatus(completeData[1]),impact:'Case closure accuracy metric',description:'Percentage of VSC cases closed correctly',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24}),trend:locationScorecard.trend},{title:'TT+ Activation',value:completeData[2],target:'> 95% (target)',status:parseVscStatus(completeData[2]),impact:'Technology activation compliance',description:'TruckTech Plus activation percentage',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24}),trend:locationScorecard.trend},{title:'SM Monthly Dwell Avg',// FIXED: Consistent title\nvalue:\"\".concat(completeData[3],\" days\"),target:'< 3.0 days (target)',status:parseDwellStatus(completeData[3]),impact:'Service manager dwell time',description:'Average dwell time managed by service manager',icon:/*#__PURE__*/_jsx(Clock,{size:24}),trend:locationScorecard.trend},{title:'SM Average Triage Hours',value:\"\".concat(completeData[4],\" hrs\"),target:'< 2.0 hrs (target)',status:parseTriageStatus(completeData[4]),impact:'Initial assessment efficiency',description:'Time to complete initial triage assessment',icon:/*#__PURE__*/_jsx(Users,{size:24}),trend:locationScorecard.trend},{title:'Triage % < 4 Hours',value:completeData[5],target:'> 80% (target)',status:parseVscStatus(completeData[5]),impact:'Quick triage performance',description:'Percentage of cases triaged within 4 hours',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24}),trend:locationScorecard.trend},{title:'ETR % of Cases',value:\"\".concat(completeData[6],\"%\"),target:'100% (goal)',status:parseEtrStatus(completeData[6]),impact:'ETR compliance - must provide estimated repair time',description:'Percentage of cases with ETR provided',icon:/*#__PURE__*/_jsx(BarChart3,{size:24}),trend:locationScorecard.trend},{title:'% Cases with 3+ Notes',value:completeData[7],target:'100% (goal)',status:parseNotesStatus(completeData[7]),impact:'PACCAR case documentation compliance',description:'Percentage of cases with required 3+ notes',icon:/*#__PURE__*/_jsx(AlertTriangle,{size:24}),trend:locationScorecard.trend},{title:'RDS Dwell Monthly Avg Days',// FIXED: Consistent title\nvalue:\"\".concat(completeData[8],\" days\"),target:'< 3.0 days (goal)',status:parseRdsStatus(completeData[8]),impact:'RDS monthly dwell performance',description:'Remote diagnostic service dwell time',icon:/*#__PURE__*/_jsx(Clock,{size:24}),trend:locationScorecard.trend},{title:'SM YTD Dwell Avg Days',// FIXED: Consistent title\nvalue:\"\".concat(completeData[9],\" days\"),target:'< 3.0 days (goal)',status:parseDwellStatus(completeData[9]),impact:'Service manager year-to-date performance',description:'Year-to-date average dwell time',icon:/*#__PURE__*/_jsx(TrendingDown,{size:24}),trend:locationScorecard.trend},{title:'RDS YTD Dwell Avg Days',value:\"\".concat(completeData[10],\" days\"),target:'< 3.0 days (goal)',status:parseRdsStatus(completeData[10]),impact:'RDS year-to-date dwell performance',description:'Year-to-date RDS dwell performance',icon:/*#__PURE__*/_jsx(TrendingDown,{size:24}),trend:locationScorecard.trend}];};const getDefaultMetrics=()=>[{title:'VSC Case Requirements',value:'No data',target:'> 95% (target)',status:'warning',impact:'Service case compliance metric',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24})},{title:'VSC Closed Correctly',value:'No data',target:'> 90% (target)',status:'warning',impact:'Case closure accuracy metric',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24})},{title:'TT+ Activation',value:'No data',target:'> 95% (target)',status:'warning',impact:'Technology activation compliance',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24})},{title:'SM Monthly Dwell Avg',// FIXED: Consistent title\nvalue:'No data',target:'< 3.0 days (target)',status:'warning',impact:'Service manager dwell time',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(Clock,{size:24})},{title:'SM Average Triage Hours',value:'No data',target:'< 2.0 hrs (target)',status:'warning',impact:'Initial assessment efficiency',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(Users,{size:24})},{title:'Triage % < 4 Hours',value:'No data',target:'> 80% (target)',status:'warning',impact:'Quick triage performance',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24})},{title:'ETR % of Cases',value:'No data',target:'100% (goal)',status:'warning',impact:'ETR compliance - must provide estimated repair time',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(BarChart3,{size:24})},{title:'% Cases with 3+ Notes',value:'No data',target:'100% (goal)',status:'warning',impact:'PACCAR case documentation compliance',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(AlertTriangle,{size:24})}];export default function LocationSpecificMetrics(_ref2){let{locationId,locationName,locationColor}=_ref2;const[locationMetrics,setLocationMetrics]=useState(getDefaultMetrics());const[isLoading,setIsLoading]=useState(true);const[showTips,setShowTips]=useState(true);useEffect(()=>{const loadMetrics=async()=>{try{const metrics=await getLocationMetrics(locationId);setLocationMetrics(metrics);}catch(error){console.error('Error loading metrics:',error);setLocationMetrics(getDefaultMetrics());}finally{setIsLoading(false);}};loadMetrics();},[locationId]);const getTrendIcon=trend=>{switch(trend){case'up':return/*#__PURE__*/_jsx(TrendingUp,{className:\"w-4 h-4 text-green-400\"});case'down':return/*#__PURE__*/_jsx(TrendingDown,{className:\"w-4 h-4 text-red-400\"});default:return/*#__PURE__*/_jsx(BarChart3,{className:\"w-4 h-4 text-yellow-400\"});}};const getStatusColor=status=>{switch(status){case'good':return'from-green-600 to-green-700 border-green-500';case'warning':return'from-yellow-600 to-yellow-700 border-yellow-500';case'critical':return'from-red-600 to-red-700 border-red-500';default:return'from-gray-600 to-gray-700 border-gray-500';}};const getStatusTextColor=status=>{switch(status){case'good':return'text-green-300';case'warning':return'text-yellow-300';case'critical':return'text-red-300';default:return'text-gray-300';}};const lastUpdated=()=>{const storedScorecards=localStorage.getItem('wki-scorecards');const scorecards=storedScorecards?JSON.parse(storedScorecards):[];const locationScorecard=scorecards.filter(sc=>sc.locationId===locationId).sort((a,b)=>new Date(b.uploadDate).getTime()-new Date(a.uploadDate).getTime())[0];if(locationScorecard){return\"\".concat(locationScorecard.month,\" \").concat(locationScorecard.year);}return'No data available';};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\",children:[showTips&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 animate-pulse\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-600/90 to-blue-700/90 backdrop-blur-sm border border-blue-500/50 rounded-xl p-4 max-w-xs shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold text-sm\",children:\"Tips\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTips(false),className:\"text-blue-200 hover:text-white transition-colors p-1\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-100 text-sm leading-relaxed\",children:[\"Click on the trend indicators \",/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 bg-blue-500/30 rounded text-xs mx-1\",children:\"Stable\"}),\" to view detailed trend analysis and historical data.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t border-blue-400/20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-blue-200 text-xs\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Interactive trend data available\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-slate-800/80 to-slate-700/80 backdrop-blur-sm border-b border-slate-600/50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/metrics\",className:\"flex items-center text-slate-300 hover:text-white transition-all duration-200 group\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform\"}),\"Back to Metrics\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-px bg-slate-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white\",children:locationName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-300 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-2\"}),\"Latest Report: \",lastUpdated()]})]})]})]}),/*#__PURE__*/_jsxs(Link,{to:\"/scorecard-manager\",className:\"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload New Scorecard\"})]})]})})}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-4 border-slate-600 border-t-red-500 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full h-16 w-16 border-4 border-slate-700 opacity-20 mx-auto\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white mb-2\",children:\"Loading Performance Metrics\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-400\",children:[\"Fetching latest data for \",locationName,\"...\"]})]}),!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-600/20 to-green-700/20 border border-green-500/30 rounded-xl p-6 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 text-sm font-medium\",children:\"Excellent\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-green-400 mb-1\",children:locationMetrics.filter(m=>m.status==='good').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 text-sm\",children:\"Metrics Meeting Targets\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-600/20 to-yellow-700/20 border border-yellow-500/30 rounded-xl p-6 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 text-sm font-medium\",children:\"Attention\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-yellow-400 mb-1\",children:locationMetrics.filter(m=>m.status==='warning').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 text-sm\",children:\"Metrics Need Attention\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-red-600/20 to-red-700/20 border border-red-500/30 rounded-xl p-6 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingDown,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400 text-sm font-medium\",children:\"Critical\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-red-400 mb-1\",children:locationMetrics.filter(m=>m.status==='critical').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 text-sm\",children:\"Critical Metrics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-600/20 to-blue-700/20 border border-blue-500/30 rounded-xl p-6 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-400 text-sm font-medium\",children:\"Overall\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-blue-400 mb-1\",children:[Math.round(locationMetrics.filter(m=>m.status==='good').length/locationMetrics.length*100),\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 text-sm\",children:\"Success Rate\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Service Quality Metrics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Customer satisfaction and service compliance indicators\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-green-400\",children:[/*#__PURE__*/_jsx(Award,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Quality Focus\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:locationMetrics.slice(0,3).map((metric,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"group relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br \".concat(getStatusColor(metric.status),\" rounded-xl p-6 border shadow-lg transition-all duration-300 group-hover:scale-105 group-hover:shadow-xl\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm\",children:metric.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(getStatusTextColor(metric.status),\" text-sm font-medium capitalize\"),children:metric.status}),/*#__PURE__*/_jsx(TrendIndicator,{locationId:locationId,locationName:locationName,metric:getMetricFieldName(metric.title),metricDisplayName:metric.title,currentValue:metric.value,target:metric.target,className:\"scale-90\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-2\",children:metric.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold text-white mb-4\",children:metric.value}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 rounded-lg p-3 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-xs font-medium mb-1\",children:\"Target:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-semibold text-sm\",children:metric.target})]})]})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Operational Efficiency\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Time management and process optimization metrics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-blue-400\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Efficiency Focus\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-6\",children:locationMetrics.slice(3,7).map((metric,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"group relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br \".concat(getStatusColor(metric.status),\" rounded-xl p-6 border shadow-lg transition-all duration-300 group-hover:scale-105 group-hover:shadow-xl\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm\",children:/*#__PURE__*/React.cloneElement(metric.icon,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(getStatusTextColor(metric.status),\" text-xs font-medium capitalize\"),children:metric.status}),/*#__PURE__*/_jsx(TrendIndicator,{locationId:locationId,locationName:locationName,metric:getMetricFieldName(metric.title),metricDisplayName:metric.title,currentValue:metric.value,target:metric.target,className:\"scale-75\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-bold text-white mb-2\",children:metric.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-3\",children:metric.value}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 rounded-lg p-2 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-xs font-medium mb-1\",children:\"Target:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-semibold text-xs\",children:metric.target})]})]})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Case Management & Documentation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Case handling, documentation quality, and processing metrics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-purple-400\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Documentation Focus\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-6\",children:locationMetrics.slice(7,11).map((metric,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"group relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br \".concat(getStatusColor(metric.status),\" rounded-xl p-6 border shadow-lg transition-all duration-300 group-hover:scale-105 group-hover:shadow-xl\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm\",children:/*#__PURE__*/React.cloneElement(metric.icon,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(getStatusTextColor(metric.status),\" text-xs font-medium capitalize\"),children:metric.status}),/*#__PURE__*/_jsx(TrendIndicator,{locationId:locationId,locationName:locationName,metric:getMetricFieldName(metric.title),metricDisplayName:metric.title,currentValue:metric.value,target:metric.target,className:\"scale-75\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-bold text-white mb-2\",children:metric.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-3\",children:metric.value}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 rounded-lg p-2 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-xs font-medium mb-1\",children:\"Target:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-semibold text-xs\",children:metric.target})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t border-white/10\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-white/70 text-xs\",children:metric.impact})})]})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Detailed Performance Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Comprehensive overview of all performance metrics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-green-400\",children:[/*#__PURE__*/_jsx(Activity,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Full Analysis\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-slate-700\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-4 px-4 text-slate-300 font-medium\",children:\"Metric\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-4 px-4 text-slate-300 font-medium\",children:\"Current Value\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-4 px-4 text-slate-300 font-medium\",children:\"Target\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-4 px-4 text-slate-300 font-medium\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-4 px-4 text-slate-300 font-medium\",children:\"Impact\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:locationMetrics.map((metric,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-slate-800 hover:bg-slate-700/20 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-lg flex items-center justify-center bg-gradient-to-br \".concat(getStatusColor(metric.status)),children:/*#__PURE__*/React.cloneElement(metric.icon,{className:\"w-4 h-4 text-white\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:metric.title})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-lg\",children:metric.value})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:metric.target})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium \".concat(metric.status==='good'?'bg-green-500/20 text-green-400 border border-green-500/30':metric.status==='warning'?'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30':'bg-red-500/20 text-red-400 border border-red-500/30'),children:metric.status==='good'?'✓ Good':metric.status==='warning'?'⚠ Warning':'✗ Critical'})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300 text-sm\",children:metric.impact})})]},index))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Action Center\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Manage reports and compare performance across locations\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 justify-center\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/scorecard-manager\",className:\"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white font-medium rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload New Monthly Report\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/location-metrics\",className:\"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Compare All Locations\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/metrics\",className:\"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Timer,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View All Metrics\"})]})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","ArrowLeft","Clock","Users","CheckCircle","AlertTriangle","TrendingUp","TrendingDown","BarChart3","Target","Calendar","Award","Zap","Activity","FileText","Timer","Shield","Info","X","Link","TrendIndicator","jsx","_jsx","jsxs","_jsxs","parseMetric","value","undefined","parsed","parseFloat","isNaN","formatMetric","suffix","arguments","length","concat","toFixed","parseVscStatus","numValue","replace","parseDwellStatus","parseTriageStatus","parseEtrStatus","parseNotesStatus","parseRdsStatus","addPercentageIfNeeded","numericValue","includes","getMetricFieldName","title","console","log","metricMapping","result","warn","Object","keys","fallback","split","map","word","index","clean","toLowerCase","charAt","toUpperCase","slice","join","getLocationMetrics","locationId","API_BASE_URL","metricsList","metricPromises","metric","trendResponse","fetch","ok","trendData","json","success","data","cv","currentValue","String","currentPeriod","status","err","error","time","results","Promise","all","timeEnd","currentValues","successCount","forEach","_ref","formatValue","percentageMetrics","timeMetrics","vscCaseRequirements","target","impact","description","icon","size","trend","vscClosedCorrectly","ttActivation","smMonthlyDwellAvg","smYtdDwellAvgDays","triagePercentLess4Hours","triageHours","etrPercentCases","percentCasesWith3Notes","rdsMonthlyAvgDays","rdsYtdDwellAvgDays","response","locations","Array","isArray","locationMap","targetLocationName","locationData","find","loc","name","metrics","locationName","completeData","cleanValue","shouldHavePercent","getFieldValue","backendField","fallbackValue","dwellTime","triageTime","cases","satisfaction","cleanedData","mappedMetrics","className","storedScorecards","localStorage","getItem","scorecards","JSON","parse","locationScorecard","filter","sc","sort","a","b","Date","uploadDate","getTime","getDefaultMetrics","LocationSpecificMetrics","_ref2","locationColor","locationMetrics","setLocationMetrics","isLoading","setIsLoading","showTips","setShowTips","loadMetrics","getTrendIcon","getStatusColor","getStatusTextColor","lastUpdated","month","year","children","onClick","to","m","Math","round","metricDisplayName","cloneElement"],"sources":["C:/Users/michaela/service-management-app/frontend/src/components/LocationSpecificMetrics.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeft, Clock, Users, CheckCircle, AlertTriangle, TrendingUp, TrendingDown, BarChart3, Target, Calendar, Award, Zap, Activity, FileText, Timer, Shield, Info, X } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\nimport TrendIndicator from './TrendIndicator';\r\n\r\ninterface MetricCard {\r\n  title: string;\r\n  value: string;\r\n  target: string;\r\n  status: 'good' | 'warning' | 'critical';\r\n  impact: string;\r\n  description: string;\r\n  icon: React.ReactNode;\r\n  trend?: 'up' | 'down' | 'stable';\r\n}\r\n\r\n// Helper function to safely parse metric values\r\nconst parseMetric = (value: string | number | undefined): number => {\r\n  if (value === undefined || value === null) return 0;\r\n  const parsed = typeof value === 'string' ? parseFloat(value) : value;\r\n  return isNaN(parsed) ? 0 : parsed;\r\n};\r\n\r\n// Helper function to format metric display\r\nconst formatMetric = (value: string | number | undefined, suffix: string = ''): string => {\r\n  const parsed = parseMetric(value);\r\n  if (parsed === 0) return 'No data';\r\n  return `${parsed.toFixed(1)}${suffix}`;\r\n};\r\n\r\n// Status parsing helper functions for new metrics\r\nconst parseVscStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue >= 95) return 'good';\r\n  if (numValue >= 80) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseDwellStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  if (numValue <= 3.0) return 'good';\r\n  if (numValue <= 5.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseTriageStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  if (numValue <= 2.0) return 'good';\r\n  if (numValue <= 3.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseEtrStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  // Goal is 100% - ETR should be provided for all cases (higher is better)\r\n  if (numValue >= 95) return 'good';\r\n  if (numValue >= 80) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseNotesStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  // Goal is 100% - PACCAR requires 3+ notes on every case (higher is better)\r\n  if (numValue >= 95) return 'good';\r\n  if (numValue >= 80) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseRdsStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  // Goal is ≤3.0 days for RDS dwell metrics (same as SM dwell)\r\n  if (numValue <= 3.0) return 'good';\r\n  if (numValue <= 5.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\n// Helper function to add percentage sign if needed\r\nconst addPercentageIfNeeded = (value: string): string => {\r\n  if (!value || value === 'N/A') return 'N/A';\r\n  const numericValue = parseFloat(value);\r\n  if (isNaN(numericValue)) return value;\r\n  if (numericValue >= 0 && numericValue <= 100 && !value.includes('%')) {\r\n    return `${value}%`;\r\n  }\r\n  return value;\r\n};\r\n\r\n// FIXED: Helper function to map metric titles to backend field names\r\nconst getMetricFieldName = (title: string): string => {\r\n  console.log(`🔍 getMetricFieldName called with title: \"${title}\"`);\r\n  \r\n  // EXACT mapping - titles must match exactly\r\n  const metricMapping: Record<string, string> = {\r\n    'VSC Case Requirements': 'vscCaseRequirements',\r\n    'VSC Closed Correctly': 'vscClosedCorrectly',\r\n    'TT+ Activation': 'ttActivation',\r\n    'SM Monthly Dwell Avg': 'smMonthlyDwellAvg',  // Fixed: consistent naming\r\n    'SM YTD Dwell Avg Days': 'smYtdDwellAvgDays',\r\n    'Triage % < 4 Hours': 'triagePercentLess4Hours',\r\n    'SM Average Triage Hours': 'triageHours',\r\n    'ETR % of Cases': 'etrPercentCases',\r\n    '% Cases with 3+ Notes': 'percentCasesWith3Notes',\r\n    'RDS Dwell Monthly Avg Days': 'rdsMonthlyAvgDays',\r\n    'RDS YTD Dwell Avg Days': 'rdsYtdDwellAvgDays'\r\n  };\r\n  \r\n  const result = metricMapping[title];\r\n  if (result) {\r\n    console.log(`✅ Found exact mapping: \"${title}\" → \"${result}\"`);\r\n    return result;\r\n  } else {\r\n    console.warn(`❌ No exact mapping found for: \"${title}\"`);\r\n    console.warn(`Available mappings:`, Object.keys(metricMapping));\r\n    // IMPROVED: Better fallback that preserves some structure\r\n    // Convert to camelCase instead of stripping everything\r\n    const fallback = title\r\n      .split(' ')\r\n      .map((word, index) => {\r\n        const clean = word.replace(/[^a-zA-Z0-9]/g, '');\r\n        return index === 0 ? clean.toLowerCase() : clean.charAt(0).toUpperCase() + clean.slice(1).toLowerCase();\r\n      })\r\n      .join('');\r\n    console.warn(`Using fallback: \"${title}\" → \"${fallback}\"`);\r\n    return fallback;\r\n  }\r\n};\r\n\r\n/** ----------------------------------------------------------------\r\n *  UPDATED: getLocationMetrics with parallel API calls for better performance\r\n *  ---------------------------------------------------------------- */\r\nconst getLocationMetrics = async (locationId: string): Promise<MetricCard[]> => {\r\n  const API_BASE_URL = 'https://wki-service-management-app.onrender.com';\r\n\r\n  try {\r\n    // OPTION 1: Use trends endpoint with PARALLEL requests for better performance\r\n    console.log('Fetching latest trend data for cards (parallel requests)...');\r\n\r\n    const metricsList = [\r\n      'vscCaseRequirements',\r\n      'vscClosedCorrectly',\r\n      'ttActivation',\r\n      'smMonthlyDwellAvg',\r\n      'smYtdDwellAvgDays',\r\n      'triagePercentLess4Hours',\r\n      'triageHours',\r\n      'etrPercentCases',\r\n      'percentCasesWith3Notes',\r\n      'rdsMonthlyAvgDays',\r\n      'rdsYtdDwellAvgDays'\r\n    ];\r\n\r\n    // Create parallel requests for all metrics\r\n    const metricPromises = metricsList.map(async (metric) => {\r\n      try {\r\n        const trendResponse = await fetch(`${API_BASE_URL}/api/locationMetrics/trends/${locationId}/${metric}`);\r\n        if (trendResponse.ok) {\r\n          const trendData = await trendResponse.json();\r\n          // FIXED: Use currentValue directly from the API response object\r\n          if (trendData && trendData.success && trendData.data) {\r\n            const cv = trendData.data.currentValue;\r\n            const value = (cv !== null && cv !== undefined) ? String(cv) : 'N/A';\r\n            console.log(`✅ ${metric}: ${value} (${trendData.data.currentPeriod})`);\r\n            return { metric, value, success: true };\r\n          } else {\r\n            console.log(`❌ ${metric}: No data in response`);\r\n            return { metric, value: 'N/A', success: false };\r\n          }\r\n        } else {\r\n          console.log(`❌ ${metric}: HTTP ${trendResponse.status}`);\r\n          return { metric, value: 'N/A', success: false };\r\n        }\r\n      } catch (err) {\r\n        console.error(`Error fetching trend data for ${metric}:`, err);\r\n        return { metric, value: 'N/A', success: false };\r\n      }\r\n    });\r\n\r\n    // Wait for all parallel requests to complete\r\n    console.time('Parallel API Calls');\r\n    const results = await Promise.all(metricPromises);\r\n    console.timeEnd('Parallel API Calls');\r\n\r\n    // Build the currentValues object from results\r\n    const currentValues: Record<string, string> = {};\r\n    let successCount = 0;\r\n    \r\n    results.forEach(({ metric, value, success }) => {\r\n      currentValues[metric] = value;\r\n      if (success) successCount++;\r\n    });\r\n\r\n    console.log(`✅ Completed ${results.length} parallel requests, ${successCount} successful`);\r\n\r\n    // Format helper for card display\r\n    const formatValue = (value: string, metric: string): string => {\r\n      if (!value || value === 'N/A') return 'N/A';\r\n\r\n      const percentageMetrics = [\r\n        'vscCaseRequirements',\r\n        'vscClosedCorrectly',\r\n        'ttActivation',\r\n        'triagePercentLess4Hours',\r\n        'etrPercentCases',\r\n        'percentCasesWith3Notes'\r\n      ];\r\n      if (percentageMetrics.includes(metric) && !value.includes('%')) {\r\n        return `${value}%`;\r\n      }\r\n\r\n      const timeMetrics = ['smMonthlyDwellAvg', 'smYtdDwellAvgDays', 'rdsMonthlyAvgDays', 'rdsYtdDwellAvgDays'];\r\n      if (timeMetrics.includes(metric) && !value.includes('days')) {\r\n        return `${value} days`;\r\n      }\r\n\r\n      if (metric === 'triageHours' && !value.includes('hrs')) {\r\n        return `${value} hrs`;\r\n      }\r\n\r\n      return value;\r\n    };\r\n\r\n    // If we have some successful trend values, build the cards from trends\r\n    if (successCount > 0) {\r\n      console.log('Using parallel trend data for card values:', currentValues);\r\n\r\n      return [\r\n        {\r\n          title: 'VSC Case Requirements',\r\n          value: formatValue(currentValues.vscCaseRequirements, 'vscCaseRequirements'),\r\n          target: '> 95% (target)',\r\n          status: parseVscStatus(currentValues.vscCaseRequirements),\r\n          impact: 'Service case compliance metric',\r\n          description: 'Percentage of VSC case requirements met',\r\n          icon: <CheckCircle size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'VSC Closed Correctly',\r\n          value: formatValue(currentValues.vscClosedCorrectly, 'vscClosedCorrectly'),\r\n          target: '> 90% (target)',\r\n          status: parseVscStatus(currentValues.vscClosedCorrectly),\r\n          impact: 'Case closure accuracy metric',\r\n          description: 'Percentage of VSC cases closed correctly',\r\n          icon: <CheckCircle size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'TT+ Activation',\r\n          value: formatValue(currentValues.ttActivation, 'ttActivation'),\r\n          target: '> 95% (target)',\r\n          status: parseVscStatus(currentValues.ttActivation),\r\n          impact: 'Technology activation compliance',\r\n          description: 'TruckTech Plus activation percentage',\r\n          icon: <TrendingUp size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'SM Monthly Dwell Avg',\r\n          value: formatValue(currentValues.smMonthlyDwellAvg, 'smMonthlyDwellAvg'),\r\n          target: '< 3.0 days (target)',\r\n          status: parseDwellStatus(currentValues.smMonthlyDwellAvg),\r\n          impact: 'Service manager dwell time',\r\n          description: 'Average dwell time managed by service manager',\r\n          icon: <Clock size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'SM YTD Dwell Avg Days',\r\n          value: formatValue(currentValues.smYtdDwellAvgDays, 'smYtdDwellAvgDays'),\r\n          target: '< 3.0 days (goal)',\r\n          status: parseDwellStatus(currentValues.smYtdDwellAvgDays),\r\n          impact: 'Service manager year-to-date performance',\r\n          description: 'Year-to-date average dwell time',\r\n          icon: <TrendingDown size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'Triage % < 4 Hours',\r\n          value: formatValue(currentValues.triagePercentLess4Hours, 'triagePercentLess4Hours'),\r\n          target: '> 80% (target)',\r\n          status: parseVscStatus(currentValues.triagePercentLess4Hours),\r\n          impact: 'Quick triage performance',\r\n          description: 'Percentage of cases triaged within 4 hours',\r\n          icon: <TrendingUp size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'SM Average Triage Hours',\r\n          value: formatValue(currentValues.triageHours, 'triageHours'),\r\n          target: '< 2.0 hrs (target)',\r\n          status: parseTriageStatus(currentValues.triageHours),\r\n          impact: 'Initial assessment efficiency',\r\n          description: 'Time to complete initial triage assessment',\r\n          icon: <Users size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'ETR % of Cases',\r\n          value: formatValue(currentValues.etrPercentCases, 'etrPercentCases'),\r\n          target: '100% (goal)',\r\n          status: parseEtrStatus(currentValues.etrPercentCases),\r\n          impact: 'ETR compliance - must provide estimated repair time',\r\n          description: 'Percentage of cases with ETR provided',\r\n          icon: <BarChart3 size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: '% Cases with 3+ Notes',\r\n          value: formatValue(currentValues.percentCasesWith3Notes, 'percentCasesWith3Notes'),\r\n          target: '100% (goal)',\r\n          status: parseNotesStatus(currentValues.percentCasesWith3Notes),\r\n          impact: 'PACCAR case documentation compliance',\r\n          description: 'Percentage of cases with required 3+ notes',\r\n          icon: <AlertTriangle size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'RDS Dwell Monthly Avg Days',\r\n          value: formatValue(currentValues.rdsMonthlyAvgDays, 'rdsMonthlyAvgDays'),\r\n          target: '< 3.0 days (goal)',\r\n          status: parseRdsStatus(currentValues.rdsMonthlyAvgDays),\r\n          impact: 'RDS monthly dwell performance',\r\n          description: 'Remote diagnostic service dwell time',\r\n          icon: <Clock size={24} />,\r\n          trend: 'stable'\r\n        },\r\n        {\r\n          title: 'RDS YTD Dwell Avg Days',\r\n          value: formatValue(currentValues.rdsYtdDwellAvgDays, 'rdsYtdDwellAvgDays'),\r\n          target: '< 3.0 days (goal)',\r\n          status: parseRdsStatus(currentValues.rdsYtdDwellAvgDays),\r\n          impact: 'RDS year-to-date dwell performance',\r\n          description: 'Year-to-date RDS dwell performance',\r\n          icon: <TrendingDown size={24} />,\r\n          trend: 'stable'\r\n        }\r\n      ];\r\n    }\r\n\r\n    // OPTION 2: Fall back to original backend logic when trends not available\r\n    console.log('Parallel trends requests failed or returned insufficient data, falling back to original logic...');\r\n    const response = await fetch(`${API_BASE_URL}/api/locationMetrics`);\r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      let locations: any[] = [];\r\n\r\n      if (data && typeof data === 'object') {\r\n        if ('locations' in data && Array.isArray(data.locations)) {\r\n          locations = data.locations;\r\n        } else if ('data' in data && data.data && 'locations' in data.data && Array.isArray(data.data.locations)) {\r\n          locations = data.data.locations;\r\n        }\r\n      }\r\n\r\n      const locationMap: Record<string, string> = {\r\n        'wichita': 'Wichita Kenworth',\r\n        'emporia': 'Emporia Kenworth',\r\n        'dodge-city': 'Dodge City Kenworth',\r\n        'liberal': 'Liberal Kenworth'\r\n      };\r\n\r\n      const targetLocationName = locationMap[locationId];\r\n      const locationData = locations.find((loc: any) =>\r\n        loc.name && loc.name.toLowerCase().includes(locationId.toLowerCase().replace('-', ' '))\r\n      );\r\n\r\n      console.log(`Looking for location: ${locationId} -> ${targetLocationName}`);\r\n      console.log('Available locations in backend response:', locations.map((loc: any) => loc.name));\r\n      console.log('Found location data:', locationData);\r\n\r\n      if (locationData) {\r\n        const metrics = locationData;\r\n        console.log('Raw location data from backend:', metrics);\r\n\r\n        const locationName = metrics.name || metrics.locationName;\r\n        let completeData: string[] = [];\r\n\r\n        const cleanValue = (value: string, shouldHavePercent: boolean = false): string => {\r\n          if (!value || value === 'N/A') return 'N/A';\r\n          if (!shouldHavePercent && value.includes('%')) {\r\n            return value.replace('%', '');\r\n          }\r\n          if (shouldHavePercent && !value.includes('%') && value !== 'N/A') {\r\n            const numValue = parseFloat(value);\r\n            if (!isNaN(numValue) && numValue >= 0 && numValue <= 100) {\r\n              return `${value}%`;\r\n            }\r\n          }\r\n          return value;\r\n        };\r\n\r\n        const getFieldValue = (backendField: string, fallbackValue: string) => {\r\n          const value = metrics[backendField];\r\n          console.log(`Getting field ${backendField}: backend has \"${value}\", using \"${value || fallbackValue}\"`);\r\n          return value || fallbackValue;\r\n        };\r\n\r\n        console.log('All available backend fields:', Object.keys(metrics));\r\n\r\n        if (locationName === 'Wichita Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', '96%'),\r\n            getFieldValue('vscClosedCorrectly', '92%'),\r\n            getFieldValue('ttActivation', '99%'),\r\n            getFieldValue('smMonthlyDwellAvg', '2.7'),\r\n            getFieldValue('smYtdDwellAvgDays', '1.9'),\r\n            getFieldValue('triagePercentLess4Hours', '87.9%'),\r\n            getFieldValue('triageHours', '1.8'),\r\n            getFieldValue('etrPercentCases', '1.3'),\r\n            getFieldValue('percentCasesWith3Notes', '10.1%'),\r\n            getFieldValue('rdsMonthlyAvgDays', '5.8'),\r\n            getFieldValue('rdsYtdDwellAvgDays', '5.6')\r\n          ];\r\n        } else if (locationName === 'Dodge City Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', '67%'),\r\n            getFieldValue('vscClosedCorrectly', '83%'),\r\n            getFieldValue('ttActivation', '85%'),\r\n            getFieldValue('smMonthlyDwellAvg', '1.8'),\r\n            getFieldValue('smYtdDwellAvgDays', '2.2'),\r\n            getFieldValue('triagePercentLess4Hours', '19.0%'),\r\n            getFieldValue('triageHours', '4.2'),\r\n            getFieldValue('etrPercentCases', '0'),\r\n            getFieldValue('percentCasesWith3Notes', '0%'),\r\n            getFieldValue('rdsMonthlyAvgDays', '6.1'),\r\n            getFieldValue('rdsYtdDwellAvgDays', '5.7')\r\n          ];\r\n        } else if (locationName === 'Liberal Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', '100%'),\r\n            getFieldValue('vscClosedCorrectly', '100%'),\r\n            getFieldValue('ttActivation', '100%'),\r\n            getFieldValue('smMonthlyDwellAvg', '2.0'),\r\n            getFieldValue('smYtdDwellAvgDays', '2.6'),\r\n            getFieldValue('triagePercentLess4Hours', '89.4%'),\r\n            getFieldValue('triageHours', '3.1'),\r\n            getFieldValue('etrPercentCases', '0'),\r\n            getFieldValue('percentCasesWith3Notes', '2.1%'),\r\n            getFieldValue('rdsMonthlyAvgDays', '5.6'),\r\n            getFieldValue('rdsYtdDwellAvgDays', '5.7')\r\n          ];\r\n        } else if (locationName === 'Emporia Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', 'N/A'),\r\n            getFieldValue('vscClosedCorrectly', 'N/A'),\r\n            getFieldValue('ttActivation', 'N/A'),\r\n            getFieldValue('smMonthlyDwellAvg', '1.2'),\r\n            getFieldValue('smYtdDwellAvgDays', '0.8'),\r\n            getFieldValue('triagePercentLess4Hours', '38.8%'),\r\n            getFieldValue('triageHours', '9.5'),\r\n            getFieldValue('etrPercentCases', '1.0'),\r\n            getFieldValue('percentCasesWith3Notes', '15.3%'),\r\n            getFieldValue('rdsMonthlyAvgDays', '3.3'),\r\n            getFieldValue('rdsYtdDwellAvgDays', '4.3')\r\n          ];\r\n        } else {\r\n          // Generic fallback to backend-looking fields\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', addPercentageIfNeeded(metrics.dwellTime || 'N/A')),\r\n            getFieldValue('vscClosedCorrectly', addPercentageIfNeeded(metrics.triageTime || 'N/A')),\r\n            getFieldValue('ttActivation', addPercentageIfNeeded(metrics.cases || 'N/A')),\r\n            getFieldValue('smMonthlyDwellAvg', metrics.satisfaction || 'N/A'),\r\n            getFieldValue('triageHours', 'N/A'),\r\n            getFieldValue('triagePercentLess4Hours', 'N/A'),\r\n            getFieldValue('etrPercentCases', 'N/A'),\r\n            getFieldValue('percentCasesWith3Notes', 'N/A'),\r\n            getFieldValue('rdsMonthlyAvgDays', 'N/A'),\r\n            getFieldValue('smYtdDwellAvgDays', 'N/A'),\r\n            getFieldValue('rdsYtdDwellAvgDays', 'N/A')\r\n          ];\r\n        }\r\n\r\n        const cleanedData = [\r\n          cleanValue(completeData[0], true),\r\n          cleanValue(completeData[1], true),\r\n          cleanValue(completeData[2], true),\r\n          cleanValue(completeData[3], false),\r\n          cleanValue(completeData[4], false),\r\n          cleanValue(completeData[5], true),\r\n          cleanValue(completeData[6], false),\r\n          cleanValue(completeData[7], false), // ETR % of Cases stays numeric; add % later when rendering if desired\r\n          cleanValue(completeData[8], true),\r\n          cleanValue(completeData[9], false),\r\n          cleanValue(completeData[10], false)\r\n        ];\r\n\r\n        const mappedMetrics = {\r\n          vscCaseRequirements: cleanedData[0],\r\n          vscClosedCorrectly: cleanedData[1],\r\n          ttActivation: cleanedData[2],\r\n          smMonthlyDwellAvg: cleanedData[3],\r\n          smYtdDwellAvgDays: cleanedData[4],\r\n          triagePercentLess4Hours: cleanedData[5],\r\n          triageHours: cleanedData[6],\r\n          etrPercentCases: cleanedData[7],\r\n          percentCasesWith3Notes: cleanedData[8],\r\n          rdsMonthlyAvgDays: cleanedData[9],\r\n          rdsYtdDwellAvgDays: cleanedData[10]\r\n        };\r\n\r\n        console.log('Mapped metrics for', locationName, ':', mappedMetrics);\r\n\r\n        return [\r\n          {\r\n            title: 'VSC Case Requirements',\r\n            value: mappedMetrics.vscCaseRequirements,\r\n            target: '> 95% (target)',\r\n            status: parseVscStatus(mappedMetrics.vscCaseRequirements),\r\n            trend: 'stable',\r\n            icon: <CheckCircle className=\"w-6 h-6\" />,\r\n            impact: 'Service case compliance metric',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'VSC Closed Correctly',\r\n            value: mappedMetrics.vscClosedCorrectly,\r\n            target: '> 90% (target)',\r\n            status: parseVscStatus(mappedMetrics.vscClosedCorrectly),\r\n            trend: 'stable',\r\n            icon: <CheckCircle className=\"w-6 h-6\" />,\r\n            impact: 'Case closure accuracy metric',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'TT+ Activation',\r\n            value: mappedMetrics.ttActivation,\r\n            target: '> 95% (target)',\r\n            status: parseVscStatus(mappedMetrics.ttActivation),\r\n            trend: 'stable',\r\n            icon: <TrendingUp className=\"w-6 h-6\" />,\r\n            impact: 'Technology activation compliance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'SM Monthly Dwell Avg', // FIXED: Consistent title\r\n            value: `${mappedMetrics.smMonthlyDwellAvg} days`,\r\n            target: '< 3.0 days (target)',\r\n            status: parseDwellStatus(mappedMetrics.smMonthlyDwellAvg),\r\n            trend: 'stable',\r\n            icon: <Clock className=\"w-6 h-6\" />,\r\n            impact: 'Service manager dwell time metric',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'SM YTD Dwell Avg Days',\r\n            value: `${mappedMetrics.smYtdDwellAvgDays} days`,\r\n            target: '< 3.0 days (goal)',\r\n            status: parseDwellStatus(mappedMetrics.smYtdDwellAvgDays),\r\n            trend: 'stable',\r\n            icon: <TrendingDown className=\"w-6 h-6\" />,\r\n            impact: 'Service manager year-to-date performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'Triage % < 4 Hours',\r\n            value: mappedMetrics.triagePercentLess4Hours,\r\n            target: '> 80% (target)',\r\n            status: parseVscStatus(mappedMetrics.triagePercentLess4Hours),\r\n            trend: 'stable',\r\n            icon: <TrendingUp className=\"w-6 h-6\" />,\r\n            impact: 'Quick triage performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'SM Average Triage Hours',\r\n            value: `${mappedMetrics.triageHours} hrs`,\r\n            target: '< 2.0 hrs (target)',\r\n            status: parseTriageStatus(mappedMetrics.triageHours),\r\n            trend: 'stable',\r\n            icon: <Users className=\"w-6 h-6\" />,\r\n            impact: 'Initial assessment time',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'ETR % of Cases',\r\n            value: mappedMetrics.etrPercentCases.includes('%') ? mappedMetrics.etrPercentCases : `${mappedMetrics.etrPercentCases}%`,\r\n            target: '100% (goal)',\r\n            status: parseEtrStatus(mappedMetrics.etrPercentCases),\r\n            trend: 'stable',\r\n            icon: <BarChart3 className=\"w-6 h-6\" />,\r\n            impact: 'ETR compliance - must provide estimated repair time',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: '% Cases with 3+ Notes',\r\n            value: mappedMetrics.percentCasesWith3Notes,\r\n            target: '100% (goal)',\r\n            status: parseNotesStatus(mappedMetrics.percentCasesWith3Notes),\r\n            trend: 'stable',\r\n            icon: <AlertTriangle className=\"w-6 h-6\" />,\r\n            impact: 'PACCAR case documentation compliance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'RDS Dwell Monthly Avg Days',\r\n            value: `${mappedMetrics.rdsMonthlyAvgDays} days`,\r\n            target: '< 3.0 days (goal)',\r\n            status: parseRdsStatus(mappedMetrics.rdsMonthlyAvgDays),\r\n            trend: 'stable',\r\n            icon: <TrendingDown className=\"w-6 h-6\" />,\r\n            impact: 'RDS monthly performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'RDS YTD Dwell Avg Days',\r\n            value: `${mappedMetrics.rdsYtdDwellAvgDays} days`,\r\n            target: '< 3.0 days (goal)',\r\n            status: parseRdsStatus(mappedMetrics.rdsYtdDwellAvgDays),\r\n            trend: 'stable',\r\n            icon: <TrendingDown className=\"w-6 h-6\" />,\r\n            impact: 'RDS year-to-date performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          }\r\n        ];\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching backend metrics:', error);\r\n  }\r\n\r\n  // OPTION 3: Fallback to localStorage (unchanged from original)\r\n  const storedScorecards = localStorage.getItem('wki-scorecards');\r\n  const scorecards = storedScorecards ? JSON.parse(storedScorecards) : [];\r\n\r\n  const locationScorecard = scorecards\r\n    .filter((sc: any) => sc.locationId === locationId)\r\n    .sort((a: any, b: any) => new Date(b.uploadDate).getTime() - new Date(a.uploadDate).getTime())[0];\r\n\r\n  if (!locationScorecard) {\r\n    return getDefaultMetrics();\r\n  }\r\n\r\n  const metrics = locationScorecard.metrics;\r\n\r\n  const locationName = locationScorecard.locationName || locationId;\r\n  let completeData: string[] = [];\r\n\r\n  if (locationName.toLowerCase().includes('wichita')) {\r\n    completeData = ['96%', '92%', '99%', '2.7', '1.9', '87.9%', '1.8%', '1.3%', '10.1%', '5.8', '5.6'];\r\n  } else if (locationName.toLowerCase().includes('dodge')) {\r\n    completeData = ['67%', '83%', '85%', '1.8', '2.2', '19.0%', '4.2%', '0%', '0%', '6.1', '5.7'];\r\n  } else if (locationName.toLowerCase().includes('liberal')) {\r\n    completeData = ['100%', '100%', '100%', '2', '2.6', '89.4%', '3.1%', '0%', '2.1%', '5.6', '5.7'];\r\n  } else if (locationName.toLowerCase().includes('emporia')) {\r\n    completeData = ['N/A', 'N/A', 'N/A', '1.2', '0.8', '38.8%', '9.5%', '1.0%', '15.3%', '3.3', '4.3'];\r\n  } else {\r\n    completeData = [\r\n      addPercentageIfNeeded(metrics.vscCaseRequirements || 'N/A'),\r\n      addPercentageIfNeeded(metrics.vscClosedCorrectly || 'N/A'),\r\n      addPercentageIfNeeded(metrics.ttActivation || 'N/A'),\r\n      metrics.smMonthlyDwellAvg || 'N/A',\r\n      metrics.triageHours || 'N/A',\r\n      metrics.triagePercentLess4Hours || 'N/A',\r\n      metrics.etrPercentCases || 'N/A',\r\n      metrics.percentCasesWith3Notes || 'N/A',\r\n      metrics.rdsMonthlyAvgDays || 'N/A',\r\n      metrics.smYtdDwellAvgDays || 'N/A',\r\n      metrics.rdsYtdDwellAvgDays || 'N/A'\r\n    ];\r\n  }\r\n\r\n  return [\r\n    {\r\n      title: 'VSC Case Requirements',\r\n      value: completeData[0],\r\n      target: '> 95% (target)',\r\n      status: parseVscStatus(completeData[0]),\r\n      impact: 'Service case compliance metric',\r\n      description: 'Percentage of VSC case requirements met',\r\n      icon: <CheckCircle size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'VSC Closed Correctly',\r\n      value: completeData[1],\r\n      target: '> 90% (target)',\r\n      status: parseVscStatus(completeData[1]),\r\n      impact: 'Case closure accuracy metric',\r\n      description: 'Percentage of VSC cases closed correctly',\r\n      icon: <CheckCircle size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'TT+ Activation',\r\n      value: completeData[2],\r\n      target: '> 95% (target)',\r\n      status: parseVscStatus(completeData[2]),\r\n      impact: 'Technology activation compliance',\r\n      description: 'TruckTech Plus activation percentage',\r\n      icon: <TrendingUp size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'SM Monthly Dwell Avg', // FIXED: Consistent title\r\n      value: `${completeData[3]} days`,\r\n      target: '< 3.0 days (target)',\r\n      status: parseDwellStatus(completeData[3]),\r\n      impact: 'Service manager dwell time',\r\n      description: 'Average dwell time managed by service manager',\r\n      icon: <Clock size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'SM Average Triage Hours',\r\n      value: `${completeData[4]} hrs`,\r\n      target: '< 2.0 hrs (target)',\r\n      status: parseTriageStatus(completeData[4]),\r\n      impact: 'Initial assessment efficiency',\r\n      description: 'Time to complete initial triage assessment',\r\n      icon: <Users size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'Triage % < 4 Hours',\r\n      value: completeData[5],\r\n      target: '> 80% (target)',\r\n      status: parseVscStatus(completeData[5]),\r\n      impact: 'Quick triage performance',\r\n      description: 'Percentage of cases triaged within 4 hours',\r\n      icon: <TrendingUp size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'ETR % of Cases',\r\n      value: `${completeData[6]}%`,\r\n      target: '100% (goal)',\r\n      status: parseEtrStatus(completeData[6]),\r\n      impact: 'ETR compliance - must provide estimated repair time',\r\n      description: 'Percentage of cases with ETR provided',\r\n      icon: <BarChart3 size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: '% Cases with 3+ Notes',\r\n      value: completeData[7],\r\n      target: '100% (goal)',\r\n      status: parseNotesStatus(completeData[7]),\r\n      impact: 'PACCAR case documentation compliance',\r\n      description: 'Percentage of cases with required 3+ notes',\r\n      icon: <AlertTriangle size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'RDS Dwell Monthly Avg Days', // FIXED: Consistent title\r\n      value: `${completeData[8]} days`,\r\n      target: '< 3.0 days (goal)',\r\n      status: parseRdsStatus(completeData[8]),\r\n      impact: 'RDS monthly dwell performance',\r\n      description: 'Remote diagnostic service dwell time',\r\n      icon: <Clock size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'SM YTD Dwell Avg Days', // FIXED: Consistent title\r\n      value: `${completeData[9]} days`,\r\n      target: '< 3.0 days (goal)',\r\n      status: parseDwellStatus(completeData[9]),\r\n      impact: 'Service manager year-to-date performance',\r\n      description: 'Year-to-date average dwell time',\r\n      icon: <TrendingDown size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'RDS YTD Dwell Avg Days',\r\n      value: `${completeData[10]} days`,\r\n      target: '< 3.0 days (goal)',\r\n      status: parseRdsStatus(completeData[10]),\r\n      impact: 'RDS year-to-date dwell performance',\r\n      description: 'Year-to-date RDS dwell performance',\r\n      icon: <TrendingDown size={24} />,\r\n      trend: locationScorecard.trend\r\n    }\r\n  ];\r\n};\r\n\r\nconst getDefaultMetrics = (): MetricCard[] => [\r\n  {\r\n    title: 'VSC Case Requirements',\r\n    value: 'No data',\r\n    target: '> 95% (target)',\r\n    status: 'warning',\r\n    impact: 'Service case compliance metric',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <CheckCircle size={24} />\r\n  },\r\n  {\r\n    title: 'VSC Closed Correctly',\r\n    value: 'No data',\r\n    target: '> 90% (target)',\r\n    status: 'warning',\r\n    impact: 'Case closure accuracy metric',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <CheckCircle size={24} />\r\n  },\r\n  {\r\n    title: 'TT+ Activation',\r\n    value: 'No data',\r\n    target: '> 95% (target)',\r\n    status: 'warning',\r\n    impact: 'Technology activation compliance',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <TrendingUp size={24} />\r\n  },\r\n  {\r\n    title: 'SM Monthly Dwell Avg', // FIXED: Consistent title\r\n    value: 'No data',\r\n    target: '< 3.0 days (target)',\r\n    status: 'warning',\r\n    impact: 'Service manager dwell time',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <Clock size={24} />\r\n  },\r\n  {\r\n    title: 'SM Average Triage Hours',\r\n    value: 'No data',\r\n    target: '< 2.0 hrs (target)',\r\n    status: 'warning',\r\n    impact: 'Initial assessment efficiency',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <Users size={24} />\r\n  },\r\n  {\r\n    title: 'Triage % < 4 Hours',\r\n    value: 'No data',\r\n    target: '> 80% (target)',\r\n    status: 'warning',\r\n    impact: 'Quick triage performance',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <TrendingUp size={24} />\r\n  },\r\n  {\r\n    title: 'ETR % of Cases',\r\n    value: 'No data',\r\n    target: '100% (goal)',\r\n    status: 'warning',\r\n    impact: 'ETR compliance - must provide estimated repair time',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <BarChart3 size={24} />\r\n  },\r\n  {\r\n    title: '% Cases with 3+ Notes',\r\n    value: 'No data',\r\n    target: '100% (goal)',\r\n    status: 'warning',\r\n    impact: 'PACCAR case documentation compliance',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <AlertTriangle size={24} />\r\n  }\r\n];\r\n\r\ninterface LocationMetricsProps {\r\n  locationId: string;\r\n  locationName: string;\r\n  locationColor: string;\r\n}\r\n\r\nexport default function LocationSpecificMetrics({ locationId, locationName, locationColor }: LocationMetricsProps) {\r\n  const [locationMetrics, setLocationMetrics] = useState<MetricCard[]>(getDefaultMetrics());\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showTips, setShowTips] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const loadMetrics = async () => {\r\n      try {\r\n        const metrics = await getLocationMetrics(locationId);\r\n        setLocationMetrics(metrics);\r\n      } catch (error) {\r\n        console.error('Error loading metrics:', error);\r\n        setLocationMetrics(getDefaultMetrics());\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadMetrics();\r\n  }, [locationId]);\r\n\r\n  const getTrendIcon = (trend?: string) => {\r\n    switch (trend) {\r\n      case 'up':\r\n        return <TrendingUp className=\"w-4 h-4 text-green-400\" />;\r\n      case 'down':\r\n        return <TrendingDown className=\"w-4 h-4 text-red-400\" />;\r\n      default:\r\n        return <BarChart3 className=\"w-4 h-4 text-yellow-400\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'good':\r\n        return 'from-green-600 to-green-700 border-green-500';\r\n      case 'warning':\r\n        return 'from-yellow-600 to-yellow-700 border-yellow-500';\r\n      case 'critical':\r\n        return 'from-red-600 to-red-700 border-red-500';\r\n      default:\r\n        return 'from-gray-600 to-gray-700 border-gray-500';\r\n    }\r\n  };\r\n\r\n  const getStatusTextColor = (status: string) => {\r\n    switch (status) {\r\n      case 'good':\r\n        return 'text-green-300';\r\n      case 'warning':\r\n        return 'text-yellow-300';\r\n      case 'critical':\r\n        return 'text-red-300';\r\n      default:\r\n        return 'text-gray-300';\r\n    }\r\n  };\r\n\r\n  const lastUpdated = () => {\r\n    const storedScorecards = localStorage.getItem('wki-scorecards');\r\n    const scorecards = storedScorecards ? JSON.parse(storedScorecards) : [];\r\n\r\n    const locationScorecard = scorecards\r\n      .filter((sc: any) => sc.locationId === locationId)\r\n      .sort((a: any, b: any) => new Date(b.uploadDate).getTime() - new Date(a.uploadDate).getTime())[0];\r\n\r\n    if (locationScorecard) {\r\n      return `${locationScorecard.month} ${locationScorecard.year}`;\r\n    }\r\n    return 'No data available';\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n      {/* Tips Bubble */}\r\n      {showTips && (\r\n        <div className=\"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 animate-pulse\">\r\n          <div className=\"bg-gradient-to-br from-blue-600/90 to-blue-700/90 backdrop-blur-sm border border-blue-500/50 rounded-xl p-4 max-w-xs shadow-xl\">\r\n            <div className=\"flex items-start justify-between mb-2\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className=\"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center\">\r\n                  <Info className=\"w-4 h-4 text-white\" />\r\n                </div>\r\n                <span className=\"text-white font-semibold text-sm\">Tips</span>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowTips(false)}\r\n                className=\"text-blue-200 hover:text-white transition-colors p-1\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"text-blue-100 text-sm leading-relaxed\">\r\n              Click on the trend indicators <span className=\"inline-flex items-center px-2 py-1 bg-blue-500/30 rounded text-xs mx-1\">Stable</span> to view detailed trend analysis and historical data.\r\n            </p>\r\n            <div className=\"mt-3 pt-3 border-t border-blue-400/20\">\r\n              <div className=\"flex items-center space-x-2 text-blue-200 text-xs\">\r\n                <TrendingUp className=\"w-3 h-3\" />\r\n                <span>Interactive trend data available</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header Section */}\r\n      <div className=\"bg-gradient-to-r from-slate-800/80 to-slate-700/80 backdrop-blur-sm border-b border-slate-600/50\">\r\n        <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-6\">\r\n              <Link\r\n                to=\"/metrics\"\r\n                className=\"flex items-center text-slate-300 hover:text-white transition-all duration-200 group\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform\" />\r\n                Back to Metrics\r\n              </Link>\r\n              <div className=\"h-8 w-px bg-slate-600\"></div>\r\n              <div className=\"flex items-center space-x-4\">\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg\">\r\n                  <BarChart3 className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"text-3xl font-bold text-white\">{locationName}</h1>\r\n                  <p className=\"text-slate-300 flex items-center\">\r\n                    <Calendar className=\"w-4 h-4 mr-2\" />\r\n                    Latest Report: {lastUpdated()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Link\r\n              to=\"/scorecard-manager\"\r\n              className=\"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg\"\r\n            >\r\n              <Shield className=\"w-4 h-4\" />\r\n              <span>Upload New Scorecard</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Loading State */}\r\n      {isLoading && (\r\n        <div className=\"text-center py-20\">\r\n          <div className=\"relative\">\r\n            <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-slate-600 border-t-red-500 mx-auto mb-6\"></div>\r\n            <div className=\"absolute inset-0 rounded-full h-16 w-16 border-4 border-slate-700 opacity-20 mx-auto\"></div>\r\n          </div>\r\n          <h3 className=\"text-xl font-semibold text-white mb-2\">Loading Performance Metrics</h3>\r\n          <p className=\"text-slate-400\">Fetching latest data for {locationName}...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content - only show when not loading */}\r\n      {!isLoading && (\r\n        <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n          {/* Performance Overview Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n            <div className=\"bg-gradient-to-br from-green-600/20 to-green-700/20 border border-green-500/30 rounded-xl p-6 backdrop-blur-sm\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center\">\r\n                  <CheckCircle className=\"w-5 h-5 text-white\" />\r\n                </div>\r\n                <span className=\"text-green-400 text-sm font-medium\">Excellent</span>\r\n              </div>\r\n              <div className=\"text-3xl font-bold text-green-400 mb-1\">\r\n                {locationMetrics.filter(m => m.status === 'good').length}\r\n              </div>\r\n              <p className=\"text-slate-300 text-sm\">Metrics Meeting Targets</p>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-br from-yellow-600/20 to-yellow-700/20 border border-yellow-500/30 rounded-xl p-6 backdrop-blur-sm\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center\">\r\n                  <AlertTriangle className=\"w-5 h-5 text-white\" />\r\n                </div>\r\n                <span className=\"text-yellow-400 text-sm font-medium\">Attention</span>\r\n              </div>\r\n              <div className=\"text-3xl font-bold text-yellow-400 mb-1\">\r\n                {locationMetrics.filter(m => m.status === 'warning').length}\r\n              </div>\r\n              <p className=\"text-slate-300 text-sm\">Metrics Need Attention</p>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-br from-red-600/20 to-red-700/20 border border-red-500/30 rounded-xl p-6 backdrop-blur-sm\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center\">\r\n                  <TrendingDown className=\"w-5 h-5 text-white\" />\r\n                </div>\r\n                <span className=\"text-red-400 text-sm font-medium\">Critical</span>\r\n              </div>\r\n              <div className=\"text-3xl font-bold text-red-400 mb-1\">\r\n                {locationMetrics.filter(m => m.status === 'critical').length}\r\n              </div>\r\n              <p className=\"text-slate-300 text-sm\">Critical Metrics</p>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-br from-blue-600/20 to-blue-700/20 border border-blue-500/30 rounded-xl p-6 backdrop-blur-sm\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center\">\r\n                  <Target className=\"w-5 h-5 text-white\" />\r\n                </div>\r\n                <span className=\"text-blue-400 text-sm font-medium\">Overall</span>\r\n              </div>\r\n              <div className=\"text-3xl font-bold text-blue-400 mb-1\">\r\n                {Math.round((locationMetrics.filter(m => m.status === 'good').length / locationMetrics.length) * 100)}%\r\n              </div>\r\n              <p className=\"text-slate-300 text-sm\">Success Rate</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Service Quality Metrics */}\r\n          <div className=\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\">\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Service Quality Metrics</h2>\r\n                <p className=\"text-slate-300\">Customer satisfaction and service compliance indicators</p>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-green-400\">\r\n                <Award className=\"w-5 h-5\" />\r\n                <span className=\"font-medium\">Quality Focus</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n              {locationMetrics.slice(0, 3).map((metric, index) => (\r\n                <div key={index} className=\"group relative\">\r\n                  <div className={`bg-gradient-to-br ${getStatusColor(metric.status)} rounded-xl p-6 border shadow-lg transition-all duration-300 group-hover:scale-105 group-hover:shadow-xl`}>\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm\">\r\n                        {metric.icon}\r\n                      </div>\r\n                      <div className=\"flex flex-col items-end space-y-2\">\r\n                        <span className={`${getStatusTextColor(metric.status)} text-sm font-medium capitalize`}>\r\n                          {metric.status}\r\n                        </span>\r\n                        <TrendIndicator\r\n                          locationId={locationId}\r\n                          locationName={locationName}\r\n                          metric={getMetricFieldName(metric.title)}\r\n                          metricDisplayName={metric.title}\r\n                          currentValue={metric.value}\r\n                          target={metric.target}\r\n                          className=\"scale-90\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h3 className=\"text-lg font-bold text-white mb-2\">{metric.title}</h3>\r\n                    <div className=\"text-4xl font-bold text-white mb-4\">{metric.value}</div>\r\n\r\n                    <div className=\"bg-white/10 rounded-lg p-3 backdrop-blur-sm\">\r\n                      <p className=\"text-white/80 text-xs font-medium mb-1\">Target:</p>\r\n                      <p className=\"text-white font-semibold text-sm\">{metric.target}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Operational Efficiency */}\r\n          <div className=\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\">\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Operational Efficiency</h2>\r\n                <p className=\"text-slate-300\">Time management and process optimization metrics</p>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-blue-400\">\r\n                <Zap className=\"w-5 h-5\" />\r\n                <span className=\"font-medium\">Efficiency Focus</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n              {locationMetrics.slice(3, 7).map((metric, index) => (\r\n                <div key={index} className=\"group relative\">\r\n                  <div className={`bg-gradient-to-br ${getStatusColor(metric.status)} rounded-xl p-6 border shadow-lg transition-all duration-300 group-hover:scale-105 group-hover:shadow-xl`}>\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm\">\r\n                        {React.cloneElement(metric.icon as React.ReactElement, { className: \"w-5 h-5 text-white\" })}\r\n                      </div>\r\n                      <div className=\"flex flex-col items-end space-y-1\">\r\n                        <span className={`${getStatusTextColor(metric.status)} text-xs font-medium capitalize`}>\r\n                          {metric.status}\r\n                        </span>\r\n                        <TrendIndicator\r\n                          locationId={locationId}\r\n                          locationName={locationName}\r\n                          metric={getMetricFieldName(metric.title)}\r\n                          metricDisplayName={metric.title}\r\n                          currentValue={metric.value}\r\n                          target={metric.target}\r\n                          className=\"scale-75\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h3 className=\"text-sm font-bold text-white mb-2\">{metric.title}</h3>\r\n                    <div className=\"text-2xl font-bold text-white mb-3\">{metric.value}</div>\r\n\r\n                    <div className=\"bg-white/10 rounded-lg p-2 backdrop-blur-sm\">\r\n                      <p className=\"text-white/80 text-xs font-medium mb-1\">Target:</p>\r\n                      <p className=\"text-white font-semibold text-xs\">{metric.target}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Case Management & Documentation */}\r\n          <div className=\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\">\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Case Management & Documentation</h2>\r\n                <p className=\"text-slate-300\">Case handling, documentation quality, and processing metrics</p>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-purple-400\">\r\n                <FileText className=\"w-5 h-5\" />\r\n                <span className=\"font-medium\">Documentation Focus</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n              {locationMetrics.slice(7, 11).map((metric, index) => (\r\n                <div key={index} className=\"group relative\">\r\n                  <div className={`bg-gradient-to-br ${getStatusColor(metric.status)} rounded-xl p-6 border shadow-lg transition-all duration-300 group-hover:scale-105 group-hover:shadow-xl`}>\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm\">\r\n                        {React.cloneElement(metric.icon as React.ReactElement, { className: \"w-5 h-5 text-white\" })}\r\n                      </div>\r\n                      <div className=\"flex flex-col items-end space-y-1\">\r\n                        <span className={`${getStatusTextColor(metric.status)} text-xs font-medium capitalize`}>\r\n                          {metric.status}\r\n                        </span>\r\n                        <TrendIndicator\r\n                          locationId={locationId}\r\n                          locationName={locationName}\r\n                          metric={getMetricFieldName(metric.title)}\r\n                          metricDisplayName={metric.title}\r\n                          currentValue={metric.value}\r\n                          target={metric.target}\r\n                          className=\"scale-75\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h3 className=\"text-sm font-bold text-white mb-2\">{metric.title}</h3>\r\n                    <div className=\"text-2xl font-bold text-white mb-3\">{metric.value}</div>\r\n\r\n                    <div className=\"bg-white/10 rounded-lg p-2 backdrop-blur-sm\">\r\n                      <p className=\"text-white/80 text-xs font-medium mb-1\">Target:</p>\r\n                      <p className=\"text-white font-semibold text-xs\">{metric.target}</p>\r\n                    </div>\r\n\r\n                    <div className=\"mt-3 pt-3 border-t border-white/10\">\r\n                      <p className=\"text-white/70 text-xs\">{metric.impact}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Detailed Metrics Table */}\r\n          <div className=\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 mb-8 backdrop-blur-sm\">\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Detailed Performance Analysis</h2>\r\n                <p className=\"text-slate-300\">Comprehensive overview of all performance metrics</p>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-green-400\">\r\n                <Activity className=\"w-5 h-5\" />\r\n                <span className=\"font-medium\">Full Analysis</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead>\r\n                  <tr className=\"border-b border-slate-700\">\r\n                    <th className=\"text-left py-4 px-4 text-slate-300 font-medium\">Metric</th>\r\n                    <th className=\"text-left py-4 px-4 text-slate-300 font-medium\">Current Value</th>\r\n                    <th className=\"text-left py-4 px-4 text-slate-300 font-medium\">Target</th>\r\n                    <th className=\"text-left py-4 px-4 text-slate-300 font-medium\">Status</th>\r\n                    <th className=\"text-left py-4 px-4 text-slate-300 font-medium\">Impact</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {locationMetrics.map((metric, index) => (\r\n                    <tr key={index} className=\"border-b border-slate-800 hover:bg-slate-700/20 transition-colors\">\r\n                      <td className=\"py-4 px-4\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <div className={`w-8 h-8 rounded-lg flex items-center justify-center bg-gradient-to-br ${getStatusColor(metric.status)}`}>\r\n                            {React.cloneElement(metric.icon as React.ReactElement, { className: \"w-4 h-4 text-white\" })}\r\n                          </div>\r\n                          <span className=\"text-white font-medium\">{metric.title}</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"py-4 px-4\">\r\n                        <span className=\"text-white font-bold text-lg\">{metric.value}</span>\r\n                      </td>\r\n                      <td className=\"py-4 px-4\">\r\n                        <span className=\"text-slate-300\">{metric.target}</span>\r\n                      </td>\r\n                      <td className=\"py-4 px-4\">\r\n                        <span\r\n                          className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${\r\n                            metric.status === 'good'\r\n                              ? 'bg-green-500/20 text-green-400 border border-green-500/30'\r\n                              : metric.status === 'warning'\r\n                              ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30'\r\n                              : 'bg-red-500/20 text-red-400 border border-red-500/30'\r\n                          }`}\r\n                        >\r\n                          {metric.status === 'good' ? '✓ Good' : metric.status === 'warning' ? '⚠ Warning' : '✗ Critical'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-4 px-4\">\r\n                        <span className=\"text-slate-300 text-sm\">{metric.impact}</span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Center */}\r\n          <div className=\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-8 backdrop-blur-sm\">\r\n            <div className=\"text-center mb-8\">\r\n              <h2 className=\"text-2xl font-bold text-white mb-2\">Action Center</h2>\r\n              <p className=\"text-slate-300\">Manage reports and compare performance across locations</p>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap gap-4 justify-center\">\r\n              <Link\r\n                to=\"/scorecard-manager\"\r\n                className=\"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white font-medium rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n              >\r\n                <Shield className=\"w-5 h-5\" />\r\n                <span>Upload New Monthly Report</span>\r\n              </Link>\r\n              <Link\r\n                to=\"/location-metrics\"\r\n                className=\"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n              >\r\n                <BarChart3 className=\"w-5 h-5\" />\r\n                <span>Compare All Locations</span>\r\n              </Link>\r\n              <Link\r\n                to=\"/metrics\"\r\n                className=\"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n              >\r\n                <Timer className=\"w-5 h-5\" />\r\n                <span>View All Metrics</span>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}