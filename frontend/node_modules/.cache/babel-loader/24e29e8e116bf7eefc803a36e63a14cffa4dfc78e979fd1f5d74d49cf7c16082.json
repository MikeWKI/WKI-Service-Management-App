{"ast":null,"code":"import React,{useState,useEffect}from'react';import{ArrowLeft,Clock,Users,CheckCircle,AlertTriangle,TrendingUp,TrendingDown,BarChart3}from'lucide-react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// Helper function to safely parse metric values\nconst parseMetric=value=>{if(value===undefined||value===null)return 0;const parsed=typeof value==='string'?parseFloat(value):value;return isNaN(parsed)?0:parsed;};// Helper function to format metric display\nconst formatMetric=function(value){let suffix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';const parsed=parseMetric(value);if(parsed===0)return'No data';return\"\".concat(parsed.toFixed(1)).concat(suffix);};// Status parsing helper functions for new metrics\nconst parseVscStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue>=95)return'good';if(numValue>=80)return'warning';return'critical';};const parseDwellStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);if(numValue<=3.0)return'good';if(numValue<=5.0)return'warning';return'critical';};const parseTriageStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);if(numValue<=2.0)return'good';if(numValue<=3.0)return'warning';return'critical';};const parseEtrStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue>=15)return'good';if(numValue>=10)return'warning';return'critical';};const parseNotesStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue<=5)return'good';if(numValue<=10)return'warning';return'critical';};const parseRdsStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);if(numValue<=6.0)return'good';if(numValue<=8.0)return'warning';return'critical';};// Helper function to add percentage sign if needed\nconst addPercentageIfNeeded=value=>{if(!value||value==='N/A')return'N/A';const numericValue=parseFloat(value);if(isNaN(numericValue))return value;// If the value looks like a percentage (0-100 range) and doesn't already have %\nif(numericValue>=0&&numericValue<=100&&!value.includes('%')){return\"\".concat(value,\"%\");}return value;};// This would be dynamically loaded from uploaded scorecard data\nconst getLocationMetrics=async locationId=>{const API_BASE_URL='https://wki-service-management-app.onrender.com';try{// First try to fetch from backend\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/api/locationMetrics\"));if(response.ok){const data=await response.json();let locations=[];// Handle different response structures\nif(data&&typeof data==='object'){if('locations'in data&&Array.isArray(data.locations)){locations=data.locations;}else if('data'in data&&data.data&&'locations'in data.data&&Array.isArray(data.data.locations)){locations=data.data.locations;}}// Find the specific location by matching the locationId with location names\nconst locationMap={'wichita':'Wichita Kenworth','emporia':'Emporia Kenworth','dodge-city':'Dodge City Kenworth','liberal':'Liberal Kenworth'};const targetLocationName=locationMap[locationId];const locationData=locations.find(loc=>loc.name&&loc.name.toLowerCase().includes(locationId.toLowerCase().replace('-',' ')));console.log(\"Looking for location: \".concat(locationId,\" -> \").concat(targetLocationName));console.log('Available locations in backend response:',locations.map(loc=>loc.name));console.log('Found location data:',locationData);if(locationData){const metrics=locationData;// Map the old backend field names to the new W370 metrics structure\n// Based on the PDF table, the backend currently only returns 4 values:\n// dwellTime -> VSC Case Requirements (96%)\n// triageTime -> VSC Closed Correctly (92%) \n// cases -> TT+ Activation (99%)\n// satisfaction -> SM Monthly Dwell Avg (2.7)\nconsole.log('Raw location data from backend:',metrics);// Create a complete data mapping using backend data when available\nconst locationName=metrics.name||metrics.locationName;let completeData=[];// Map backend fields to our W370 metrics structure\n// Backend returns: triageHours, etrPercentCases, triagePercentLess4Hours, etc.\n// We need to map these to the correct positions in our 11-field array\n// Use backend data when available, fallback to hardcoded values otherwise\nconst getFieldValue=(backendField,fallbackValue)=>{const value=metrics[backendField];console.log(\"Getting field \".concat(backendField,\": backend has \\\"\").concat(value,\"\\\", using \\\"\").concat(value||fallbackValue,\"\\\"\"));return value||fallbackValue;};if(locationName==='Wichita Kenworth'){completeData=[getFieldValue('vscCaseRequirements','96%'),// 1. VSC Case Requirements\ngetFieldValue('vscClosedCorrectly','92%'),// 2. VSC Closed Correctly  \ngetFieldValue('ttActivation','99%'),// 3. TT+ Activation\ngetFieldValue('smMonthlyDwellAvg','2.7'),// 4. SM Monthly Dwell Avg\ngetFieldValue('smYtdDwellAvgDays','5.8'),// 5. SM YTD Dwell Avg Days\ngetFieldValue('triagePercentLess4Hours','87.9%'),// 6. Triage % < 4 Hours (SWAPPED)\ngetFieldValue('triageHours','1.9'),// 7. Triage Hours (SWAPPED)\ngetFieldValue('etrPercentCases','1.8'),// 8. ETR % of Cases\ngetFieldValue('percentCasesWith3Notes','1.3%'),// 9. % Cases with 3+ Notes\ngetFieldValue('rdsMonthlyAvgDays','10.1%'),// 10. RDS Monthly Avg Days\ngetFieldValue('rdsYtdDwellAvgDays','5.6')// 11. RDS YTD Dwell Avg Days\n];}else if(locationName==='Dodge City Kenworth'){completeData=[getFieldValue('vscCaseRequirements','67%'),// 1. VSC Case Requirements\ngetFieldValue('vscClosedCorrectly','83%'),// 2. VSC Closed Correctly\ngetFieldValue('ttActivation','85%'),// 3. TT+ Activation \ngetFieldValue('smMonthlyDwellAvg','1.8'),// 4. SM Monthly Dwell Avg\ngetFieldValue('smYtdDwellAvgDays','6.1'),// 5. SM YTD Dwell Avg Days\ngetFieldValue('triagePercentLess4Hours','19.0%'),// 6. Triage % < 4 Hours (SWAPPED)\ngetFieldValue('triageHours','2.2'),// 7. Triage Hours (SWAPPED)\ngetFieldValue('etrPercentCases','4.2'),// 8. ETR % of Cases\ngetFieldValue('percentCasesWith3Notes','0%'),// 9. % Cases with 3+ Notes\ngetFieldValue('rdsMonthlyAvgDays','0%'),// 10. RDS Monthly Avg Days\ngetFieldValue('rdsYtdDwellAvgDays','5.7')// 11. RDS YTD Dwell Avg Days\n];}else if(locationName==='Liberal Kenworth'){completeData=[getFieldValue('vscCaseRequirements','100%'),// 1. VSC Case Requirements\ngetFieldValue('vscClosedCorrectly','100%'),// 2. VSC Closed Correctly\ngetFieldValue('ttActivation','100%'),// 3. TT+ Activation\ngetFieldValue('smMonthlyDwellAvg','2'),// 4. SM Monthly Dwell Avg \ngetFieldValue('smYtdDwellAvgDays','5.6'),// 5. SM YTD Dwell Avg Days\ngetFieldValue('triagePercentLess4Hours','89.4%'),// 6. Triage % < 4 Hours (SWAPPED)\ngetFieldValue('triageHours','2.6'),// 7. Triage Hours (SWAPPED)\ngetFieldValue('etrPercentCases','3.1'),// 8. ETR % of Cases\ngetFieldValue('percentCasesWith3Notes','0%'),// 9. % Cases with 3+ Notes\ngetFieldValue('rdsMonthlyAvgDays','2.1%'),// 10. RDS Monthly Avg Days\ngetFieldValue('rdsYtdDwellAvgDays','5.7')// 11. RDS YTD Dwell Avg Days\n];}else if(locationName==='Emporia Kenworth'){completeData=[getFieldValue('vscCaseRequirements','N/A'),// 1. VSC Case Requirements\ngetFieldValue('vscClosedCorrectly','N/A'),// 2. VSC Closed Correctly\ngetFieldValue('ttActivation','N/A'),// 3. TT+ Activation\ngetFieldValue('smMonthlyDwellAvg','1.2'),// 4. SM Monthly Dwell Avg\ngetFieldValue('smYtdDwellAvgDays','3.3'),// 5. SM YTD Dwell Avg Days\ngetFieldValue('triagePercentLess4Hours','38.8%'),// 6. Triage % < 4 Hours (SWAPPED)\ngetFieldValue('triageHours','0.8'),// 7. Triage Hours (SWAPPED)\ngetFieldValue('etrPercentCases','9.5'),// 8. ETR % of Cases\ngetFieldValue('percentCasesWith3Notes','1.0%'),// 9. % Cases with 3+ Notes\ngetFieldValue('rdsMonthlyAvgDays','15.3%'),// 10. RDS Monthly Avg Days\ngetFieldValue('rdsYtdDwellAvgDays','4.3')// 11. RDS YTD Dwell Avg Days\n];}else{// Fallback to backend data if available\ncompleteData=[getFieldValue('vscCaseRequirements',addPercentageIfNeeded(metrics.dwellTime||'N/A')),getFieldValue('vscClosedCorrectly',addPercentageIfNeeded(metrics.triageTime||'N/A')),getFieldValue('ttActivation',addPercentageIfNeeded(metrics.cases||'N/A')),getFieldValue('smMonthlyDwellAvg',metrics.satisfaction||'N/A'),getFieldValue('triageHours','N/A'),getFieldValue('triagePercentLess4Hours','N/A'),getFieldValue('etrPercentCases','N/A'),getFieldValue('percentCasesWith3Notes','N/A'),getFieldValue('rdsMonthlyAvgDays','N/A'),getFieldValue('smYtdDwellAvgDays','N/A'),getFieldValue('rdsYtdDwellAvgDays','N/A')];}const mappedMetrics={vscCaseRequirements:completeData[0],// Position 0: VSC Case Requirements\nvscClosedCorrectly:completeData[1],// Position 1: VSC Closed Correctly\nttActivation:completeData[2],// Position 2: TT+ Activation\nsmMonthlyDwellAvg:completeData[3],// Position 3: SM Monthly Dwell Avg\nsmYtdDwellAvgDays:completeData[4],// Position 4: SM YTD Dwell Avg Days\ntriagePercentLess4Hours:completeData[5],// Position 5: Triage % < 4 Hours (SWAPPED)\ntriageHours:completeData[6],// Position 6: Triage Hours (SWAPPED)\netrPercentCases:completeData[7],// Position 7: ETR % of Cases\npercentCasesWith3Notes:completeData[8],// Position 8: % Cases with 3+ Notes\nrdsMonthlyAvgDays:completeData[9],// Position 9: RDS Monthly Avg Days\nrdsYtdDwellAvgDays:completeData[10]// Position 10: RDS YTD Dwell Avg Days\n};console.log('Mapped metrics for',locationName,':',mappedMetrics);console.log('Card mapping check:');console.log('- VSC Case Requirements card will show:',mappedMetrics.vscCaseRequirements);console.log('- VSC Closed Correctly card will show:',mappedMetrics.vscClosedCorrectly);console.log('- TT+ Activation card will show:',mappedMetrics.ttActivation);console.log('- SM Monthly Dwell Avg card will show:',mappedMetrics.smMonthlyDwellAvg);console.log('- Triage Hours card will show:',mappedMetrics.triageHours);console.log('- Triage % < 4 Hours card will show:',mappedMetrics.triagePercentLess4Hours);console.log('- ETR % of Cases card will show:',mappedMetrics.etrPercentCases);console.log('- % Cases with 3+ Notes card will show:',mappedMetrics.percentCasesWith3Notes);return[{title:'VSC Case Requirements',// Position 1\nvalue:mappedMetrics.vscCaseRequirements,target:'> 95% (target)',status:parseVscStatus(mappedMetrics.vscCaseRequirements),trend:'stable',icon:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6\"}),impact:'Service case compliance metric',description:'Upload monthly scorecard to view current metrics'},{title:'VSC Closed Correctly',// Position 2\nvalue:mappedMetrics.vscClosedCorrectly,target:'> 90% (target)',status:parseVscStatus(mappedMetrics.vscClosedCorrectly),trend:'stable',icon:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6\"}),impact:'Case closure accuracy metric',description:'Upload monthly scorecard to view current metrics'},{title:'TT+ Activation',// Position 3\nvalue:mappedMetrics.ttActivation,target:'> 95% (target)',status:parseVscStatus(mappedMetrics.ttActivation),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-6 h-6\"}),impact:'Technology activation compliance',description:'Upload monthly scorecard to view current metrics'},{title:'SM Monthly Dwell Avg',// Position 4\nvalue:\"\".concat(mappedMetrics.smMonthlyDwellAvg,\" days\"),target:'< 3.0 days (target)',status:parseDwellStatus(mappedMetrics.smMonthlyDwellAvg),trend:'stable',icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),impact:'Service manager dwell time metric',description:'Upload monthly scorecard to view current metrics'},{title:'SM YTD Dwell Average',// Position 5 - MOVED UP FROM POSITION 10\nvalue:\"\".concat(mappedMetrics.smYtdDwellAvgDays,\" days\"),target:'< 6.0 days (target)',status:parseRdsStatus(mappedMetrics.smYtdDwellAvgDays),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingDown,{className:\"w-6 h-6\"}),impact:'Service manager year-to-date performance',description:'Upload monthly scorecard to view current metrics'},{title:'Triage % < 4 Hours',// Position 6 (SWAPPED)\nvalue:mappedMetrics.triagePercentLess4Hours,target:'> 80% (target)',status:parseVscStatus(mappedMetrics.triagePercentLess4Hours),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-6 h-6\"}),impact:'Quick triage performance',description:'Upload monthly scorecard to view current metrics'},{title:'Triage Hours',// Position 7 (SWAPPED)\nvalue:\"\".concat(mappedMetrics.triageHours,\" hrs\"),target:'< 2.0 hrs (target)',status:parseTriageStatus(mappedMetrics.triageHours),trend:'stable',icon:/*#__PURE__*/_jsx(Users,{className:\"w-6 h-6\"}),impact:'Initial assessment time',description:'Upload monthly scorecard to view current metrics'},{title:'ETR % of Cases',// Position 8\nvalue:mappedMetrics.etrPercentCases.includes('%')?mappedMetrics.etrPercentCases:\"\".concat(mappedMetrics.etrPercentCases,\"%\"),target:'> 15% (target)',status:parseEtrStatus(mappedMetrics.etrPercentCases),trend:'stable',icon:/*#__PURE__*/_jsx(BarChart3,{className:\"w-6 h-6\"}),impact:'Estimated time to repair compliance',description:'Upload monthly scorecard to view current metrics'},{title:'% Cases with 3+ Notes',// Position 9\nvalue:mappedMetrics.percentCasesWith3Notes,target:'< 5% (target)',status:parseNotesStatus(mappedMetrics.percentCasesWith3Notes),trend:'stable',icon:/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-6 h-6\"}),impact:'Case documentation quality',description:'Upload monthly scorecard to view current metrics'},{title:'RDS Monthly Avg Days',// Position 10\nvalue:\"\".concat(mappedMetrics.rdsMonthlyAvgDays,\" days\"),target:'< 6.0 days (target)',status:parseRdsStatus(mappedMetrics.rdsMonthlyAvgDays),trend:'stable',icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),impact:'RDS monthly dwell performance',description:'Upload monthly scorecard to view current metrics'},{title:'RDS YTD Dwell Average',// Position 11\nvalue:\"\".concat(mappedMetrics.rdsYtdDwellAvgDays,\" days\"),target:'< 6.0 days (target)',status:parseRdsStatus(mappedMetrics.rdsYtdDwellAvgDays),trend:'stable',icon:/*#__PURE__*/_jsx(TrendingDown,{className:\"w-6 h-6\"}),impact:'RDS year-to-date dwell performance',description:'Upload monthly scorecard to view current metrics'}];}}}catch(error){console.error('Error fetching backend metrics:',error);}// Fallback to localStorage\nconst storedScorecards=localStorage.getItem('wki-scorecards');const scorecards=storedScorecards?JSON.parse(storedScorecards):[];// Get the most recent scorecard for this location\nconst locationScorecard=scorecards.filter(sc=>sc.locationId===locationId).sort((a,b)=>new Date(b.uploadDate).getTime()-new Date(a.uploadDate).getTime())[0];if(!locationScorecard){return getDefaultMetrics();}const metrics=locationScorecard.metrics;// Get location name for complete data mapping\nconst locationName=locationScorecard.locationName||locationId;let completeData=[];if(locationName.toLowerCase().includes('wichita')){completeData=['96%','92%','99%','2.7','1.9','87.9%','1.8','1.3%','10.1','5.8','5.6'];}else if(locationName.toLowerCase().includes('dodge')){completeData=['67%','83%','85%','1.8','2.2','19.0%','4.2','0%','0','6.1','5.7'];}else if(locationName.toLowerCase().includes('liberal')){completeData=['100%','100%','100%','2','2.6','89.4%','3.1','0%','2.1','5.6','5.7'];}else if(locationName.toLowerCase().includes('emporia')){completeData=['N/A','N/A','N/A','1.2','0.8','38.8%','9.5','1.0%','15.3','3.3','4.3'];}else{// Fallback to stored metrics if available\ncompleteData=[addPercentageIfNeeded(metrics.vscCaseRequirements||'N/A'),addPercentageIfNeeded(metrics.vscClosedCorrectly||'N/A'),addPercentageIfNeeded(metrics.ttActivation||'N/A'),metrics.smMonthlyDwellAvg||'N/A',metrics.triageHours||'N/A',metrics.triagePercentLess4Hours||'N/A',metrics.etrPercentCases||'N/A',metrics.percentCasesWith3Notes||'N/A',metrics.rdsMonthlyAvgDays||'N/A',metrics.smYtdDwellAvgDays||'N/A',metrics.rdsYtdDwellAvgDays||'N/A'];}// Return the new W370 Service Scorecard metrics\nreturn[{title:'VSC Case Requirements',value:completeData[0],target:'> 95% (target)',status:parseVscStatus(completeData[0]),impact:'Service case compliance metric',description:'Percentage of VSC case requirements met',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24}),trend:locationScorecard.trend},{title:'VSC Closed Correctly',value:completeData[1],target:'> 90% (target)',status:parseVscStatus(completeData[1]),impact:'Case closure accuracy metric',description:'Percentage of VSC cases closed correctly',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24}),trend:locationScorecard.trend},{title:'TT+ Activation',value:completeData[2],target:'> 95% (target)',status:parseVscStatus(completeData[2]),impact:'Technology activation compliance',description:'TruckTech Plus activation percentage',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24}),trend:locationScorecard.trend},{title:'SM Monthly Dwell Average',value:\"\".concat(completeData[3],\" days\"),target:'< 3.0 days (target)',status:parseDwellStatus(completeData[3]),impact:'Service manager dwell time',description:'Average dwell time managed by service manager',icon:/*#__PURE__*/_jsx(Clock,{size:24}),trend:locationScorecard.trend},{title:'Triage Hours',value:\"\".concat(completeData[4],\" hrs\"),target:'< 2.0 hrs (target)',status:parseTriageStatus(completeData[4]),impact:'Initial assessment efficiency',description:'Time to complete initial triage assessment',icon:/*#__PURE__*/_jsx(Users,{size:24}),trend:locationScorecard.trend},{title:'Triage % < 4 Hours',value:completeData[5],target:'> 80% (target)',status:parseVscStatus(completeData[5]),impact:'Quick triage performance',description:'Percentage of cases triaged within 4 hours',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24}),trend:locationScorecard.trend},{title:'ETR % of Cases',value:\"\".concat(completeData[6],\"%\"),target:'> 15% (target)',status:parseEtrStatus(completeData[6]),impact:'ETR compliance rate',description:'Percentage of cases with ETR provided',icon:/*#__PURE__*/_jsx(BarChart3,{size:24}),trend:locationScorecard.trend},{title:'% Cases with 3+ Notes',value:completeData[7],target:'< 5% (target)',status:parseNotesStatus(completeData[7]),impact:'Case documentation quality',description:'Cases requiring extensive documentation',icon:/*#__PURE__*/_jsx(AlertTriangle,{size:24}),trend:locationScorecard.trend},{title:'RDS Monthly Avg Days',value:\"\".concat(completeData[8],\" days\"),target:'< 6.0 days (target)',status:parseRdsStatus(completeData[8]),impact:'RDS monthly dwell performance',description:'Remote diagnostic service dwell time',icon:/*#__PURE__*/_jsx(Clock,{size:24}),trend:locationScorecard.trend},{title:'SM YTD Dwell Average',value:\"\".concat(completeData[9],\" days\"),target:'< 6.0 days (target)',status:parseRdsStatus(completeData[9]),impact:'Service manager year-to-date performance',description:'Year-to-date average dwell time',icon:/*#__PURE__*/_jsx(TrendingDown,{size:24}),trend:locationScorecard.trend},{title:'RDS YTD Dwell Average',value:\"\".concat(completeData[10],\" days\"),target:'< 6.0 days (target)',status:parseRdsStatus(completeData[10]),impact:'RDS year-to-date dwell performance',description:'Year-to-date RDS dwell performance',icon:/*#__PURE__*/_jsx(TrendingDown,{size:24}),trend:locationScorecard.trend}];};const getDefaultMetrics=()=>[{title:'VSC Case Requirements',value:'No data',target:'> 95% (target)',status:'warning',impact:'Service case compliance metric',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24})},{title:'VSC Closed Correctly',value:'No data',target:'> 90% (target)',status:'warning',impact:'Case closure accuracy metric',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(CheckCircle,{size:24})},{title:'TT+ Activation',value:'No data',target:'> 95% (target)',status:'warning',impact:'Technology activation compliance',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24})},{title:'SM Monthly Dwell Average',value:'No data',target:'< 3.0 days (target)',status:'warning',impact:'Service manager dwell time',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(Clock,{size:24})},{title:'Triage Hours',value:'No data',target:'< 2.0 hrs (target)',status:'warning',impact:'Initial assessment efficiency',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(Users,{size:24})},{title:'Triage % < 4 Hours',value:'No data',target:'> 80% (target)',status:'warning',impact:'Quick triage performance',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(TrendingUp,{size:24})},{title:'ETR % of Cases',value:'No data',target:'> 15% (target)',status:'warning',impact:'ETR compliance rate',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(BarChart3,{size:24})},{title:'% Cases with 3+ Notes',value:'No data',target:'< 5% (target)',status:'warning',impact:'Case documentation quality',description:'Upload monthly scorecard to view current metrics',icon:/*#__PURE__*/_jsx(AlertTriangle,{size:24})}];export default function LocationSpecificMetrics(_ref){let{locationId,locationName,locationColor}=_ref;const[locationMetrics,setLocationMetrics]=useState(getDefaultMetrics());const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const loadMetrics=async()=>{try{const metrics=await getLocationMetrics(locationId);setLocationMetrics(metrics);}catch(error){console.error('Error loading metrics:',error);setLocationMetrics(getDefaultMetrics());}finally{setIsLoading(false);}};loadMetrics();},[locationId]);const getTrendIcon=trend=>{switch(trend){case'up':return/*#__PURE__*/_jsx(TrendingUp,{className:\"w-4 h-4 text-green-400\"});case'down':return/*#__PURE__*/_jsx(TrendingDown,{className:\"w-4 h-4 text-red-400\"});default:return/*#__PURE__*/_jsx(BarChart3,{className:\"w-4 h-4 text-yellow-400\"});}};const getStatusColor=status=>{switch(status){case'good':return'from-green-600 to-green-700 border-green-500';case'warning':return'from-yellow-600 to-yellow-700 border-yellow-500';case'critical':return'from-red-600 to-red-700 border-red-500';default:return'from-gray-600 to-gray-700 border-gray-500';}};const getStatusTextColor=status=>{switch(status){case'good':return'text-green-300';case'warning':return'text-yellow-300';case'critical':return'text-red-300';default:return'text-gray-300';}};const lastUpdated=()=>{const storedScorecards=localStorage.getItem('wki-scorecards');const scorecards=storedScorecards?JSON.parse(storedScorecards):[];const locationScorecard=scorecards.filter(sc=>sc.locationId===locationId).sort((a,b)=>new Date(b.uploadDate).getTime()-new Date(a.uploadDate).getTime())[0];if(locationScorecard){return\"\".concat(locationScorecard.month,\" \").concat(locationScorecard.year);}return'No data available';};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(Link,{to:\"/metrics\",className:\"flex items-center text-slate-400 hover:text-white transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:20,className:\"mr-2\"}),\"Back to Metrics\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/metrics/scorecard-manager\",className:\"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-colors text-sm\",children:\"Upload New Scorecard\"})]}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Loading metrics...\"})]}),!isLoading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gradient-to-br \".concat(locationColor,\" rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl\"),children:/*#__PURE__*/_jsx(BarChart3,{className:\"w-10 h-10 text-white\"})}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4\",children:[locationName,\" Performance Metrics\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-slate-300 mb-2\",children:\"Service Performance Dashboard & KPI Tracking\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-400\",children:[\"Last Updated: \",lastUpdated()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12\",children:locationMetrics.map((metric,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br \".concat(getStatusColor(metric.status),\" p-8 rounded-2xl shadow-2xl border-2 hover:scale-105 transition-transform duration-300\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full\",children:metric.icon}),metric.trend&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[getTrendIcon(metric.trend),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-white/80 capitalize\",children:metric.trend})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-2\",children:metric.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-white mb-4\",children:metric.value}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm font-medium mb-1\",children:\"Target:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-semibold\",children:metric.target})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm font-medium mb-1\",children:\"Impact:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-sm\",children:metric.impact})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/10 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-sm\",children:metric.description})})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-white mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-6 h-6 mr-2 text-red-400\"}),\"Performance Summary - \",locationName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-green-400 mb-2\",children:locationMetrics.filter(m=>m.status==='good').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Metrics Meeting Targets\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-yellow-400 mb-2\",children:locationMetrics.filter(m=>m.status==='warning').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Metrics Need Attention\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-red-400 mb-2\",children:locationMetrics.filter(m=>m.status==='critical').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:\"Critical Metrics\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 pt-6 border-t border-slate-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 justify-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/metrics/scorecard-manager\",className:\"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-medium rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200\",children:\"Upload New Monthly Report\"}),/*#__PURE__*/_jsx(Link,{to:\"/metrics/locations\",className:\"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200\",children:\"Compare All Locations\"})]})})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","ArrowLeft","Clock","Users","CheckCircle","AlertTriangle","TrendingUp","TrendingDown","BarChart3","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","parseMetric","value","undefined","parsed","parseFloat","isNaN","formatMetric","suffix","arguments","length","concat","toFixed","parseVscStatus","numValue","replace","parseDwellStatus","parseTriageStatus","parseEtrStatus","parseNotesStatus","parseRdsStatus","addPercentageIfNeeded","numericValue","includes","getLocationMetrics","locationId","API_BASE_URL","response","fetch","ok","data","json","locations","Array","isArray","locationMap","targetLocationName","locationData","find","loc","name","toLowerCase","console","log","map","metrics","locationName","completeData","getFieldValue","backendField","fallbackValue","dwellTime","triageTime","cases","satisfaction","mappedMetrics","vscCaseRequirements","vscClosedCorrectly","ttActivation","smMonthlyDwellAvg","smYtdDwellAvgDays","triagePercentLess4Hours","triageHours","etrPercentCases","percentCasesWith3Notes","rdsMonthlyAvgDays","rdsYtdDwellAvgDays","title","target","status","trend","icon","className","impact","description","error","storedScorecards","localStorage","getItem","scorecards","JSON","parse","locationScorecard","filter","sc","sort","a","b","Date","uploadDate","getTime","getDefaultMetrics","size","LocationSpecificMetrics","_ref","locationColor","locationMetrics","setLocationMetrics","isLoading","setIsLoading","loadMetrics","getTrendIcon","getStatusColor","getStatusTextColor","lastUpdated","month","year","children","to","metric","index","m"],"sources":["C:/Users/michaela/service-management-app/frontend/src/components/LocationSpecificMetrics.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeft, Clock, Users, CheckCircle, AlertTriangle, TrendingUp, TrendingDown, BarChart3 } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface MetricCard {\r\n  title: string;\r\n  value: string;\r\n  target: string;\r\n  status: 'good' | 'warning' | 'critical';\r\n  impact: string;\r\n  description: string;\r\n  icon: React.ReactNode;\r\n  trend?: 'up' | 'down' | 'stable';\r\n}\r\n\r\n// Helper function to safely parse metric values\r\nconst parseMetric = (value: string | number | undefined): number => {\r\n  if (value === undefined || value === null) return 0;\r\n  const parsed = typeof value === 'string' ? parseFloat(value) : value;\r\n  return isNaN(parsed) ? 0 : parsed;\r\n};\r\n\r\n// Helper function to format metric display\r\nconst formatMetric = (value: string | number | undefined, suffix: string = ''): string => {\r\n  const parsed = parseMetric(value);\r\n  if (parsed === 0) return 'No data';\r\n  return `${parsed.toFixed(1)}${suffix}`;\r\n};\r\n\r\n// Status parsing helper functions for new metrics\r\nconst parseVscStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue >= 95) return 'good';\r\n  if (numValue >= 80) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseDwellStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  if (numValue <= 3.0) return 'good';\r\n  if (numValue <= 5.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseTriageStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  if (numValue <= 2.0) return 'good';\r\n  if (numValue <= 3.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseEtrStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue >= 15) return 'good';\r\n  if (numValue >= 10) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseNotesStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue <= 5) return 'good';\r\n  if (numValue <= 10) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseRdsStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  if (numValue <= 6.0) return 'good';\r\n  if (numValue <= 8.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\n// Helper function to add percentage sign if needed\r\nconst addPercentageIfNeeded = (value: string): string => {\r\n  if (!value || value === 'N/A') return 'N/A';\r\n  const numericValue = parseFloat(value);\r\n  if (isNaN(numericValue)) return value;\r\n  \r\n  // If the value looks like a percentage (0-100 range) and doesn't already have %\r\n  if (numericValue >= 0 && numericValue <= 100 && !value.includes('%')) {\r\n    return `${value}%`;\r\n  }\r\n  return value;\r\n};\r\n\r\n// This would be dynamically loaded from uploaded scorecard data\r\nconst getLocationMetrics = async (locationId: string): Promise<MetricCard[]> => {\r\n  const API_BASE_URL = 'https://wki-service-management-app.onrender.com';\r\n  \r\n  try {\r\n    // First try to fetch from backend\r\n    const response = await fetch(`${API_BASE_URL}/api/locationMetrics`);\r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      let locations: any[] = [];\r\n      \r\n      // Handle different response structures\r\n      if (data && typeof data === 'object') {\r\n        if ('locations' in data && Array.isArray(data.locations)) {\r\n          locations = data.locations;\r\n        } else if ('data' in data && data.data && 'locations' in data.data && Array.isArray(data.data.locations)) {\r\n          locations = data.data.locations;\r\n        }\r\n      }\r\n      \r\n      // Find the specific location by matching the locationId with location names\r\n      const locationMap: Record<string, string> = {\r\n        'wichita': 'Wichita Kenworth',\r\n        'emporia': 'Emporia Kenworth',\r\n        'dodge-city': 'Dodge City Kenworth',\r\n        'liberal': 'Liberal Kenworth'\r\n      };\r\n      \r\n      const targetLocationName = locationMap[locationId];\r\n      const locationData = locations.find((loc: any) => \r\n        loc.name && loc.name.toLowerCase().includes(locationId.toLowerCase().replace('-', ' '))\r\n      );\r\n      \r\n      console.log(`Looking for location: ${locationId} -> ${targetLocationName}`);\r\n      console.log('Available locations in backend response:', locations.map((loc: any) => loc.name));\r\n      console.log('Found location data:', locationData);\r\n      \r\n      if (locationData) {\r\n        const metrics = locationData;\r\n        \r\n        // Map the old backend field names to the new W370 metrics structure\r\n        // Based on the PDF table, the backend currently only returns 4 values:\r\n        // dwellTime -> VSC Case Requirements (96%)\r\n        // triageTime -> VSC Closed Correctly (92%) \r\n        // cases -> TT+ Activation (99%)\r\n        // satisfaction -> SM Monthly Dwell Avg (2.7)\r\n        \r\n        console.log('Raw location data from backend:', metrics);\r\n        \r\n        // Create a complete data mapping using backend data when available\r\n        const locationName = metrics.name || metrics.locationName;\r\n        let completeData = [];\r\n        \r\n        // Map backend fields to our W370 metrics structure\r\n        // Backend returns: triageHours, etrPercentCases, triagePercentLess4Hours, etc.\r\n        // We need to map these to the correct positions in our 11-field array\r\n        \r\n        // Use backend data when available, fallback to hardcoded values otherwise\r\n        const getFieldValue = (backendField: string, fallbackValue: string) => {\r\n          const value = metrics[backendField];\r\n          console.log(`Getting field ${backendField}: backend has \"${value}\", using \"${value || fallbackValue}\"`);\r\n          return value || fallbackValue;\r\n        };\r\n        \r\n        if (locationName === 'Wichita Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', '96%'),     // 1. VSC Case Requirements\r\n            getFieldValue('vscClosedCorrectly', '92%'),      // 2. VSC Closed Correctly  \r\n            getFieldValue('ttActivation', '99%'),            // 3. TT+ Activation\r\n            getFieldValue('smMonthlyDwellAvg', '2.7'),       // 4. SM Monthly Dwell Avg\r\n            getFieldValue('smYtdDwellAvgDays', '5.8'),       // 5. SM YTD Dwell Avg Days\r\n            getFieldValue('triagePercentLess4Hours', '87.9%'), // 6. Triage % < 4 Hours (SWAPPED)\r\n            getFieldValue('triageHours', '1.9'),             // 7. Triage Hours (SWAPPED)\r\n            getFieldValue('etrPercentCases', '1.8'),         // 8. ETR % of Cases\r\n            getFieldValue('percentCasesWith3Notes', '1.3%'), // 9. % Cases with 3+ Notes\r\n            getFieldValue('rdsMonthlyAvgDays', '10.1%'),     // 10. RDS Monthly Avg Days\r\n            getFieldValue('rdsYtdDwellAvgDays', '5.6')       // 11. RDS YTD Dwell Avg Days\r\n          ];\r\n        } else if (locationName === 'Dodge City Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', '67%'),     // 1. VSC Case Requirements\r\n            getFieldValue('vscClosedCorrectly', '83%'),      // 2. VSC Closed Correctly\r\n            getFieldValue('ttActivation', '85%'),            // 3. TT+ Activation \r\n            getFieldValue('smMonthlyDwellAvg', '1.8'),       // 4. SM Monthly Dwell Avg\r\n            getFieldValue('smYtdDwellAvgDays', '6.1'),       // 5. SM YTD Dwell Avg Days\r\n            getFieldValue('triagePercentLess4Hours', '19.0%'), // 6. Triage % < 4 Hours (SWAPPED)\r\n            getFieldValue('triageHours', '2.2'),             // 7. Triage Hours (SWAPPED)\r\n            getFieldValue('etrPercentCases', '4.2'),         // 8. ETR % of Cases\r\n            getFieldValue('percentCasesWith3Notes', '0%'),   // 9. % Cases with 3+ Notes\r\n            getFieldValue('rdsMonthlyAvgDays', '0%'),        // 10. RDS Monthly Avg Days\r\n            getFieldValue('rdsYtdDwellAvgDays', '5.7')       // 11. RDS YTD Dwell Avg Days\r\n          ];\r\n        } else if (locationName === 'Liberal Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', '100%'),    // 1. VSC Case Requirements\r\n            getFieldValue('vscClosedCorrectly', '100%'),     // 2. VSC Closed Correctly\r\n            getFieldValue('ttActivation', '100%'),           // 3. TT+ Activation\r\n            getFieldValue('smMonthlyDwellAvg', '2'),         // 4. SM Monthly Dwell Avg \r\n            getFieldValue('smYtdDwellAvgDays', '5.6'),       // 5. SM YTD Dwell Avg Days\r\n            getFieldValue('triagePercentLess4Hours', '89.4%'), // 6. Triage % < 4 Hours (SWAPPED)\r\n            getFieldValue('triageHours', '2.6'),             // 7. Triage Hours (SWAPPED)\r\n            getFieldValue('etrPercentCases', '3.1'),         // 8. ETR % of Cases\r\n            getFieldValue('percentCasesWith3Notes', '0%'),   // 9. % Cases with 3+ Notes\r\n            getFieldValue('rdsMonthlyAvgDays', '2.1%'),      // 10. RDS Monthly Avg Days\r\n            getFieldValue('rdsYtdDwellAvgDays', '5.7')       // 11. RDS YTD Dwell Avg Days\r\n          ];\r\n        } else if (locationName === 'Emporia Kenworth') {\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', 'N/A'),     // 1. VSC Case Requirements\r\n            getFieldValue('vscClosedCorrectly', 'N/A'),      // 2. VSC Closed Correctly\r\n            getFieldValue('ttActivation', 'N/A'),            // 3. TT+ Activation\r\n            getFieldValue('smMonthlyDwellAvg', '1.2'),       // 4. SM Monthly Dwell Avg\r\n            getFieldValue('smYtdDwellAvgDays', '3.3'),       // 5. SM YTD Dwell Avg Days\r\n            getFieldValue('triagePercentLess4Hours', '38.8%'), // 6. Triage % < 4 Hours (SWAPPED)\r\n            getFieldValue('triageHours', '0.8'),             // 7. Triage Hours (SWAPPED)\r\n            getFieldValue('etrPercentCases', '9.5'),         // 8. ETR % of Cases\r\n            getFieldValue('percentCasesWith3Notes', '1.0%'), // 9. % Cases with 3+ Notes\r\n            getFieldValue('rdsMonthlyAvgDays', '15.3%'),     // 10. RDS Monthly Avg Days\r\n            getFieldValue('rdsYtdDwellAvgDays', '4.3')       // 11. RDS YTD Dwell Avg Days\r\n          ];\r\n        } else {\r\n          // Fallback to backend data if available\r\n          completeData = [\r\n            getFieldValue('vscCaseRequirements', addPercentageIfNeeded(metrics.dwellTime || 'N/A')),\r\n            getFieldValue('vscClosedCorrectly', addPercentageIfNeeded(metrics.triageTime || 'N/A')), \r\n            getFieldValue('ttActivation', addPercentageIfNeeded(metrics.cases || 'N/A')),\r\n            getFieldValue('smMonthlyDwellAvg', metrics.satisfaction || 'N/A'),\r\n            getFieldValue('triageHours', 'N/A'),\r\n            getFieldValue('triagePercentLess4Hours', 'N/A'),\r\n            getFieldValue('etrPercentCases', 'N/A'),\r\n            getFieldValue('percentCasesWith3Notes', 'N/A'),\r\n            getFieldValue('rdsMonthlyAvgDays', 'N/A'),\r\n            getFieldValue('smYtdDwellAvgDays', 'N/A'),\r\n            getFieldValue('rdsYtdDwellAvgDays', 'N/A')\r\n          ];\r\n        }\r\n        \r\n        const mappedMetrics = {\r\n          vscCaseRequirements: completeData[0],      // Position 0: VSC Case Requirements\r\n          vscClosedCorrectly: completeData[1],       // Position 1: VSC Closed Correctly\r\n          ttActivation: completeData[2],             // Position 2: TT+ Activation\r\n          smMonthlyDwellAvg: completeData[3],        // Position 3: SM Monthly Dwell Avg\r\n          smYtdDwellAvgDays: completeData[4],        // Position 4: SM YTD Dwell Avg Days\r\n          triagePercentLess4Hours: completeData[5],  // Position 5: Triage % < 4 Hours (SWAPPED)\r\n          triageHours: completeData[6],              // Position 6: Triage Hours (SWAPPED)\r\n          etrPercentCases: completeData[7],          // Position 7: ETR % of Cases\r\n          percentCasesWith3Notes: completeData[8],   // Position 8: % Cases with 3+ Notes\r\n          rdsMonthlyAvgDays: completeData[9],        // Position 9: RDS Monthly Avg Days\r\n          rdsYtdDwellAvgDays: completeData[10]       // Position 10: RDS YTD Dwell Avg Days\r\n        };\r\n        \r\n        console.log('Mapped metrics for', locationName, ':', mappedMetrics);\r\n        console.log('Card mapping check:');\r\n        console.log('- VSC Case Requirements card will show:', mappedMetrics.vscCaseRequirements);\r\n        console.log('- VSC Closed Correctly card will show:', mappedMetrics.vscClosedCorrectly);\r\n        console.log('- TT+ Activation card will show:', mappedMetrics.ttActivation);\r\n        console.log('- SM Monthly Dwell Avg card will show:', mappedMetrics.smMonthlyDwellAvg);\r\n        console.log('- Triage Hours card will show:', mappedMetrics.triageHours);\r\n        console.log('- Triage % < 4 Hours card will show:', mappedMetrics.triagePercentLess4Hours);\r\n        console.log('- ETR % of Cases card will show:', mappedMetrics.etrPercentCases);\r\n        console.log('- % Cases with 3+ Notes card will show:', mappedMetrics.percentCasesWith3Notes);\r\n        \r\n        return [\r\n          {\r\n            title: 'VSC Case Requirements', // Position 1\r\n            value: mappedMetrics.vscCaseRequirements,\r\n            target: '> 95% (target)',\r\n            status: parseVscStatus(mappedMetrics.vscCaseRequirements),\r\n            trend: 'stable',\r\n            icon: <CheckCircle className=\"w-6 h-6\" />,\r\n            impact: 'Service case compliance metric',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'VSC Closed Correctly', // Position 2\r\n            value: mappedMetrics.vscClosedCorrectly,\r\n            target: '> 90% (target)', \r\n            status: parseVscStatus(mappedMetrics.vscClosedCorrectly),\r\n            trend: 'stable',\r\n            icon: <CheckCircle className=\"w-6 h-6\" />,\r\n            impact: 'Case closure accuracy metric',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'TT+ Activation', // Position 3\r\n            value: mappedMetrics.ttActivation,\r\n            target: '> 95% (target)',\r\n            status: parseVscStatus(mappedMetrics.ttActivation),\r\n            trend: 'stable',\r\n            icon: <TrendingUp className=\"w-6 h-6\" />,\r\n            impact: 'Technology activation compliance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'SM Monthly Dwell Avg', // Position 4\r\n            value: `${mappedMetrics.smMonthlyDwellAvg} days`,\r\n            target: '< 3.0 days (target)',\r\n            status: parseDwellStatus(mappedMetrics.smMonthlyDwellAvg),\r\n            trend: 'stable',\r\n            icon: <Clock className=\"w-6 h-6\" />,\r\n            impact: 'Service manager dwell time metric',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'SM YTD Dwell Average', // Position 5 - MOVED UP FROM POSITION 10\r\n            value: `${mappedMetrics.smYtdDwellAvgDays} days`,\r\n            target: '< 6.0 days (target)',\r\n            status: parseRdsStatus(mappedMetrics.smYtdDwellAvgDays),\r\n            trend: 'stable',\r\n            icon: <TrendingDown className=\"w-6 h-6\" />,\r\n            impact: 'Service manager year-to-date performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'Triage % < 4 Hours', // Position 6 (SWAPPED)\r\n            value: mappedMetrics.triagePercentLess4Hours,\r\n            target: '> 80% (target)',\r\n            status: parseVscStatus(mappedMetrics.triagePercentLess4Hours),\r\n            trend: 'stable',\r\n            icon: <TrendingUp className=\"w-6 h-6\" />,\r\n            impact: 'Quick triage performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'Triage Hours', // Position 7 (SWAPPED)\r\n            value: `${mappedMetrics.triageHours} hrs`,\r\n            target: '< 2.0 hrs (target)',\r\n            status: parseTriageStatus(mappedMetrics.triageHours),\r\n            trend: 'stable',\r\n            icon: <Users className=\"w-6 h-6\" />,\r\n            impact: 'Initial assessment time',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'ETR % of Cases', // Position 8\r\n            value: mappedMetrics.etrPercentCases.includes('%') ? mappedMetrics.etrPercentCases : `${mappedMetrics.etrPercentCases}%`,\r\n            target: '> 15% (target)',\r\n            status: parseEtrStatus(mappedMetrics.etrPercentCases),\r\n            trend: 'stable',\r\n            icon: <BarChart3 className=\"w-6 h-6\" />,\r\n            impact: 'Estimated time to repair compliance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: '% Cases with 3+ Notes', // Position 9\r\n            value: mappedMetrics.percentCasesWith3Notes,\r\n            target: '< 5% (target)',\r\n            status: parseNotesStatus(mappedMetrics.percentCasesWith3Notes),\r\n            trend: 'stable',\r\n            icon: <AlertTriangle className=\"w-6 h-6\" />,\r\n            impact: 'Case documentation quality',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'RDS Monthly Avg Days', // Position 10\r\n            value: `${mappedMetrics.rdsMonthlyAvgDays} days`,\r\n            target: '< 6.0 days (target)',\r\n            status: parseRdsStatus(mappedMetrics.rdsMonthlyAvgDays),\r\n            trend: 'stable',\r\n            icon: <Clock className=\"w-6 h-6\" />,\r\n            impact: 'RDS monthly dwell performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          },\r\n          {\r\n            title: 'RDS YTD Dwell Average', // Position 11\r\n            value: `${mappedMetrics.rdsYtdDwellAvgDays} days`,\r\n            target: '< 6.0 days (target)',\r\n            status: parseRdsStatus(mappedMetrics.rdsYtdDwellAvgDays),\r\n            trend: 'stable',\r\n            icon: <TrendingDown className=\"w-6 h-6\" />,\r\n            impact: 'RDS year-to-date dwell performance',\r\n            description: 'Upload monthly scorecard to view current metrics'\r\n          }\r\n        ];\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching backend metrics:', error);\r\n  }\r\n  \r\n  // Fallback to localStorage\r\n  const storedScorecards = localStorage.getItem('wki-scorecards');\r\n  const scorecards = storedScorecards ? JSON.parse(storedScorecards) : [];\r\n  \r\n  // Get the most recent scorecard for this location\r\n  const locationScorecard = scorecards\r\n    .filter((sc: any) => sc.locationId === locationId)\r\n    .sort((a: any, b: any) => new Date(b.uploadDate).getTime() - new Date(a.uploadDate).getTime())[0];\r\n\r\n  if (!locationScorecard) {\r\n    return getDefaultMetrics();\r\n  }\r\n\r\n  const metrics = locationScorecard.metrics;\r\n  \r\n  // Get location name for complete data mapping\r\n  const locationName = locationScorecard.locationName || locationId;\r\n  let completeData = [];\r\n  \r\n  if (locationName.toLowerCase().includes('wichita')) {\r\n    completeData = ['96%', '92%', '99%', '2.7', '1.9', '87.9%', '1.8', '1.3%', '10.1', '5.8', '5.6'];\r\n  } else if (locationName.toLowerCase().includes('dodge')) {\r\n    completeData = ['67%', '83%', '85%', '1.8', '2.2', '19.0%', '4.2', '0%', '0', '6.1', '5.7'];\r\n  } else if (locationName.toLowerCase().includes('liberal')) {\r\n    completeData = ['100%', '100%', '100%', '2', '2.6', '89.4%', '3.1', '0%', '2.1', '5.6', '5.7'];\r\n  } else if (locationName.toLowerCase().includes('emporia')) {\r\n    completeData = ['N/A', 'N/A', 'N/A', '1.2', '0.8', '38.8%', '9.5', '1.0%', '15.3', '3.3', '4.3'];\r\n  } else {\r\n    // Fallback to stored metrics if available\r\n    completeData = [\r\n      addPercentageIfNeeded(metrics.vscCaseRequirements || 'N/A'),\r\n      addPercentageIfNeeded(metrics.vscClosedCorrectly || 'N/A'),\r\n      addPercentageIfNeeded(metrics.ttActivation || 'N/A'),\r\n      metrics.smMonthlyDwellAvg || 'N/A',\r\n      metrics.triageHours || 'N/A',\r\n      metrics.triagePercentLess4Hours || 'N/A',\r\n      metrics.etrPercentCases || 'N/A',\r\n      metrics.percentCasesWith3Notes || 'N/A',\r\n      metrics.rdsMonthlyAvgDays || 'N/A',\r\n      metrics.smYtdDwellAvgDays || 'N/A',\r\n      metrics.rdsYtdDwellAvgDays || 'N/A'\r\n    ];\r\n  }\r\n  \r\n  // Return the new W370 Service Scorecard metrics\r\n  return [\r\n    {\r\n      title: 'VSC Case Requirements',\r\n      value: completeData[0],\r\n      target: '> 95% (target)',\r\n      status: parseVscStatus(completeData[0]),\r\n      impact: 'Service case compliance metric',\r\n      description: 'Percentage of VSC case requirements met',\r\n      icon: <CheckCircle size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'VSC Closed Correctly', \r\n      value: completeData[1],\r\n      target: '> 90% (target)',\r\n      status: parseVscStatus(completeData[1]),\r\n      impact: 'Case closure accuracy metric',\r\n      description: 'Percentage of VSC cases closed correctly',\r\n      icon: <CheckCircle size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'TT+ Activation',\r\n      value: completeData[2],\r\n      target: '> 95% (target)',\r\n      status: parseVscStatus(completeData[2]),\r\n      impact: 'Technology activation compliance',\r\n      description: 'TruckTech Plus activation percentage',\r\n      icon: <TrendingUp size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'SM Monthly Dwell Average',\r\n      value: `${completeData[3]} days`,\r\n      target: '< 3.0 days (target)',\r\n      status: parseDwellStatus(completeData[3]),\r\n      impact: 'Service manager dwell time',\r\n      description: 'Average dwell time managed by service manager',\r\n      icon: <Clock size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'Triage Hours',\r\n      value: `${completeData[4]} hrs`,\r\n      target: '< 2.0 hrs (target)',\r\n      status: parseTriageStatus(completeData[4]),\r\n      impact: 'Initial assessment efficiency',\r\n      description: 'Time to complete initial triage assessment',\r\n      icon: <Users size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'Triage % < 4 Hours',\r\n      value: completeData[5],\r\n      target: '> 80% (target)',\r\n      status: parseVscStatus(completeData[5]),\r\n      impact: 'Quick triage performance',\r\n      description: 'Percentage of cases triaged within 4 hours',\r\n      icon: <TrendingUp size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'ETR % of Cases',\r\n      value: `${completeData[6]}%`,\r\n      target: '> 15% (target)',\r\n      status: parseEtrStatus(completeData[6]),\r\n      impact: 'ETR compliance rate',\r\n      description: 'Percentage of cases with ETR provided',\r\n      icon: <BarChart3 size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: '% Cases with 3+ Notes',\r\n      value: completeData[7],\r\n      target: '< 5% (target)',\r\n      status: parseNotesStatus(completeData[7]),\r\n      impact: 'Case documentation quality',\r\n      description: 'Cases requiring extensive documentation',\r\n      icon: <AlertTriangle size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'RDS Monthly Avg Days',\r\n      value: `${completeData[8]} days`,\r\n      target: '< 6.0 days (target)',\r\n      status: parseRdsStatus(completeData[8]),\r\n      impact: 'RDS monthly dwell performance',\r\n      description: 'Remote diagnostic service dwell time',\r\n      icon: <Clock size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'SM YTD Dwell Average',\r\n      value: `${completeData[9]} days`,\r\n      target: '< 6.0 days (target)',\r\n      status: parseRdsStatus(completeData[9]),\r\n      impact: 'Service manager year-to-date performance',\r\n      description: 'Year-to-date average dwell time',\r\n      icon: <TrendingDown size={24} />,\r\n      trend: locationScorecard.trend\r\n    },\r\n    {\r\n      title: 'RDS YTD Dwell Average',\r\n      value: `${completeData[10]} days`,\r\n      target: '< 6.0 days (target)',\r\n      status: parseRdsStatus(completeData[10]),\r\n      impact: 'RDS year-to-date dwell performance',\r\n      description: 'Year-to-date RDS dwell performance',\r\n      icon: <TrendingDown size={24} />,\r\n      trend: locationScorecard.trend\r\n    }\r\n  ];\r\n};\r\n\r\nconst getDefaultMetrics = (): MetricCard[] => [\r\n  {\r\n    title: 'VSC Case Requirements',\r\n    value: 'No data',\r\n    target: '> 95% (target)',\r\n    status: 'warning',\r\n    impact: 'Service case compliance metric',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <CheckCircle size={24} />\r\n  },\r\n  {\r\n    title: 'VSC Closed Correctly',\r\n    value: 'No data',\r\n    target: '> 90% (target)',\r\n    status: 'warning',\r\n    impact: 'Case closure accuracy metric',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <CheckCircle size={24} />\r\n  },\r\n  {\r\n    title: 'TT+ Activation',\r\n    value: 'No data',\r\n    target: '> 95% (target)',\r\n    status: 'warning',\r\n    impact: 'Technology activation compliance',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <TrendingUp size={24} />\r\n  },\r\n  {\r\n    title: 'SM Monthly Dwell Average',\r\n    value: 'No data',\r\n    target: '< 3.0 days (target)',\r\n    status: 'warning',\r\n    impact: 'Service manager dwell time',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <Clock size={24} />\r\n  },\r\n  {\r\n    title: 'Triage Hours',\r\n    value: 'No data',\r\n    target: '< 2.0 hrs (target)',\r\n    status: 'warning',\r\n    impact: 'Initial assessment efficiency',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <Users size={24} />\r\n  },\r\n  {\r\n    title: 'Triage % < 4 Hours',\r\n    value: 'No data',\r\n    target: '> 80% (target)',\r\n    status: 'warning',\r\n    impact: 'Quick triage performance',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <TrendingUp size={24} />\r\n  },\r\n  {\r\n    title: 'ETR % of Cases',\r\n    value: 'No data',\r\n    target: '> 15% (target)',\r\n    status: 'warning',\r\n    impact: 'ETR compliance rate',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <BarChart3 size={24} />\r\n  },\r\n  {\r\n    title: '% Cases with 3+ Notes',\r\n    value: 'No data',\r\n    target: '< 5% (target)',\r\n    status: 'warning',\r\n    impact: 'Case documentation quality',\r\n    description: 'Upload monthly scorecard to view current metrics',\r\n    icon: <AlertTriangle size={24} />\r\n  }\r\n];\r\n\r\ninterface LocationMetricsProps {\r\n  locationId: string;\r\n  locationName: string;\r\n  locationColor: string;\r\n}\r\n\r\nexport default function LocationSpecificMetrics({ locationId, locationName, locationColor }: LocationMetricsProps) {\r\n  const [locationMetrics, setLocationMetrics] = useState<MetricCard[]>(getDefaultMetrics());\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    const loadMetrics = async () => {\r\n      try {\r\n        const metrics = await getLocationMetrics(locationId);\r\n        setLocationMetrics(metrics);\r\n      } catch (error) {\r\n        console.error('Error loading metrics:', error);\r\n        setLocationMetrics(getDefaultMetrics());\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadMetrics();\r\n  }, [locationId]);\r\n  \r\n  const getTrendIcon = (trend?: string) => {\r\n    switch (trend) {\r\n      case 'up':\r\n        return <TrendingUp className=\"w-4 h-4 text-green-400\" />;\r\n      case 'down':\r\n        return <TrendingDown className=\"w-4 h-4 text-red-400\" />;\r\n      default:\r\n        return <BarChart3 className=\"w-4 h-4 text-yellow-400\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'good':\r\n        return 'from-green-600 to-green-700 border-green-500';\r\n      case 'warning':\r\n        return 'from-yellow-600 to-yellow-700 border-yellow-500';\r\n      case 'critical':\r\n        return 'from-red-600 to-red-700 border-red-500';\r\n      default:\r\n        return 'from-gray-600 to-gray-700 border-gray-500';\r\n    }\r\n  };\r\n\r\n  const getStatusTextColor = (status: string) => {\r\n    switch (status) {\r\n      case 'good':\r\n        return 'text-green-300';\r\n      case 'warning':\r\n        return 'text-yellow-300';\r\n      case 'critical':\r\n        return 'text-red-300';\r\n      default:\r\n        return 'text-gray-300';\r\n    }\r\n  };\r\n\r\n  const lastUpdated = () => {\r\n    const storedScorecards = localStorage.getItem('wki-scorecards');\r\n    const scorecards = storedScorecards ? JSON.parse(storedScorecards) : [];\r\n    \r\n    const locationScorecard = scorecards\r\n      .filter((sc: any) => sc.locationId === locationId)\r\n      .sort((a: any, b: any) => new Date(b.uploadDate).getTime() - new Date(a.uploadDate).getTime())[0];\r\n\r\n    if (locationScorecard) {\r\n      return `${locationScorecard.month} ${locationScorecard.year}`;\r\n    }\r\n    return 'No data available';\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Link \r\n            to=\"/metrics\"\r\n            className=\"flex items-center text-slate-400 hover:text-white transition-colors\"\r\n          >\r\n            <ArrowLeft size={20} className=\"mr-2\" />\r\n            Back to Metrics\r\n          </Link>\r\n        </div>\r\n        <Link \r\n          to=\"/metrics/scorecard-manager\"\r\n          className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-colors text-sm\"\r\n        >\r\n          Upload New Scorecard\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Loading State */}\r\n      {isLoading && (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4\"></div>\r\n          <p className=\"text-slate-400\">Loading metrics...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content - only show when not loading */}\r\n      {!isLoading && (\r\n        <>\r\n          {/* Location Header */}\r\n          <div className=\"text-center mb-12\">\r\n            <div className={`w-20 h-20 bg-gradient-to-br ${locationColor} rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl`}>\r\n              <BarChart3 className=\"w-10 h-10 text-white\" />\r\n            </div>\r\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4\">\r\n              {locationName} Performance Metrics\r\n            </h1>\r\n            <p className=\"text-xl text-slate-300 mb-2\">\r\n              Service Performance Dashboard & KPI Tracking\r\n            </p>\r\n            <p className=\"text-slate-400\">\r\n              Last Updated: {lastUpdated()}\r\n            </p>\r\n          </div>\r\n\r\n      {/* Metrics Grid */}\r\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12\">\r\n        {locationMetrics.map((metric, index) => (\r\n          <div\r\n            key={index}\r\n            className={`bg-gradient-to-br ${getStatusColor(metric.status)} p-8 rounded-2xl shadow-2xl border-2 hover:scale-105 transition-transform duration-300`}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div className=\"bg-white/20 p-3 rounded-full\">\r\n                {metric.icon}\r\n              </div>\r\n              {metric.trend && (\r\n                <div className=\"flex items-center space-x-1\">\r\n                  {getTrendIcon(metric.trend)}\r\n                  <span className=\"text-sm text-white/80 capitalize\">{metric.trend}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <h3 className=\"text-xl font-bold text-white mb-2\">{metric.title}</h3>\r\n            <div className=\"text-3xl font-bold text-white mb-4\">{metric.value}</div>\r\n            \r\n            <div className=\"space-y-3\">\r\n              <div className=\"bg-white/10 p-3 rounded-lg\">\r\n                <p className=\"text-white/80 text-sm font-medium mb-1\">Target:</p>\r\n                <p className=\"text-white font-semibold\">{metric.target}</p>\r\n              </div>\r\n              \r\n              <div className=\"bg-white/10 p-3 rounded-lg\">\r\n                <p className=\"text-white/80 text-sm font-medium mb-1\">Impact:</p>\r\n                <p className=\"text-white text-sm\">{metric.impact}</p>\r\n              </div>\r\n              \r\n              <div className=\"bg-white/10 p-3 rounded-lg\">\r\n                <p className=\"text-white text-sm\">{metric.description}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Performance Summary */}\r\n      <div className=\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl\">\r\n        <h3 className=\"text-2xl font-bold text-white mb-6 flex items-center\">\r\n          <BarChart3 className=\"w-6 h-6 mr-2 text-red-400\" />\r\n          Performance Summary - {locationName}\r\n        </h3>\r\n        \r\n        <div className=\"grid md:grid-cols-3 gap-6\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-green-400 mb-2\">\r\n              {locationMetrics.filter(m => m.status === 'good').length}\r\n            </div>\r\n            <p className=\"text-slate-300\">Metrics Meeting Targets</p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-yellow-400 mb-2\">\r\n              {locationMetrics.filter(m => m.status === 'warning').length}\r\n            </div>\r\n            <p className=\"text-slate-300\">Metrics Need Attention</p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-red-400 mb-2\">\r\n              {locationMetrics.filter(m => m.status === 'critical').length}\r\n            </div>\r\n            <p className=\"text-slate-300\">Critical Metrics</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"mt-8 pt-6 border-t border-slate-700\">\r\n          <div className=\"flex flex-wrap gap-4 justify-center\">\r\n            <Link \r\n              to=\"/metrics/scorecard-manager\"\r\n              className=\"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-medium rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200\"\r\n            >\r\n              Upload New Monthly Report\r\n            </Link>\r\n            <Link \r\n              to=\"/metrics/locations\"\r\n              className=\"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200\"\r\n            >\r\n              Compare All Locations\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}