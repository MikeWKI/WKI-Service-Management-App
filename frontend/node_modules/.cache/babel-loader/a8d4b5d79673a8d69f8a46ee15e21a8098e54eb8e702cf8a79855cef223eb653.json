{"ast":null,"code":"import React from'react';import{AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class ErrorBoundary extends React.Component{constructor(props){super(props);this.retryTimeouts=[];this.state={hasError:false,retryCount:0};}static getDerivedStateFromError(error){return{hasError:true,error,retryCount:0};}componentDidCatch(error,errorInfo){console.error('ErrorBoundary caught an error:',error,errorInfo);}render(){if(this.state.hasError){if(this.props.fallback){return this.props.fallback;}return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen p-8 bg-slate-900 text-white\",role:\"alert\",\"aria-live\":\"assertive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-16 h-16 text-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-2\",children:\"Something went wrong\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 mb-6\",children:\"We apologize for the inconvenience. Please refresh the page or contact support if the problem persists.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200\",children:\"Refresh Page\"}),process.env.NODE_ENV==='development'&&this.state.error&&/*#__PURE__*/_jsxs(\"details\",{className:\"mt-6 text-left\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-yellow-400 hover:text-yellow-300\",children:\"Error Details (Development Only)\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"mt-2 p-4 bg-slate-800 rounded text-xs overflow-auto\",children:this.state.error.stack})]})]})});}return this.props.children;}}export default ErrorBoundary;","map":{"version":3,"names":["React","AlertCircle","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","Component","constructor","props","retryTimeouts","state","hasError","retryCount","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","render","fallback","className","role","children","onClick","window","location","reload","process","env","NODE_ENV","stack"],"sources":["C:/Users/michaela/service-management-app/frontend/src/components/ErrorBoundary.tsx"],"sourcesContent":["import React from 'react';\r\nimport { AlertCircle, RefreshCw, Home } from 'lucide-react';\r\n\r\ninterface ErrorBoundaryState {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  retryCount: number;\r\n}\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: React.ReactNode;\r\n  fallback?: React.ReactNode;\r\n  maxRetries?: number;\r\n}\r\n\r\nclass ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  private retryTimeouts: NodeJS.Timeout[] = [];\r\n\r\n  constructor(props: ErrorBoundaryProps) {\r\n    super(props);\r\n    this.state = { hasError: false, retryCount: 0 };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\r\n    return { hasError: true, error, retryCount: 0 };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <div \r\n          className=\"flex flex-col items-center justify-center min-h-screen p-8 bg-slate-900 text-white\"\r\n          role=\"alert\"\r\n          aria-live=\"assertive\"\r\n        >\r\n          <div className=\"text-center max-w-md\">\r\n            <AlertCircle className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\r\n            <h1 className=\"text-2xl font-bold mb-2\">Something went wrong</h1>\r\n            <p className=\"text-slate-300 mb-6\">\r\n              We apologize for the inconvenience. Please refresh the page or contact support if the problem persists.\r\n            </p>\r\n            <button\r\n              onClick={() => window.location.reload()}\r\n              className=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200\"\r\n            >\r\n              Refresh Page\r\n            </button>\r\n            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n              <details className=\"mt-6 text-left\">\r\n                <summary className=\"cursor-pointer text-yellow-400 hover:text-yellow-300\">\r\n                  Error Details (Development Only)\r\n                </summary>\r\n                <pre className=\"mt-2 p-4 bg-slate-800 rounded text-xs overflow-auto\">\r\n                  {this.state.error.stack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAyB,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAc5D,KAAM,CAAAC,aAAa,QAAS,CAAAN,KAAK,CAACO,SAAkD,CAGlFC,WAAWA,CAACC,KAAyB,CAAE,CACrC,KAAK,CAACA,KAAK,CAAC,CAAC,KAHPC,aAAa,CAAqB,EAAE,CAI1C,IAAI,CAACC,KAAK,CAAG,CAAEC,QAAQ,CAAE,KAAK,CAAEC,UAAU,CAAE,CAAE,CAAC,CACjD,CAEA,MAAO,CAAAC,wBAAwBA,CAACC,KAAY,CAAsB,CAChE,MAAO,CAAEH,QAAQ,CAAE,IAAI,CAAEG,KAAK,CAAEF,UAAU,CAAE,CAAE,CAAC,CACjD,CAEAG,iBAAiBA,CAACD,KAAY,CAAEE,SAA0B,CAAE,CAC1DC,OAAO,CAACH,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAEE,SAAS,CAAC,CACnE,CAEAE,MAAMA,CAAA,CAAG,CACP,GAAI,IAAI,CAACR,KAAK,CAACC,QAAQ,CAAE,CACvB,GAAI,IAAI,CAACH,KAAK,CAACW,QAAQ,CAAE,CACvB,MAAO,KAAI,CAACX,KAAK,CAACW,QAAQ,CAC5B,CAEA,mBACEjB,IAAA,QACEkB,SAAS,CAAC,oFAAoF,CAC9FC,IAAI,CAAC,OAAO,CACZ,YAAU,WAAW,CAAAC,QAAA,cAErBlB,KAAA,QAAKgB,SAAS,CAAC,sBAAsB,CAAAE,QAAA,eACnCpB,IAAA,CAACF,WAAW,EAACoB,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC/DlB,IAAA,OAAIkB,SAAS,CAAC,yBAAyB,CAAAE,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACjEpB,IAAA,MAAGkB,SAAS,CAAC,qBAAqB,CAAAE,QAAA,CAAC,yGAEnC,CAAG,CAAC,cACJpB,IAAA,WACEqB,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAE,CACxCN,SAAS,CAAC,wGAAwG,CAAAE,QAAA,CACnH,cAED,CAAQ,CAAC,CACRK,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,EAAI,IAAI,CAACnB,KAAK,CAACI,KAAK,eACzDV,KAAA,YAASgB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eACjCpB,IAAA,YAASkB,SAAS,CAAC,sDAAsD,CAAAE,QAAA,CAAC,kCAE1E,CAAS,CAAC,cACVpB,IAAA,QAAKkB,SAAS,CAAC,qDAAqD,CAAAE,QAAA,CACjE,IAAI,CAACZ,KAAK,CAACI,KAAK,CAACgB,KAAK,CACpB,CAAC,EACC,CACV,EACE,CAAC,CACH,CAAC,CAEV,CAEA,MAAO,KAAI,CAACtB,KAAK,CAACc,QAAQ,CAC5B,CACF,CAEA,cAAe,CAAAjB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}