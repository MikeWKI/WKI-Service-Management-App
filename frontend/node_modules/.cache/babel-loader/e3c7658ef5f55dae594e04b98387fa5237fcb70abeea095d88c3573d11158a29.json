{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{ArrowLeft,Clock,MessageSquare}from'lucide-react';import{Link}from'react-router-dom';import{useApiCache}from'../hooks/useApiCache';import{usePerformanceMonitor}from'../hooks/usePerformanceMonitor';import{useLoading}from'../contexts/LoadingContext';import{useNotifications}from'../contexts/NotificationContext';import LoadingSpinner from'./LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Status parsing functions\nconst parseNotesStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value.replace('%',''));if(numValue<=5)return'good';if(numValue<=10)return'warning';return'critical';};const parseDwellStatus=value=>{if(!value||value==='N/A')return'critical';const numValue=parseFloat(value);if(numValue<=3.0)return'good';if(numValue<=5.0)return'warning';return'critical';};const getPartsStaffMetrics=async()=>{const API_BASE_URL='https://wki-service-management-app.onrender.com';try{// ENHANCED: Try parallel trend API calls first for current data\nconsole.log('Fetching current trend data for Parts Staff metrics (parallel requests)...');// Define the metrics we want to fetch for Parts Staff\nconst partsStaffMetrics=['percentCasesWith3Notes','smMonthlyDwellAvg'];// Define location data structure (matching working LocationMetrics pattern)\nconst locationData=[{id:'wichita',name:'Wichita Kenworth'},{id:'emporia',name:'Emporia Kenworth'},{id:'dodge-city',name:'Dodge City Kenworth'},{id:'liberal',name:'Liberal Kenworth'}];// Create promises for all location/metric combinations\nconst allPromises=locationData.flatMap(location=>partsStaffMetrics.map(async metric=>{try{const trendResponse=await fetch(\"\".concat(API_BASE_URL,\"/api/locationMetrics/trends/\").concat(location.id,\"/\").concat(metric));if(trendResponse.ok){const trendData=await trendResponse.json();if(trendData!==null&&trendData!==void 0&&trendData.success&&trendData!==null&&trendData!==void 0&&trendData.data){const cv=trendData.data.currentValue;const value=cv!==null&&cv!==undefined?String(cv):'N/A';console.log(\"\\u2705 \".concat(location.id,\" \").concat(metric,\": \").concat(value));return{locationId:location.id,locationName:location.name,metric,value,success:true};}}console.log(\"\\u274C \".concat(location.id,\" \").concat(metric,\": No data\"));return{locationId:location.id,locationName:location.name,metric,value:'N/A',success:false};}catch(err){console.error(\"Error fetching \".concat(location.id,\" \").concat(metric,\":\"),err);return{locationId:location.id,locationName:location.name,metric,value:'N/A',success:false};}}));console.time('Parts Staff Parallel API Calls');const results=await Promise.all(allPromises);console.timeEnd('Parts Staff Parallel API Calls');// Define proper type for location values\n// Organize results by metric type\nconst metricGroups={notes:{title:'% Cases with 3+ Notes',values:[],icon:/*#__PURE__*/_jsx(MessageSquare,{className:\"w-6 h-6\"}),target:'100% (target)',impact:'Parts availability and Procurement Efficiency',description:'Cases require notations to be entered by everyone interacting with the case, If it impacts the repair order or the information is potentially relevant to another department there should be notes added to the case'},dwell:{title:'Monthly Dwell Average',values:[],icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),target:'< 3.0 days (target)',impact:'Customer satisfaction and service efficiency',description:'Average time trucks spend at dealership - parts availability directly impacts dwell time'}};// Process results into the groups\nresults.forEach(result=>{if(result.metric==='percentCasesWith3Notes'){const formattedValue=result.value!=='N/A'&&!result.value.includes('%')?\"\".concat(result.value,\"%\"):result.value;metricGroups.notes.values.push({location:result.locationName,value:formattedValue,status:parseNotesStatus(result.value)});}else if(result.metric==='smMonthlyDwellAvg'){const formattedValue=result.value!=='N/A'&&!result.value.includes('days')?\"\".concat(result.value,\" days\"):result.value;metricGroups.dwell.values.push({location:result.locationName,value:formattedValue,status:parseDwellStatus(result.value)});}});// Check if we got good data from trends\nconst successfulResults=results.filter(r=>r.success);console.log(\"\\u2705 Got \".concat(successfulResults.length,\" successful trend results out of \").concat(results.length,\" total requests\"));if(successfulResults.length>0){console.log('Using current trend data for Parts Staff metrics');// Convert to MetricCard format with current data\nreturn[{title:metricGroups.notes.title,value:'',target:metricGroups.notes.target,status:'good',impact:metricGroups.notes.impact,description:metricGroups.notes.description,icon:metricGroups.notes.icon,location:'All Locations',locations:metricGroups.notes.values},{title:metricGroups.dwell.title,value:'',target:metricGroups.dwell.target,status:'good',impact:metricGroups.dwell.impact,description:metricGroups.dwell.description,icon:metricGroups.dwell.icon,location:'All Locations',locations:metricGroups.dwell.values}];}// Fallback to original logic if trends don't work\nconsole.log('Trends data insufficient, falling back to original locationMetrics endpoint...');}catch(error){console.error('Error in enhanced Parts Staff metrics fetch:',error);}// ORIGINAL FALLBACK LOGIC - Use the original API endpoint\nconsole.log('Using original API endpoint as fallback...');try{const response=await fetch(\"\".concat(API_BASE_URL,\"/api/locationMetrics\"));if(response.ok){const apiResponse=await response.json();// Define proper type for location values\n// Initialize combined metrics for all locations\nconst combinedMetrics={notes:{title:'% Cases with 3+ Notes',values:[],icon:/*#__PURE__*/_jsx(MessageSquare,{className:\"w-6 h-6\"}),target:'100% (goal)',impact:'PACCAR case documentation compliance',description:'Percentage of cases meeting PACCAR requirement of 3+ notes'},dwell:{title:'Monthly Dwell Average',values:[],icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),target:'< 3.0 days (target)',impact:'Customer satisfaction and service efficiency',description:'Average time trucks spend at dealership - parts availability directly impacts dwell time'}};// Handle the nested data structure\nif(apiResponse.success&&apiResponse.data&&apiResponse.data.locations){apiResponse.data.locations.forEach(location=>{const locationName=location.name||'Unknown Location';const locationData=location.metrics||location;// % Cases with 3+ Notes\nconst notesValue=locationData.percentCasesWith3Notes||'N/A';combinedMetrics.notes.values.push({location:locationName,value:notesValue.includes('%')?notesValue:\"\".concat(notesValue,\"%\"),status:parseNotesStatus(notesValue)});// Monthly Dwell Average\nconst dwellValue=locationData.smMonthlyDwellAvg||'N/A';combinedMetrics.dwell.values.push({location:locationName,value:dwellValue==='N/A'?dwellValue:\"\".concat(dwellValue,\" days\"),status:parseDwellStatus(dwellValue)});});}// Convert to MetricCard format with combined location data\nconst metrics=[{title:combinedMetrics.notes.title,value:'',// Will be handled differently in rendering\ntarget:combinedMetrics.notes.target,status:'good',// Will be determined by individual locations\nimpact:combinedMetrics.notes.impact,description:combinedMetrics.notes.description,icon:combinedMetrics.notes.icon,location:'All Locations',locations:combinedMetrics.notes.values},{title:combinedMetrics.dwell.title,value:'',target:combinedMetrics.dwell.target,status:'good',impact:combinedMetrics.dwell.impact,description:combinedMetrics.dwell.description,icon:combinedMetrics.dwell.icon,location:'All Locations',locations:combinedMetrics.dwell.values}];return metrics;}}catch(error){console.log('Using fallback data due to API error:',error);}// Final fallback data with combined location structure\nreturn[{title:'% Cases with 3+ Notes',value:'',target:'< 5% (target)',status:'good',impact:'Parts availability and procurement efficiency',description:'Cases requiring extensive documentation often indicate parts delays or complexity',icon:/*#__PURE__*/_jsx(MessageSquare,{className:\"w-6 h-6\"}),location:'All Locations',locations:[{location:'Wichita',value:'3%',status:'good'},{location:'Dodge City',value:'2%',status:'good'},{location:'Liberal',value:'6%',status:'warning'},{location:'Emporia',value:'4%',status:'good'}]},{title:'Monthly Dwell Average',value:'',target:'< 3.0 days (target)',status:'warning',impact:'Customer satisfaction and service efficiency',description:'Average time trucks spend at dealership - parts availability directly impacts dwell time',icon:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6\"}),location:'All Locations',locations:[{location:'Wichita',value:'2.8 days',status:'good'},{location:'Dodge City',value:'3.2 days',status:'warning'},{location:'Liberal',value:'4.1 days',status:'critical'},{location:'Emporia',value:'2.9 days',status:'good'}]}];};function PartsStaffMetrics(){const{trackOperation}=usePerformanceMonitor('PartsStaffMetrics');const{startLoading,stopLoading,isLoading}=useLoading();const{success,error}=useNotifications();const hasShownSuccessRef=useRef(false);const{data:metrics,isLoading:dataLoading,error:dataError,refetch,isStale}=useApiCache('partsStaffMetrics',getPartsStaffMetrics,{cacheTime:10*60*1000,// 10 minutes\nstaleTime:5*60*1000// 5 minutes\n});useEffect(()=>{const trackDataLoad=trackOperation('dataLoad');if(dataLoading){startLoading('partsStaffMetrics');hasShownSuccessRef.current=false;// Reset when starting new load\n}else{stopLoading('partsStaffMetrics');trackDataLoad();if(dataError){hasShownSuccessRef.current=false;// Reset on error\nerror('Failed to Load Parts Staff Metrics',dataError,{actions:[{label:'Retry',action:()=>refetch(),variant:'primary'}]});}else if(metrics&&metrics.length>0&&!hasShownSuccessRef.current){const sessionKey='partsStaffMetrics_success_shown';const hasShownInSession=sessionStorage.getItem(sessionKey);if(!hasShownInSession){hasShownSuccessRef.current=true;// Mark as shown\nsessionStorage.setItem(sessionKey,'true');success('Metrics Updated','Parts staff metrics loaded successfully',{duration:2000});}}}},[dataLoading,dataError,metrics,startLoading,stopLoading,trackOperation,error,success,refetch]);const getStatusColor=status=>{switch(status){case'good':return'text-green-400 bg-gradient-to-br from-slate-800 to-slate-900 border-green-500/50';case'warning':return'text-yellow-400 bg-gradient-to-br from-slate-800 to-slate-900 border-yellow-500/50';case'critical':return'text-red-400 bg-gradient-to-br from-slate-800 to-slate-900 border-red-500/50';default:return'text-slate-300 bg-gradient-to-br from-slate-800 to-slate-900 border-slate-600';}};const getStatusIcon=status=>{switch(status){case'good':return'✅';case'warning':return'⚠️';case'critical':return'🔴';default:return'📊';}};// Show loading spinner while data is loading\nif(dataLoading){return/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",text:\"Loading Parts Staff metrics...\",fullScreen:true});}// Show stale data warning\nconst showStaleWarning=isStale&&metrics&&metrics.length>0;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/metrics\",className:\"flex items-center text-blue-400 hover:text-blue-300 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:20,className:\"mr-2\"}),\"Back to Role Selection\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-600\",children:\"|\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center text-slate-400 hover:text-white transition-colors\",children:\"Back to Workflow\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2\",children:\"Parts Staff PACCAR Metrics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-slate-300\",children:\"Parts availability and efficiency directly impact repair timelines\"}),showStaleWarning&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-yellow-900/50 border border-yellow-500/50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-400 text-sm\",children:[\"\\u26A0\\uFE0F Data may be outdated.\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>refetch(),className:\"ml-2 underline hover:no-underline\",children:\"Refresh now\"})]})})]}),dataError&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900/50 border border-red-500/50 rounded-lg p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-red-400 text-xl mb-2\",children:\"Error Loading Metrics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 mb-4\",children:dataError}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>refetch(),className:\"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors\",children:\"Try Again\"})]}),!dataLoading&&!dataError&&(!metrics||metrics.length===0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-4\",children:\"No Parts Staff Data Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 mb-6\",children:\"Parts Staff metrics will be available once W370 Service Scorecard data is uploaded and processed.\"})]}),!dataLoading&&!dataError&&metrics&&metrics.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-1 lg:grid-cols-2 gap-6 mb-12\",children:metrics.map((metric,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(getStatusColor(metric.status),\" rounded-lg border-2 p-6 shadow-2xl hover:shadow-lg transition-all duration-300 hover:scale-105\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[metric.icon,/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:getStatusIcon(metric.status)})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2 text-white\",children:metric.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-400 mb-2\",children:metric.location}),metric.locations&&metric.locations.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mb-4\",children:metric.locations.map((location,locIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 bg-slate-700/30 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-300\",children:location.location}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold text-white\",children:location.value}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:getStatusIcon(location.status)})]})]},locIndex))}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-white\",children:metric.value}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-400\",children:metric.target})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-400\",children:metric.target})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-300\",children:metric.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"text-red-400\",children:\"Impact:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:metric.impact})]})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-lg shadow-2xl border border-slate-700 p-8 mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"\\uD83C\\uDFAF Action Items to Improve Your Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2\",children:\"Parts Documentation\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:\"Update case notes when parts are delayed\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:\"Communicate ETA changes promptly\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:\"Use consistent status updates\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2\",children:\"Dwell Time Management\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:\"Expedite critical parts orders\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:\"Monitor high-dwell cases daily\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300\",children:\"Coordinate with service advisors\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-red-900/30 to-red-800/30 rounded-lg p-6 border border-red-500/50 backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-red-300 mb-4\",children:\"\\uD83D\\uDCA1 How Parts Staff Drive Dealer Success\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6 text-sm text-slate-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 text-white\",children:\"Operational Impact\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Parts availability directly affects customer dwell time\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Proper documentation reduces case complexity\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Quick turnaround improves technician productivity\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 text-white\",children:\"Customer Impact\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Faster parts = Shorter repair times\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Clear communication = Better customer experience\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Accurate ETAs = Improved trust and satisfaction\"})]})]})]})]})]});}export default PartsStaffMetrics;","map":{"version":3,"names":["React","useEffect","useRef","ArrowLeft","Clock","MessageSquare","Link","useApiCache","usePerformanceMonitor","useLoading","useNotifications","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","parseNotesStatus","value","numValue","parseFloat","replace","parseDwellStatus","getPartsStaffMetrics","API_BASE_URL","console","log","partsStaffMetrics","locationData","id","name","allPromises","flatMap","location","map","metric","trendResponse","fetch","concat","ok","trendData","json","success","data","cv","currentValue","undefined","String","locationId","locationName","err","error","time","results","Promise","all","timeEnd","metricGroups","notes","title","values","icon","className","target","impact","description","dwell","forEach","result","formattedValue","includes","push","status","successfulResults","filter","r","length","locations","response","apiResponse","combinedMetrics","metrics","notesValue","percentCasesWith3Notes","dwellValue","smMonthlyDwellAvg","PartsStaffMetrics","trackOperation","startLoading","stopLoading","isLoading","hasShownSuccessRef","dataLoading","dataError","refetch","isStale","cacheTime","staleTime","trackDataLoad","current","actions","label","action","variant","sessionKey","hasShownInSession","sessionStorage","getItem","setItem","duration","getStatusColor","getStatusIcon","size","text","fullScreen","showStaleWarning","children","to","onClick","index","locIndex"],"sources":["C:/Users/michaela/service-management-app/frontend/src/components/PartsStaffMetrics.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { ArrowLeft, Package, Clock, TrendingUp, AlertCircle, MessageSquare, BarChart3 } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useApiCache } from '../hooks/useApiCache';\r\nimport { usePerformanceMonitor } from '../hooks/usePerformanceMonitor';\r\nimport { useLoading } from '../contexts/LoadingContext';\r\nimport { useNotifications } from '../contexts/NotificationContext';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\ninterface MetricCard {\r\n  title: string;\r\n  value: string;\r\n  target: string;\r\n  status: 'good' | 'warning' | 'critical';\r\n  impact: string;\r\n  description: string;\r\n  icon: React.ReactNode;\r\n  location: string;\r\n  locations?: Array<{\r\n    location: string;\r\n    value: string;\r\n    status: 'good' | 'warning' | 'critical';\r\n  }>;\r\n}\r\n\r\n// Status parsing functions\r\nconst parseNotesStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value.replace('%', ''));\r\n  if (numValue <= 5) return 'good';\r\n  if (numValue <= 10) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst parseDwellStatus = (value: string): 'good' | 'warning' | 'critical' => {\r\n  if (!value || value === 'N/A') return 'critical';\r\n  const numValue = parseFloat(value);\r\n  if (numValue <= 3.0) return 'good';\r\n  if (numValue <= 5.0) return 'warning';\r\n  return 'critical';\r\n};\r\n\r\nconst getPartsStaffMetrics = async (): Promise<MetricCard[]> => {\r\n  const API_BASE_URL = 'https://wki-service-management-app.onrender.com';\r\n  \r\n  try {\r\n    // ENHANCED: Try parallel trend API calls first for current data\r\n    console.log('Fetching current trend data for Parts Staff metrics (parallel requests)...');\r\n    \r\n    // Define the metrics we want to fetch for Parts Staff\r\n    const partsStaffMetrics = [\r\n      'percentCasesWith3Notes',\r\n      'smMonthlyDwellAvg'\r\n    ];\r\n    \r\n    // Define location data structure (matching working LocationMetrics pattern)\r\n    const locationData = [\r\n      { id: 'wichita', name: 'Wichita Kenworth' },\r\n      { id: 'emporia', name: 'Emporia Kenworth' },\r\n      { id: 'dodge-city', name: 'Dodge City Kenworth' },\r\n      { id: 'liberal', name: 'Liberal Kenworth' }\r\n    ];\r\n    \r\n    // Create promises for all location/metric combinations\r\n    const allPromises = locationData.flatMap(location => \r\n      partsStaffMetrics.map(async (metric) => {\r\n        try {\r\n          const trendResponse = await fetch(`${API_BASE_URL}/api/locationMetrics/trends/${location.id}/${metric}`);\r\n          if (trendResponse.ok) {\r\n            const trendData = await trendResponse.json();\r\n            if (trendData?.success && trendData?.data) {\r\n              const cv = trendData.data.currentValue;\r\n              const value = (cv !== null && cv !== undefined) ? String(cv) : 'N/A';\r\n              console.log(`✅ ${location.id} ${metric}: ${value}`);\r\n              return { \r\n                locationId: location.id, \r\n                locationName: location.name, \r\n                metric, \r\n                value, \r\n                success: true \r\n              };\r\n            }\r\n          }\r\n          console.log(`❌ ${location.id} ${metric}: No data`);\r\n          return { \r\n            locationId: location.id, \r\n            locationName: location.name, \r\n            metric, \r\n            value: 'N/A', \r\n            success: false \r\n          };\r\n        } catch (err) {\r\n          console.error(`Error fetching ${location.id} ${metric}:`, err);\r\n          return { \r\n            locationId: location.id, \r\n            locationName: location.name, \r\n            metric, \r\n            value: 'N/A', \r\n            success: false \r\n          };\r\n        }\r\n      })\r\n    );\r\n    \r\n    console.time('Parts Staff Parallel API Calls');\r\n    const results = await Promise.all(allPromises);\r\n    console.timeEnd('Parts Staff Parallel API Calls');\r\n    \r\n    // Define proper type for location values\r\n    type LocationValue = {\r\n      location: string;\r\n      value: string;\r\n      status: 'good' | 'warning' | 'critical';\r\n    };\r\n    \r\n    // Organize results by metric type\r\n    const metricGroups = {\r\n      notes: { \r\n        title: '% Cases with 3+ Notes', \r\n        values: [] as LocationValue[], \r\n        icon: <MessageSquare className=\"w-6 h-6\" />, \r\n        target: '100% (target)', \r\n        impact: 'Parts availability and Procurement Efficiency', \r\n        description: 'Cases require notations to be entered by everyone interacting with the case, If it impacts the repair order or the information is potentially relevant to another department there should be notes added to the case' \r\n      },\r\n      dwell: { \r\n        title: 'Monthly Dwell Average', \r\n        values: [] as LocationValue[], \r\n        icon: <Clock className=\"w-6 h-6\" />, \r\n        target: '< 3.0 days (target)', \r\n        impact: 'Customer satisfaction and service efficiency', \r\n        description: 'Average time trucks spend at dealership - parts availability directly impacts dwell time' \r\n      }\r\n    };\r\n    \r\n    // Process results into the groups\r\n    results.forEach(result => {\r\n      if (result.metric === 'percentCasesWith3Notes') {\r\n        const formattedValue = result.value !== 'N/A' && !result.value.includes('%')\r\n          ? `${result.value}%`\r\n          : result.value;\r\n        metricGroups.notes.values.push({\r\n          location: result.locationName,\r\n          value: formattedValue,\r\n          status: parseNotesStatus(result.value)\r\n        });\r\n      } else if (result.metric === 'smMonthlyDwellAvg') {\r\n        const formattedValue = result.value !== 'N/A' && !result.value.includes('days')\r\n          ? `${result.value} days`\r\n          : result.value;\r\n        metricGroups.dwell.values.push({\r\n          location: result.locationName,\r\n          value: formattedValue,\r\n          status: parseDwellStatus(result.value)\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Check if we got good data from trends\r\n    const successfulResults = results.filter(r => r.success);\r\n    console.log(`✅ Got ${successfulResults.length} successful trend results out of ${results.length} total requests`);\r\n    \r\n    if (successfulResults.length > 0) {\r\n      console.log('Using current trend data for Parts Staff metrics');\r\n      \r\n      // Convert to MetricCard format with current data\r\n      return [\r\n        {\r\n          title: metricGroups.notes.title,\r\n          value: '', \r\n          target: metricGroups.notes.target,\r\n          status: 'good', \r\n          impact: metricGroups.notes.impact,\r\n          description: metricGroups.notes.description,\r\n          icon: metricGroups.notes.icon,\r\n          location: 'All Locations',\r\n          locations: metricGroups.notes.values\r\n        },\r\n        {\r\n          title: metricGroups.dwell.title,\r\n          value: '',\r\n          target: metricGroups.dwell.target,\r\n          status: 'good',\r\n          impact: metricGroups.dwell.impact,\r\n          description: metricGroups.dwell.description,\r\n          icon: metricGroups.dwell.icon,\r\n          location: 'All Locations',\r\n          locations: metricGroups.dwell.values\r\n        }\r\n      ];\r\n    }\r\n    \r\n    // Fallback to original logic if trends don't work\r\n    console.log('Trends data insufficient, falling back to original locationMetrics endpoint...');\r\n    \r\n  } catch (error) {\r\n    console.error('Error in enhanced Parts Staff metrics fetch:', error);\r\n  }\r\n\r\n  // ORIGINAL FALLBACK LOGIC - Use the original API endpoint\r\n  console.log('Using original API endpoint as fallback...');\r\n  \r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/api/locationMetrics`);\r\n    if (response.ok) {\r\n      const apiResponse = await response.json();\r\n      \r\n      // Define proper type for location values\r\n      type LocationValue = {\r\n        location: string;\r\n        value: string;\r\n        status: 'good' | 'warning' | 'critical';\r\n      };\r\n      \r\n      // Initialize combined metrics for all locations\r\n      const combinedMetrics = {\r\n        notes: { \r\n          title: '% Cases with 3+ Notes', \r\n          values: [] as LocationValue[], \r\n          icon: <MessageSquare className=\"w-6 h-6\" />, \r\n          target: '100% (goal)', \r\n          impact: 'PACCAR case documentation compliance', \r\n          description: 'Percentage of cases meeting PACCAR requirement of 3+ notes' \r\n        },\r\n        dwell: { \r\n          title: 'Monthly Dwell Average', \r\n          values: [] as LocationValue[], \r\n          icon: <Clock className=\"w-6 h-6\" />, \r\n          target: '< 3.0 days (target)', \r\n          impact: 'Customer satisfaction and service efficiency', \r\n          description: 'Average time trucks spend at dealership - parts availability directly impacts dwell time' \r\n        }\r\n      };\r\n      \r\n      // Handle the nested data structure\r\n      if (apiResponse.success && apiResponse.data && apiResponse.data.locations) {\r\n        apiResponse.data.locations.forEach((location: any) => {\r\n          const locationName = location.name || 'Unknown Location';\r\n          const locationData = location.metrics || location;\r\n          \r\n          // % Cases with 3+ Notes\r\n          const notesValue = locationData.percentCasesWith3Notes || 'N/A';\r\n          combinedMetrics.notes.values.push({\r\n            location: locationName,\r\n            value: notesValue.includes('%') ? notesValue : `${notesValue}%`,\r\n            status: parseNotesStatus(notesValue)\r\n          });\r\n\r\n          // Monthly Dwell Average\r\n          const dwellValue = locationData.smMonthlyDwellAvg || 'N/A';\r\n          combinedMetrics.dwell.values.push({\r\n            location: locationName,\r\n            value: dwellValue === 'N/A' ? dwellValue : `${dwellValue} days`,\r\n            status: parseDwellStatus(dwellValue)\r\n          });\r\n        });\r\n      }\r\n      \r\n      // Convert to MetricCard format with combined location data\r\n      const metrics: MetricCard[] = [\r\n        {\r\n          title: combinedMetrics.notes.title,\r\n          value: '', // Will be handled differently in rendering\r\n          target: combinedMetrics.notes.target,\r\n          status: 'good', // Will be determined by individual locations\r\n          impact: combinedMetrics.notes.impact,\r\n          description: combinedMetrics.notes.description,\r\n          icon: combinedMetrics.notes.icon,\r\n          location: 'All Locations',\r\n          locations: combinedMetrics.notes.values\r\n        },\r\n        {\r\n          title: combinedMetrics.dwell.title,\r\n          value: '',\r\n          target: combinedMetrics.dwell.target,\r\n          status: 'good',\r\n          impact: combinedMetrics.dwell.impact,\r\n          description: combinedMetrics.dwell.description,\r\n          icon: combinedMetrics.dwell.icon,\r\n          location: 'All Locations',\r\n          locations: combinedMetrics.dwell.values\r\n        }\r\n      ];\r\n      \r\n      return metrics;\r\n    }\r\n  } catch (error) {\r\n    console.log('Using fallback data due to API error:', error);\r\n  }\r\n  \r\n  // Final fallback data with combined location structure\r\n  return [\r\n    {\r\n      title: '% Cases with 3+ Notes',\r\n      value: '',\r\n      target: '< 5% (target)',\r\n      status: 'good',\r\n      impact: 'Parts availability and procurement efficiency',\r\n      description: 'Cases requiring extensive documentation often indicate parts delays or complexity',\r\n      icon: <MessageSquare className=\"w-6 h-6\" />,\r\n      location: 'All Locations',\r\n      locations: [\r\n        { location: 'Wichita', value: '3%', status: 'good' as const },\r\n        { location: 'Dodge City', value: '2%', status: 'good' as const },\r\n        { location: 'Liberal', value: '6%', status: 'warning' as const },\r\n        { location: 'Emporia', value: '4%', status: 'good' as const }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Monthly Dwell Average',\r\n      value: '',\r\n      target: '< 3.0 days (target)',\r\n      status: 'warning',\r\n      impact: 'Customer satisfaction and service efficiency',\r\n      description: 'Average time trucks spend at dealership - parts availability directly impacts dwell time',\r\n      icon: <Clock className=\"w-6 h-6\" />,\r\n      location: 'All Locations',\r\n      locations: [\r\n        { location: 'Wichita', value: '2.8 days', status: 'good' as const },\r\n        { location: 'Dodge City', value: '3.2 days', status: 'warning' as const },\r\n        { location: 'Liberal', value: '4.1 days', status: 'critical' as const },\r\n        { location: 'Emporia', value: '2.9 days', status: 'good' as const }\r\n      ]\r\n    }\r\n  ];\r\n};\r\n\r\nfunction PartsStaffMetrics() {\r\n  const { trackOperation } = usePerformanceMonitor('PartsStaffMetrics');\r\n  const { startLoading, stopLoading, isLoading } = useLoading();\r\n  const { success, error } = useNotifications();\r\n  const hasShownSuccessRef = useRef(false);\r\n  \r\n  const { \r\n    data: metrics, \r\n    isLoading: dataLoading, \r\n    error: dataError, \r\n    refetch,\r\n    isStale \r\n  } = useApiCache('partsStaffMetrics', getPartsStaffMetrics, {\r\n    cacheTime: 10 * 60 * 1000, // 10 minutes\r\n    staleTime: 5 * 60 * 1000   // 5 minutes\r\n  });\r\n\r\n  useEffect(() => {\r\n    const trackDataLoad = trackOperation('dataLoad');\r\n    \r\n    if (dataLoading) {\r\n      startLoading('partsStaffMetrics');\r\n      hasShownSuccessRef.current = false; // Reset when starting new load\r\n    } else {\r\n      stopLoading('partsStaffMetrics');\r\n      trackDataLoad();\r\n      \r\n      if (dataError) {\r\n        hasShownSuccessRef.current = false; // Reset on error\r\n        error('Failed to Load Parts Staff Metrics', dataError, {\r\n          actions: [\r\n            {\r\n              label: 'Retry',\r\n              action: () => refetch(),\r\n              variant: 'primary'\r\n            }\r\n          ]\r\n        });\r\n      } else if (metrics && metrics.length > 0 && !hasShownSuccessRef.current) {\r\n        const sessionKey = 'partsStaffMetrics_success_shown';\r\n        const hasShownInSession = sessionStorage.getItem(sessionKey);\r\n        \r\n        if (!hasShownInSession) {\r\n          hasShownSuccessRef.current = true; // Mark as shown\r\n          sessionStorage.setItem(sessionKey, 'true');\r\n          success('Metrics Updated', 'Parts staff metrics loaded successfully', { duration: 2000 });\r\n        }\r\n      }\r\n    }\r\n  }, [dataLoading, dataError, metrics, startLoading, stopLoading, trackOperation, error, success, refetch]);\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'good': return 'text-green-400 bg-gradient-to-br from-slate-800 to-slate-900 border-green-500/50';\r\n      case 'warning': return 'text-yellow-400 bg-gradient-to-br from-slate-800 to-slate-900 border-yellow-500/50';\r\n      case 'critical': return 'text-red-400 bg-gradient-to-br from-slate-800 to-slate-900 border-red-500/50';\r\n      default: return 'text-slate-300 bg-gradient-to-br from-slate-800 to-slate-900 border-slate-600';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'good': return '✅';\r\n      case 'warning': return '⚠️';\r\n      case 'critical': return '🔴';\r\n      default: return '📊';\r\n    }\r\n  };\r\n\r\n  // Show loading spinner while data is loading\r\n  if (dataLoading) {\r\n    return <LoadingSpinner size=\"lg\" text=\"Loading Parts Staff metrics...\" fullScreen />;\r\n  }\r\n\r\n  // Show stale data warning\r\n  const showStaleWarning = isStale && metrics && metrics.length > 0;\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Link \r\n            to=\"/metrics\" \r\n            className=\"flex items-center text-blue-400 hover:text-blue-300 transition-colors\"\r\n          >\r\n            <ArrowLeft size={20} className=\"mr-2\" />\r\n            Back to Role Selection\r\n          </Link>\r\n          <div className=\"text-slate-600\">|</div>\r\n          <Link \r\n            to=\"/\" \r\n            className=\"flex items-center text-slate-400 hover:text-white transition-colors\"\r\n          >\r\n            Back to Workflow\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2\">\r\n          Parts Staff PACCAR Metrics\r\n        </h1>\r\n        <p className=\"text-xl text-slate-300\">\r\n          Parts availability and efficiency directly impact repair timelines\r\n        </p>\r\n        \r\n        {/* Stale data warning */}\r\n        {showStaleWarning && (\r\n          <div className=\"mt-4 p-3 bg-yellow-900/50 border border-yellow-500/50 rounded-lg\">\r\n            <p className=\"text-yellow-400 text-sm\">\r\n              ⚠️ Data may be outdated. \r\n              <button \r\n                onClick={() => refetch()} \r\n                className=\"ml-2 underline hover:no-underline\"\r\n              >\r\n                Refresh now\r\n              </button>\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Error state */}\r\n      {dataError && (\r\n        <div className=\"bg-red-900/50 border border-red-500/50 rounded-lg p-6 mb-8\">\r\n          <h3 className=\"text-red-400 text-xl mb-2\">Error Loading Metrics</h3>\r\n          <p className=\"text-slate-300 mb-4\">{dataError}</p>\r\n          <button \r\n            onClick={() => refetch()}\r\n            className=\"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors\"\r\n          >\r\n            Try Again\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Show message when no legitimate scorecard data is available */}\r\n      {!dataLoading && !dataError && (!metrics || metrics.length === 0) && (\r\n        <div className=\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center mb-8\">\r\n          <div className=\"text-6xl mb-4\">📦</div>\r\n          <h2 className=\"text-2xl font-bold text-white mb-4\">No Parts Staff Data Available</h2>\r\n          <p className=\"text-slate-300 mb-6\">\r\n            Parts Staff metrics will be available once W370 Service Scorecard data is uploaded and processed.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Metrics Grid - only show when data exists */}\r\n      {!dataLoading && !dataError && metrics && metrics.length > 0 && (\r\n        <div className=\"grid md:grid-cols-1 lg:grid-cols-2 gap-6 mb-12\">\r\n          {metrics.map((metric, index) => (\r\n            <div\r\n              key={index}\r\n              className={`${getStatusColor(metric.status)} rounded-lg border-2 p-6 shadow-2xl hover:shadow-lg transition-all duration-300 hover:scale-105`}\r\n            >\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                {metric.icon}\r\n                <span className=\"text-2xl\">{getStatusIcon(metric.status)}</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold mb-2 text-white\">{metric.title}</h3>\r\n              <div className=\"text-sm text-slate-400 mb-2\">{metric.location}</div>\r\n              \r\n              {/* Show combined location data if locations array exists */}\r\n              {metric.locations && metric.locations.length > 0 ? (\r\n                <div className=\"space-y-2 mb-4\">\r\n                  {metric.locations.map((location, locIndex) => (\r\n                    <div key={locIndex} className=\"flex justify-between items-center p-2 bg-slate-700/30 rounded\">\r\n                      <span className=\"text-sm text-slate-300\">{location.location}</span>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm font-bold text-white\">{location.value}</span>\r\n                        <span className=\"text-xs\">{getStatusIcon(location.status)}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-2xl font-bold text-white\">{metric.value}</span>\r\n                    <span className=\"text-sm text-slate-400\">{metric.target}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm text-slate-400\">{metric.target}</span>\r\n                </div>\r\n                <p className=\"text-sm text-slate-300\">{metric.description}</p>\r\n                <div className=\"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600\">\r\n                  <strong className=\"text-red-400\">Impact:</strong> <span className=\"text-slate-300\">{metric.impact}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Items */}\r\n      <div className=\"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-lg shadow-2xl border border-slate-700 p-8 mb-8\">\r\n        <h2 className=\"text-2xl font-bold text-white mb-6\">🎯 Action Items to Improve Your Metrics</h2>\r\n        <div className=\"grid md:grid-cols-2 gap-8\">\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2\">Parts Documentation</h3>\r\n            <ul className=\"space-y-2\">\r\n              <li className=\"flex items-start space-x-2 text-sm\">\r\n                <span className=\"text-red-500 mt-1\">•</span>\r\n                <span className=\"text-slate-300\">Update case notes when parts are delayed</span>\r\n              </li>\r\n              <li className=\"flex items-start space-x-2 text-sm\">\r\n                <span className=\"text-red-500 mt-1\">•</span>\r\n                <span className=\"text-slate-300\">Communicate ETA changes promptly</span>\r\n              </li>\r\n              <li className=\"flex items-start space-x-2 text-sm\">\r\n                <span className=\"text-red-500 mt-1\">•</span>\r\n                <span className=\"text-slate-300\">Use consistent status updates</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2\">Dwell Time Management</h3>\r\n            <ul className=\"space-y-2\">\r\n              <li className=\"flex items-start space-x-2 text-sm\">\r\n                <span className=\"text-red-500 mt-1\">•</span>\r\n                <span className=\"text-slate-300\">Expedite critical parts orders</span>\r\n              </li>\r\n              <li className=\"flex items-start space-x-2 text-sm\">\r\n                <span className=\"text-red-500 mt-1\">•</span>\r\n                <span className=\"text-slate-300\">Monitor high-dwell cases daily</span>\r\n              </li>\r\n              <li className=\"flex items-start space-x-2 text-sm\">\r\n                <span className=\"text-red-500 mt-1\">•</span>\r\n                <span className=\"text-slate-300\">Coordinate with service advisors</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Performance Impact */}\r\n      <div className=\"bg-gradient-to-r from-red-900/30 to-red-800/30 rounded-lg p-6 border border-red-500/50 backdrop-blur-sm\">\r\n        <h3 className=\"text-xl font-bold text-red-300 mb-4\">💡 How Parts Staff Drive Dealer Success</h3>\r\n        <div className=\"grid md:grid-cols-2 gap-6 text-sm text-slate-300\">\r\n          <div>\r\n            <h4 className=\"font-semibold mb-2 text-white\">Operational Impact</h4>\r\n            <ul className=\"space-y-1\">\r\n              <li>• Parts availability directly affects customer dwell time</li>\r\n              <li>• Proper documentation reduces case complexity</li>\r\n              <li>• Quick turnaround improves technician productivity</li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-semibold mb-2 text-white\">Customer Impact</h4>\r\n            <ul className=\"space-y-1\">\r\n              <li>• Faster parts = Shorter repair times</li>\r\n              <li>• Clear communication = Better customer experience</li>\r\n              <li>• Accurate ETAs = Improved trust and satisfaction</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PartsStaffMetrics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}