/*! For license information please see main.44368fd4.js.LICENSE.txt */
(()=>{var __webpack_modules__={43:(e,t,s)=>{"use strict";e.exports=s(202)},45:(e,t,s)=>{var a=s(738).default;e.exports=function(e,t){if("object"!=a(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},88:(e,t,s)=>{var a=s(756);e.exports=function(e,t,s){return e.set(a(e,t),s),s},e.exports.__esModule=!0,e.exports.default=e.exports},101:e=>{e.exports=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")},e.exports.__esModule=!0,e.exports.default=e.exports},123:()=>{},153:(e,t,s)=>{"use strict";var a=s(43),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var a,r={},c=null,d=null;for(a in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},183:(e,t,s)=>{var a=s(756);e.exports=function(e,t,s){return s(a(e,t))},e.exports.__esModule=!0,e.exports.default=e.exports},202:(e,t)=>{"use strict";var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||m}function x(){}function b(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,f(y,v.prototype),y.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,a){var n,r={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!P.hasOwnProperty(n)&&(r[n]=t[n]);var l=arguments.length-2;if(1===l)r.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:s,type:e,key:i,ref:o,props:r,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case a:l=!0}}if(l)return i=i(l=e),e=""===r?"."+F(l,0):r,_(i)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),E(i,t,n,"",function(e){return e})):null!=i&&(k(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",_(e))for(var c=0;c<e.length;c++){var d=r+F(o=e[c],c);l+=E(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,n,d=r+F(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,s){if(null==e)return e;var a=[],n=0;return E(e,a,"","",function(e){return t.call(s,e,n++)}),a}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},M={transition:null},R={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,s){N(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=n,t.Profiler=i,t.PureComponent=b,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=D,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f({},e.props),r=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=S.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!P.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:s,type:e.type,key:r,ref:i,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,s){return T.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,s){return T.current.useReducer(e,t,s)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return T.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var a=s-1>>>1,n=e[a];if(!(0<r(n,t)))break e;e[a]=t,e[s]=n,s=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var a=0,n=e.length,i=n>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,s))c<n&&0>r(d,l)?(e[a]=d,e[c]=s,a=c):(e[a]=l,e[o]=s,a=o);else{if(!(c<n&&0>r(d,s)))break e;e[a]=d,e[c]=s,a=c}}}return t}function r(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=a(d)}}function _(e){if(g=!1,y(e),!f)if(null!==a(c))f=!0,M(w);else{var t=a(d);null!==t&&R(_,t.startTime-e)}}function w(e,s){f=!1,g&&(g=!1,x(k),k=-1),m=!0;var r=p;try{for(y(s),h=a(c);null!==h&&(!(h.expirationTime>s)||e&&!E());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var o=i(h.expirationTime<=s);s=t.unstable_now(),"function"===typeof o?h.callback=o:h===a(c)&&n(c),y(s)}else n(c);h=a(c)}if(null!==h)var l=!0;else{var u=a(d);null!==u&&R(_,u.startTime-s),l=!1}return l}finally{h=null,p=r,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,P=!1,A=null,k=-1,C=5,F=-1;function E(){return!(t.unstable_now()-F<C)}function N(){if(null!==A){var e=t.unstable_now();F=e;var s=!0;try{s=A(!0,e)}finally{s?S():(P=!1,A=null)}}else P=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,T=j.port2;j.port1.onmessage=N,S=function(){T.postMessage(null)}}else S=function(){v(N,0)};function M(e){A=e,P||(P=!0,S())}function R(e,s){k=v(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var s=p;p=t;try{return e()}finally{p=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=p;p=e;try{return t()}finally{p=s}},t.unstable_scheduleCallback=function(e,n,r){var i=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?i+r:i:r=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>i?(e.sortIndex=r,s(d,e),null===a(c)&&e===a(d)&&(g?(x(k),k=-1):g=!0,R(_,r-i))):(e.sortIndex=o,s(c,e),f||m||(f=!0,M(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var s=p;p=t;try{return e.apply(this,arguments)}finally{p=s}}}},312:(e,t,s)=>{var a=s(101);e.exports=function(e,t){a(e,t),t.add(e)},e.exports.__esModule=!0,e.exports.default=e.exports},319:()=>{},391:(e,t,s)=>{"use strict";var a=s(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},395:()=>{},459:(e,t,s)=>{var a=s(101);e.exports=function(e,t,s){a(e,t),t.set(e,s)},e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,s)=>{"use strict";e.exports=s(153)},668:(e,t,s)=>{var a=s(756);e.exports=function(e,t){return e.get(a(e,t))},e.exports.__esModule=!0,e.exports.default=e.exports},673:()=>{},688:()=>{},693:(e,t,s)=>{var a=s(736);e.exports=function(e,t,s){return(t=a(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e},e.exports.__esModule=!0,e.exports.default=e.exports},730:(e,t,s)=>{"use strict";var a=s(43),n=s(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,s,a,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,s,a){var n=g.hasOwnProperty(t)?g[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,a){if(null===t||"undefined"===typeof t||function(e,t,s,a){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,a))return!0;if(a)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,a)&&(s=null),a||null===n?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,a=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var I,L=Object.assign;function O(e){if(void 0===I)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var G=!1;function B(e,t){if(!e||G)return"";G=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),r=a.stack.split("\n"),i=n.length-1,o=r.length-1;1<=i&&0<=o&&n[i]!==r[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==r[o]){if(1!==i||1!==o)do{if(i--,0>--o||n[i]!==r[o]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{G=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?O(e):""}function W(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case A:return"Profiler";case P:return"StrictMode";case E:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(s){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=V(e)?e.checked?"true":"false":e.value),(e=a)!==s&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var s=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function Q(e,t){var s=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;s=H(null!=t.value?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var s=H(t.value),a=t.type;if(null!=s)"number"===a?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&X(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+H(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(r(92));if(te(s)){if(1<s.length)throw Error(r(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:H(s)}}function re(e,t){var s=H(t.value),a=H(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var a=0===s.indexOf("--"),n=fe(s,t[s],a);"float"===s&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Pe=null;function Ae(e){if(e=bn(e)){if("function"!==typeof we)throw Error(r(280));var t=e.stateNode;t&&(t=_n(t),we(e.stateNode,e.type,t))}}function ke(e){Se?Pe?Pe.push(e):Pe=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Pe;if(Pe=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Fe(e,t){return e(t)}function Ee(){}var Ne=!1;function je(e,t,s){if(Ne)return e(t,s);Ne=!0;try{return Fe(e,t,s)}finally{Ne=!1,(null!==Se||null!==Pe)&&(Ee(),Ce())}}function Te(e,t){var s=e.stateNode;if(null===s)return null;var a=_n(s);if(null===a)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(r(231,t,typeof s));return s}var Me=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Me=!1}function De(e,t,s,a,n,r,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Ie=!1,Le=null,Oe=!1,Ge=null,Be={onError:function(e){Ie=!0,Le=e}};function We(e,t,s,a,n,r,i,o,l){Ie=!1,Le=null,De.apply(Be,arguments)}function ze(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(r(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(r(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(a=n.return)){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return He(n),e;if(i===a)return He(n),t;i=i.sibling}throw Error(r(188))}if(s.return!==a.return)s=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,a=i;break}if(l===a){o=!0,a=n,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,a=n;break}if(l===a){o=!0,a=i,s=n;break}l=l.sibling}if(!o)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(3!==s.tag)throw Error(r(188));return s.stateNode.current===s?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,Qe=n.unstable_requestPaint,Je=n.unstable_now,$e=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,st=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,rt=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var s=e.pendingLanes;if(0===s)return 0;var a=0,n=e.suspendedLanes,r=e.pingedLanes,i=268435455&s;if(0!==i){var o=i&~n;0!==o?a=ut(o):0!==(r&=i)&&(a=ut(r))}else 0!==(i=s&~n)?a=ut(i):0!==r&&(a=ut(r));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(r=t&-t)||16===n&&0!==(4194240&r)))return t;if(0!==(4&a)&&(a|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(s=31-it(t)),a|=e[s],t&=~n;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function vt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=s}function xt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-it(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,St,Pt,At,kt=!1,Ct=[],Ft=null,Et=null,Nt=null,jt=new Map,Tt=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,s,a,n,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:r,targetContainers:[n]},null!==t&&(null!==(t=bn(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Lt(e){var t=xn(e.target);if(null!==t){var s=ze(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ue(s)))return e.blockedOn=t,void At(e.priority,function(){St(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=bn(s))&&wt(t),e.blockedOn=s,!1;var a=new(s=e.nativeEvent).constructor(s.type,s);ye=a,s.target.dispatchEvent(a),ye=null,t.shift()}return!0}function Gt(e,t,s){Ot(e)&&s.delete(t)}function Bt(){kt=!1,null!==Ft&&Ot(Ft)&&(Ft=null),null!==Et&&Ot(Et)&&(Et=null),null!==Nt&&Ot(Nt)&&(Nt=null),jt.forEach(Gt),Tt.forEach(Gt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Wt(t,e)}if(0<Ct.length){Wt(Ct[0],e);for(var s=1;s<Ct.length;s++){var a=Ct[s];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Ft&&Wt(Ft,e),null!==Et&&Wt(Et,e),null!==Nt&&Wt(Nt,e),jt.forEach(t),Tt.forEach(t),s=0;s<Mt.length;s++)(a=Mt[s]).blockedOn===e&&(a.blockedOn=null);for(;0<Mt.length&&null===(s=Mt[0]).blockedOn;)Lt(s),null===s.blockedOn&&Mt.shift()}var Ut=y.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,s,a){var n=bt,r=Ut.transition;Ut.transition=null;try{bt=1,Kt(e,t,s,a)}finally{bt=n,Ut.transition=r}}function qt(e,t,s,a){var n=bt,r=Ut.transition;Ut.transition=null;try{bt=4,Kt(e,t,s,a)}finally{bt=n,Ut.transition=r}}function Kt(e,t,s,a){if(Ht){var n=Yt(e,t,s,a);if(null===n)Ua(e,t,a,Xt,s),Dt(e,a);else if(function(e,t,s,a,n){switch(t){case"focusin":return Ft=It(Ft,e,t,s,a,n),!0;case"dragenter":return Et=It(Et,e,t,s,a,n),!0;case"mouseover":return Nt=It(Nt,e,t,s,a,n),!0;case"pointerover":var r=n.pointerId;return jt.set(r,It(jt.get(r)||null,e,t,s,a,n)),!0;case"gotpointercapture":return r=n.pointerId,Tt.set(r,It(Tt.get(r)||null,e,t,s,a,n)),!0}return!1}(n,e,t,s,a))a.stopPropagation();else if(Dt(e,a),4&t&&-1<Rt.indexOf(e)){for(;null!==n;){var r=bn(n);if(null!==r&&_t(r),null===(r=Yt(e,t,s,a))&&Ua(e,t,a,Xt,s),r===n)break;n=r}null!==n&&a.stopPropagation()}else Ua(e,t,a,null,s)}}var Xt=null;function Yt(e,t,s,a){if(Xt=null,null!==(e=xn(e=_e(a))))if(null===(t=ze(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case st:return 16;case at:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function es(){if(Zt)return Zt;var e,t,s=$t,a=s.length,n="value"in Jt?Jt.value:Jt.textContent,r=n.length;for(e=0;e<a&&s[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&s[a-t]===n[r-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function as(){return!1}function ns(e){function t(t,s,a,n,r){for(var i in this._reactName=t,this._targetInst=a,this.type=s,this.nativeEvent=n,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ss:as,this.isPropagationStopped=as,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var rs,is,os,ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=ns(ls),ds=L({},ls,{view:0,detail:0}),us=ns(ds),hs=L({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&"mousemove"===e.type?(rs=e.screenX-os.screenX,is=e.screenY-os.screenY):is=rs=0,os=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:is}}),ps=ns(hs),ms=ns(L({},hs,{dataTransfer:0})),fs=ns(L({},ds,{relatedTarget:0})),gs=ns(L({},ls,{animationName:0,elapsedTime:0,pseudoElement:0})),vs=L({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xs=ns(vs),bs=ns(L({},ls,{data:0})),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ss(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ws[e])&&!!t[e]}function Ps(){return Ss}var As=L({},ds,{key:function(e){if(e.key){var t=ys[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_s[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ks=ns(As),Cs=ns(L({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fs=ns(L({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps})),Es=ns(L({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ns=L({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),js=ns(Ns),Ts=[9,13,27,32],Ms=d&&"CompositionEvent"in window,Rs=null;d&&"documentMode"in document&&(Rs=document.documentMode);var Ds=d&&"TextEvent"in window&&!Rs,Is=d&&(!Ms||Rs&&8<Rs&&11>=Rs),Ls=String.fromCharCode(32),Os=!1;function Gs(e,t){switch(e){case"keyup":return-1!==Ts.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ws=!1;var zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zs[e.type]:"textarea"===t}function Hs(e,t,s,a){ke(a),0<(t=Va(t,"onChange")).length&&(s=new cs("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Vs=null,qs=null;function Ks(e){La(e,0)}function Xs(e){if(K(yn(e)))return e}function Ys(e,t){if("change"===e)return t}var Qs=!1;if(d){var Js;if(d){var $s="oninput"in document;if(!$s){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),$s="function"===typeof Zs.oninput}Js=$s}else Js=!1;Qs=Js&&(!document.documentMode||9<document.documentMode)}function ea(){Vs&&(Vs.detachEvent("onpropertychange",ta),qs=Vs=null)}function ta(e){if("value"===e.propertyName&&Xs(qs)){var t=[];Hs(t,qs,e,_e(e)),je(Ks,t)}}function sa(e,t,s){"focusin"===e?(ea(),qs=s,(Vs=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xs(qs)}function na(e,t){if("click"===e)return Xs(t)}function ra(e,t){if("input"===e||"change"===e)return Xs(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!u.call(t,n)||!ia(e[n],t[n]))return!1}return!0}function la(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var s,a=la(e);for(e=0;a;){if(3===a.nodeType){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=la(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(a){s=!1}if(!s)break;t=X((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pa(e){var t=ua(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&da(s.ownerDocument.documentElement,s)){if(null!==a&&ha(s))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,r=Math.min(a.start,n);a=void 0===a.end?r:Math.min(a.end,n),!e.extend&&r>a&&(n=a,a=r,r=n),n=ca(s,r);var i=ca(s,a);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),r>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ma=d&&"documentMode"in document&&11>=document.documentMode,fa=null,ga=null,va=null,xa=!1;function ba(e,t,s){var a=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;xa||null==fa||fa!==X(a)||("selectionStart"in(a=fa)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},va&&oa(va,a)||(va=a,0<(a=Va(ga,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=fa)))}function ya(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var _a={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},wa={},Sa={};function Pa(e){if(wa[e])return wa[e];if(!_a[e])return e;var t,s=_a[e];for(t in s)if(s.hasOwnProperty(t)&&t in Sa)return wa[e]=s[t];return e}d&&(Sa=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);var Aa=Pa("animationend"),ka=Pa("animationiteration"),Ca=Pa("animationstart"),Fa=Pa("transitionend"),Ea=new Map,Na="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(e,t){Ea.set(e,t),l(t,[e])}for(var Ta=0;Ta<Na.length;Ta++){var Ma=Na[Ta];ja(Ma.toLowerCase(),"on"+(Ma[0].toUpperCase()+Ma.slice(1)))}ja(Aa,"onAnimationEnd"),ja(ka,"onAnimationIteration"),ja(Ca,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(Fa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Ia(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,a,n,i,o,l,c){if(We.apply(this,arguments),Ie){if(!Ie)throw Error(r(198));var d=Le;Ie=!1,Le=null,Oe||(Oe=!0,Ge=d)}}(a,t,void 0,e),e.currentTarget=null}function La(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&n.isPropagationStopped())break e;Ia(n,o,c),r=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==r&&n.isPropagationStopped())break e;Ia(n,o,c),r=l}}}if(Oe)throw e=Ge,Oe=!1,Ge=null,e}function Oa(e,t){var s=t[fn];void 0===s&&(s=t[fn]=new Set);var a=e+"__bubble";s.has(a)||(za(t,e,2,!1),s.add(a))}function Ga(e,t,s){var a=0;t&&(a|=4),za(s,e,a,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[Ba]){e[Ba]=!0,i.forEach(function(t){"selectionchange"!==t&&(Da.has(t)||Ga(t,!1,e),Ga(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ba]||(t[Ba]=!0,Ga("selectionchange",!1,t))}}function za(e,t,s,a){switch(Qt(t)){case 1:var n=Vt;break;case 4:n=qt;break;default:n=Kt}s=n.bind(null,t,s,e),n=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Ua(e,t,s,a,n){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==o;){if(null===(i=xn(o)))return;if(5===(l=i.tag)||6===l){a=r=i;continue e}o=o.parentNode}}a=a.return}je(function(){var a=r,n=_e(s),i=[];e:{var o=Ea.get(e);if(void 0!==o){var l=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":l=ks;break;case"focusin":c="focus",l=fs;break;case"focusout":c="blur",l=fs;break;case"beforeblur":case"afterblur":l=fs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ms;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fs;break;case Aa:case ka:case Ca:l=gs;break;case Fa:l=Es;break;case"scroll":l=us;break;case"wheel":l=js;break;case"copy":case"cut":case"paste":l=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cs}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=a;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Te(m,h))&&d.push(Ha(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,s,n),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===ye||!(c=s.relatedTarget||s.fromElement)||!xn(c)&&!c[mn])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=s.relatedTarget||s.toElement)?xn(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=ps,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cs,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:yn(l),p=null==c?o:yn(c),(o=new d(f,m+"leave",l,s,n)).target=u,o.relatedTarget=p,f=null,xn(n)===a&&((d=new d(h,m+"enter",c,s,n)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=qa(p))m++;for(p=0,f=h;f;f=qa(f))p++;for(;0<m-p;)d=qa(d),m--;for(;0<p-m;)h=qa(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=qa(d),h=qa(h)}d=null}else d=null;null!==l&&Ka(i,o,l,d,!1),null!==c&&null!==u&&Ka(i,u,c,d,!0)}if("select"===(l=(o=a?yn(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Ys;else if(Us(o))if(Qs)g=ra;else{g=aa;var v=sa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=na);switch(g&&(g=g(e,a))?Hs(i,g,s,n):(v&&v(e,o,a),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=a?yn(a):window,e){case"focusin":(Us(v)||"true"===v.contentEditable)&&(fa=v,ga=a,va=null);break;case"focusout":va=ga=fa=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,ba(i,s,n);break;case"selectionchange":if(ma)break;case"keydown":case"keyup":ba(i,s,n)}var x;if(Ms)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ws?Gs(e,s)&&(b="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(b="onCompositionStart");b&&(Is&&"ko"!==s.locale&&(Ws||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ws&&(x=es()):($t="value"in(Jt=n)?Jt.value:Jt.textContent,Ws=!0)),0<(v=Va(a,b)).length&&(b=new bs(b,e,null,s,n),i.push({event:b,listeners:v}),x?b.data=x:null!==(x=Bs(s))&&(b.data=x))),(x=Ds?function(e,t){switch(e){case"compositionend":return Bs(t);case"keypress":return 32!==t.which?null:(Os=!0,Ls);case"textInput":return(e=t.data)===Ls&&Os?null:e;default:return null}}(e,s):function(e,t){if(Ws)return"compositionend"===e||!Ms&&Gs(e,t)?(e=es(),Zt=$t=Jt=null,Ws=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Is&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(a=Va(a,"onBeforeInput")).length&&(n=new bs("onBeforeInput","beforeinput",null,s,n),i.push({event:n,listeners:a}),n.data=x))}La(i,t)})}function Ha(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Va(e,t){for(var s=t+"Capture",a=[];null!==e;){var n=e,r=n.stateNode;5===n.tag&&null!==r&&(n=r,null!=(r=Te(e,s))&&a.unshift(Ha(e,r,n)),null!=(r=Te(e,t))&&a.push(Ha(e,r,n))),e=e.return}return a}function qa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,s,a,n){for(var r=t._reactName,i=[];null!==s&&s!==a;){var o=s,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,n?null!=(l=Te(s,r))&&i.unshift(Ha(s,l,o)):n||null!=(l=Te(s,r))&&i.push(Ha(s,l,o))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Xa=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function Qa(e){return("string"===typeof e?e:""+e).replace(Xa,"\n").replace(Ya,"")}function Ja(e,t,s){if(t=Qa(t),Qa(e)!==t&&s)throw Error(r(425))}function $a(){}var Za=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,rn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(on)}:sn;function on(e){setTimeout(function(){throw e})}function ln(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===a)return e.removeChild(n),void zt(t);a--}else"$"!==s&&"$?"!==s&&"$!"!==s||a++;s=n}while(s);zt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),hn="__reactFiber$"+un,pn="__reactProps$"+un,mn="__reactContainer$"+un,fn="__reactEvents$"+un,gn="__reactListeners$"+un,vn="__reactHandles$"+un;function xn(e){var t=e[hn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[mn]||s[hn]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=dn(e);null!==e;){if(s=e[hn])return s;e=dn(e)}return t}s=(e=s).parentNode}return null}function bn(e){return!(e=e[hn]||e[mn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function _n(e){return e[pn]||null}var wn=[],Sn=-1;function Pn(e){return{current:e}}function An(e){0>Sn||(e.current=wn[Sn],wn[Sn]=null,Sn--)}function kn(e,t){Sn++,wn[Sn]=e.current,e.current=t}var Cn={},Fn=Pn(Cn),En=Pn(!1),Nn=Cn;function jn(e,t){var s=e.type.contextTypes;if(!s)return Cn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,r={};for(n in s)r[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Tn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mn(){An(En),An(Fn)}function Rn(e,t,s){if(Fn.current!==Cn)throw Error(r(168));kn(Fn,t),kn(En,s)}function Dn(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return s;for(var n in a=a.getChildContext())if(!(n in t))throw Error(r(108,U(e)||"Unknown",n));return L({},s,a)}function In(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Nn=Fn.current,kn(Fn,e),kn(En,En.current),!0}function Ln(e,t,s){var a=e.stateNode;if(!a)throw Error(r(169));s?(e=Dn(e,t,Nn),a.__reactInternalMemoizedMergedChildContext=e,An(En),An(Fn),kn(Fn,e)):An(En),kn(En,s)}var On=null,Gn=!1,Bn=!1;function Wn(e){null===On?On=[e]:On.push(e)}function zn(){if(!Bn&&null!==On){Bn=!0;var e=0,t=bt;try{var s=On;for(bt=1;e<s.length;e++){var a=s[e];do{a=a(!0)}while(null!==a)}On=null,Gn=!1}catch(n){throw null!==On&&(On=On.slice(e+1)),Ke(Ze,zn),n}finally{bt=t,Bn=!1}}return null}var Un=[],Hn=0,Vn=null,qn=0,Kn=[],Xn=0,Yn=null,Qn=1,Jn="";function $n(e,t){Un[Hn++]=qn,Un[Hn++]=Vn,Vn=e,qn=t}function Zn(e,t,s){Kn[Xn++]=Qn,Kn[Xn++]=Jn,Kn[Xn++]=Yn,Yn=e;var a=Qn;e=Jn;var n=32-it(a)-1;a&=~(1<<n),s+=1;var r=32-it(t)+n;if(30<r){var i=n-n%5;r=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Qn=1<<32-it(t)+n|s<<n|a,Jn=r+e}else Qn=1<<r|s<<n|a,Jn=e}function er(e){null!==e.return&&($n(e,1),Zn(e,1,0))}function tr(e){for(;e===Vn;)Vn=Un[--Hn],Un[Hn]=null,qn=Un[--Hn],Un[Hn]=null;for(;e===Yn;)Yn=Kn[--Xn],Kn[Xn]=null,Jn=Kn[--Xn],Kn[Xn]=null,Qn=Kn[--Xn],Kn[Xn]=null}var sr=null,ar=null,nr=!1,rr=null;function ir(e,t){var s=jc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function or(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sr=e,ar=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sr=e,ar=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Yn?{id:Qn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=jc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sr=e,ar=null,!0);default:return!1}}function lr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(nr){var t=ar;if(t){var s=t;if(!or(e,t)){if(lr(e))throw Error(r(418));t=cn(s.nextSibling);var a=sr;t&&or(e,t)?ir(a,s):(e.flags=-4097&e.flags|2,nr=!1,sr=e)}}else{if(lr(e))throw Error(r(418));e.flags=-4097&e.flags|2,nr=!1,sr=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sr=e}function ur(e){if(e!==sr)return!1;if(!nr)return dr(e),nr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=ar)){if(lr(e))throw hr(),Error(r(418));for(;t;)ir(e,t),t=cn(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ar=cn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ar=null}}else ar=sr?cn(e.stateNode.nextSibling):null;return!0}function hr(){for(var e=ar;e;)e=cn(e.nextSibling)}function pr(){ar=sr=null,nr=!1}function mr(e){null===rr?rr=[e]:rr.push(e)}var fr=y.ReactCurrentBatchConfig;function gr(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(r(309));var a=s.stateNode}if(!a)throw Error(r(147,e));var n=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function vr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xr(e){return(0,e._init)(e._payload)}function br(e){function t(t,s){if(e){var a=t.deletions;null===a?(t.deletions=[s],t.flags|=16):a.push(s)}}function s(s,a){if(!e)return null;for(;null!==a;)t(s,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function i(t,s,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<s?(t.flags|=2,s):a:(t.flags|=2,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,s,a){return null===t||6!==t.tag?((t=Lc(s,e.mode,a)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,a){var r=s.type;return r===S?u(e,t,s.props.children,a,s.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===T&&xr(r)===t.type)?((a=n(t,s.props)).ref=gr(e,t,s),a.return=e,a):((a=Rc(s.type,s.key,s.props,null,e.mode,a)).ref=gr(e,t,s),a.return=e,a)}function d(e,t,s,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Oc(s,e.mode,a)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function u(e,t,s,a,r){return null===t||7!==t.tag?((t=Dc(s,e.mode,a,r)).return=e,t):((t=n(t,s)).return=e,t)}function h(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(s=Rc(t.type,t.key,t.props,null,e.mode,s)).ref=gr(e,null,t),s.return=e,s;case w:return(t=Oc(t,e.mode,s)).return=e,t;case T:return h(e,(0,t._init)(t._payload),s)}if(te(t)||D(t))return(t=Dc(t,e.mode,s,null)).return=e,t;vr(e,t)}return null}function p(e,t,s,a){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:l(e,t,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case _:return s.key===n?c(e,t,s,a):null;case w:return s.key===n?d(e,t,s,a):null;case T:return p(e,t,(n=s._init)(s._payload),a)}if(te(s)||D(s))return null!==n?null:u(e,t,s,a,null);vr(e,s)}return null}function m(e,t,s,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(s)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case _:return c(t,e=e.get(null===a.key?s:a.key)||null,a,n);case w:return d(t,e=e.get(null===a.key?s:a.key)||null,a,n);case T:return m(e,t,s,(0,a._init)(a._payload),n)}if(te(a)||D(a))return u(t,e=e.get(s)||null,a,n,null);vr(t,a)}return null}function f(n,r,o,l){for(var c=null,d=null,u=r,f=r=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=p(n,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(n,u),r=i(v,r,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return s(n,u),nr&&$n(n,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(n,o[f],l))&&(r=i(u,r,f),null===d?c=u:d.sibling=u,d=u);return nr&&$n(n,f),c}for(u=a(n,u);f<o.length;f++)null!==(g=m(u,n,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),r=i(g,r,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(n,e)}),nr&&$n(n,f),c}function g(n,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,f=o,g=o=0,v=null,x=l.next();null!==f&&!x.done;g++,x=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=p(n,f,x.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(n,f),o=i(b,o,g),null===u?d=b:u.sibling=b,u=b,f=v}if(x.done)return s(n,f),nr&&$n(n,g),d;if(null===f){for(;!x.done;g++,x=l.next())null!==(x=h(n,x.value,c))&&(o=i(x,o,g),null===u?d=x:u.sibling=x,u=x);return nr&&$n(n,g),d}for(f=a(n,f);!x.done;g++,x=l.next())null!==(x=m(f,n,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),o=i(x,o,g),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(n,e)}),nr&&$n(n,g),d}return function e(a,r,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case _:e:{for(var c=i.key,d=r;null!==d;){if(d.key===c){if((c=i.type)===S){if(7===d.tag){s(a,d.sibling),(r=n(d,i.props.children)).return=a,a=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&xr(c)===d.type){s(a,d.sibling),(r=n(d,i.props)).ref=gr(a,d,i),r.return=a,a=r;break e}s(a,d);break}t(a,d),d=d.sibling}i.type===S?((r=Dc(i.props.children,a.mode,l,i.key)).return=a,a=r):((l=Rc(i.type,i.key,i.props,null,a.mode,l)).ref=gr(a,r,i),l.return=a,a=l)}return o(a);case w:e:{for(d=i.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){s(a,r.sibling),(r=n(r,i.children||[])).return=a,a=r;break e}s(a,r);break}t(a,r),r=r.sibling}(r=Oc(i,a.mode,l)).return=a,a=r}return o(a);case T:return e(a,r,(d=i._init)(i._payload),l)}if(te(i))return f(a,r,i,l);if(D(i))return g(a,r,i,l);vr(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==r&&6===r.tag?(s(a,r.sibling),(r=n(r,i)).return=a,a=r):(s(a,r),(r=Lc(i,a.mode,l)).return=a,a=r),o(a)):s(a,r)}}var yr=br(!0),_r=br(!1),wr=Pn(null),Sr=null,Pr=null,Ar=null;function kr(){Ar=Pr=Sr=null}function Cr(e){var t=wr.current;An(wr),e._currentValue=t}function Fr(e,t,s){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Er(e,t){Sr=e,Ar=Pr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Nr(e){var t=e._currentValue;if(Ar!==e)if(e={context:e,memoizedValue:t,next:null},null===Pr){if(null===Sr)throw Error(r(308));Pr=e,Sr.dependencies={lanes:0,firstContext:e}}else Pr=Pr.next=e;return t}var jr=null;function Tr(e){null===jr?jr=[e]:jr.push(e)}function Mr(e,t,s,a){var n=t.interleaved;return null===n?(s.next=s,Tr(t)):(s.next=n.next,n.next=s),t.interleaved=s,Rr(e,a)}function Rr(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Dr=!1;function Ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,s){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Fl)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Rr(e,s)}return null===(n=a.interleaved)?(t.next=t,Tr(a)):(t.next=n.next,n.next=t),a.interleaved=t,Rr(e,s)}function Br(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,xt(e,s)}}function Wr(e,t){var s=e.updateQueue,a=e.alternate;if(null!==a&&s===(a=a.updateQueue)){var n=null,r=null;if(null!==(s=s.firstBaseUpdate)){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===r?n=r=i:r=r.next=i,s=s.next}while(null!==s);null===r?n=r=t:r=r.next=t}else n=r=t;return s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:a.shared,effects:a.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function zr(e,t,s,a){var n=e.updateQueue;Dr=!1;var r=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?r=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=n.baseState;for(i=0,d=c=l=null,o=r;;){var h=o.lane,p=o.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=s,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=L({},u,h);break e;case 2:Dr=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=n.effects)?n.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=h;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(h=o).next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===r&&(n.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=u}}function Ur(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=s,"function"!==typeof n)throw Error(r(191,n));n.call(a)}}}var Hr={},Vr=Pn(Hr),qr=Pn(Hr),Kr=Pn(Hr);function Xr(e){if(e===Hr)throw Error(r(174));return e}function Yr(e,t){switch(kn(Kr,t),kn(qr,e),kn(Vr,Hr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}An(Vr),kn(Vr,t)}function Qr(){An(Vr),An(qr),An(Kr)}function Jr(e){Xr(Kr.current);var t=Xr(Vr.current),s=le(t,e.type);t!==s&&(kn(qr,e),kn(Vr,s))}function $r(e){qr.current===e&&(An(Vr),An(qr))}var Zr=Pn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function si(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=y.ReactCurrentDispatcher,ni=y.ReactCurrentBatchConfig,ri=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function pi(){throw Error(r(321))}function mi(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ia(e[s],t[s]))return!1;return!0}function fi(e,t,s,a,n,i){if(ri=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?$i:Zi,e=s(a,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(r(301));i+=1,li=oi=null,t.updateQueue=null,ai.current=eo,e=s(a,n)}while(di)}if(ai.current=Ji,t=null!==oi&&null!==oi.next,ri=0,li=oi=ii=null,ci=!1,t)throw Error(r(300));return e}function gi(){var e=0!==ui;return ui=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function xi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(r(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=xi(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var a=oi,n=a.baseQueue,i=s.pending;if(null!==i){if(null!==n){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,s.pending=null}if(null!==n){i=n.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ri&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=a):c=c.next=h,ii.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==i);null===c?o=a:c.next=l,ia(a,t.memoizedState)||(bo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,s.lastRenderedState=a}if(null!==(e=s.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Il|=i,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function _i(e){var t=xi(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=t.memoizedState;if(null!==n){s.pending=null;var o=n=n.next;do{i=e(i,o.action),o=o.next}while(o!==n);ia(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),s.lastRenderedState=i}return[i,a]}function wi(){}function Si(e,t){var s=ii,a=xi(),n=t(),i=!ia(a.memoizedState,n);if(i&&(a.memoizedState=n,bo=!0),a=a.queue,Di(ki.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(s.flags|=2048,Ni(9,Ai.bind(null,s,a,n,t),void 0,null),null===El)throw Error(r(349));0!==(30&ri)||Pi(s,t,n)}return n}function Pi(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Ai(e,t,s,a){t.value=s,t.getSnapshot=a,Ci(t)&&Fi(e)}function ki(e,t,s){return s(function(){Ci(t)&&Fi(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ia(e,s)}catch(a){return!0}}function Fi(e){var t=Rr(e,1);null!==t&&sc(t,e,1,-1)}function Ei(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Ni(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function ji(){return xi().memoizedState}function Ti(e,t,s,a){var n=vi();ii.flags|=e,n.memoizedState=Ni(1|t,s,void 0,void 0===a?null:a)}function Mi(e,t,s,a){var n=xi();a=void 0===a?null:a;var r=void 0;if(null!==oi){var i=oi.memoizedState;if(r=i.destroy,null!==a&&mi(a,i.deps))return void(n.memoizedState=Ni(t,s,r,a))}ii.flags|=e,n.memoizedState=Ni(1|t,s,r,a)}function Ri(e,t){return Ti(8390656,8,e,t)}function Di(e,t){return Mi(2048,8,e,t)}function Ii(e,t){return Mi(4,2,e,t)}function Li(e,t){return Mi(4,4,e,t)}function Oi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gi(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Mi(4,4,Oi.bind(null,t,e),s)}function Bi(){}function Wi(e,t){var s=xi();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&mi(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function zi(e,t){var s=xi();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&mi(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Ui(e,t,s){return 0===(21&ri)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=s):(ia(s,t)||(s=ft(),ii.lanes|=s,Il|=s,e.baseState=!0),t)}function Hi(e,t){var s=bt;bt=0!==s&&4>s?s:4,e(!0);var a=ni.transition;ni.transition={};try{e(!1),t()}finally{bt=s,ni.transition=a}}function Vi(){return xi().memoizedState}function qi(e,t,s){var a=tc(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Xi(e))Yi(t,s);else if(null!==(s=Mr(e,t,s,a))){sc(s,e,a,ec()),Qi(s,t,a)}}function Ki(e,t,s){var a=tc(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xi(e))Yi(t,n);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=r(i,s);if(n.hasEagerState=!0,n.eagerState=o,ia(o,i)){var l=t.interleaved;return null===l?(n.next=n,Tr(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(s=Mr(e,t,n,a))&&(sc(s,e,a,n=ec()),Qi(s,t,a))}}function Xi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){di=ci=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Qi(e,t,s){if(0!==(4194240&s)){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,xt(e,s)}}var Ji={readContext:Nr,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},$i={readContext:Nr,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Nr,useEffect:Ri,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ti(4194308,4,Oi.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var s=vi();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=vi();return t=void 0!==s?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=qi.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ei,useDebugValue:Bi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ei(!1),t=e[0];return e=Hi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=ii,n=vi();if(nr){if(void 0===s)throw Error(r(407));s=s()}else{if(s=t(),null===El)throw Error(r(349));0!==(30&ri)||Pi(a,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,Ri(ki.bind(null,a,i,e),[e]),a.flags|=2048,Ni(9,Ai.bind(null,a,i,s,t),void 0,null),s},useId:function(){var e=vi(),t=El.identifierPrefix;if(nr){var s=Jn;t=":"+t+"R"+(s=(Qn&~(1<<32-it(Qn)-1)).toString(32)+s),0<(s=ui++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Nr,useCallback:Wi,useContext:Nr,useEffect:Di,useImperativeHandle:Gi,useInsertionEffect:Ii,useLayoutEffect:Li,useMemo:zi,useReducer:yi,useRef:ji,useState:function(){return yi(bi)},useDebugValue:Bi,useDeferredValue:function(e){return Ui(xi(),oi.memoizedState,e)},useTransition:function(){return[yi(bi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Si,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:Nr,useCallback:Wi,useContext:Nr,useEffect:Di,useImperativeHandle:Gi,useInsertionEffect:Ii,useLayoutEffect:Li,useMemo:zi,useReducer:_i,useRef:ji,useState:function(){return _i(bi)},useDebugValue:Bi,useDeferredValue:function(e){var t=xi();return null===oi?t.memoizedState=e:Ui(t,oi.memoizedState,e)},useTransition:function(){return[_i(bi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Si,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var s in t=L({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function so(e,t,s,a){s=null===(s=s(a,t=e.memoizedState))||void 0===s?t:L({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=ec(),n=tc(e),r=Or(a,n);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Gr(e,r,n))&&(sc(t,e,n,a),Br(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=ec(),n=tc(e),r=Or(a,n);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Gr(e,r,n))&&(sc(t,e,n,a),Br(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),a=tc(e),n=Or(s,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Gr(e,n,a))&&(sc(t,e,a,s),Br(t,e,a))}};function no(e,t,s,a,n,r,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,i):!t.prototype||!t.prototype.isPureReactComponent||(!oa(s,a)||!oa(n,r))}function ro(e,t,s){var a=!1,n=Cn,r=t.contextType;return"object"===typeof r&&null!==r?r=Nr(r):(n=Tn(t)?Nn:Fn.current,r=(a=null!==(a=t.contextTypes)&&void 0!==a)?jn(e,n):Cn),t=new t(s,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=r),t}function io(e,t,s,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Ir(e);var r=t.contextType;"object"===typeof r&&null!==r?n.context=Nr(r):(r=Tn(t)?Nn:Fn.current,n.context=jn(e,r)),n.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(so(e,t,r,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ao.enqueueReplaceState(n,n.state,null),zr(e,s,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var s="",a=t;do{s+=W(a),a=a.return}while(a);var n=s}catch(r){n="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:n,digest:null}}function co(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,s){(s=Or(-1,s)).tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Hl||(Hl=!0,Vl=a),uo(0,t)},s}function mo(e,t,s){(s=Or(-1,s)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){uo(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(s.callback=function(){uo(0,t),"function"!==typeof a&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function fo(e,t,s){var a=e.pingCache;if(null===a){a=e.pingCache=new ho;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=Ac.bind(null,e,t,s),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,s,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Or(-1,1)).tag=2,Gr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var xo=y.ReactCurrentOwner,bo=!1;function yo(e,t,s,a){t.child=null===e?_r(t,null,s,a):yr(t,e.child,s,a)}function _o(e,t,s,a,n){s=s.render;var r=t.ref;return Er(t,n),a=fi(e,t,s,a,r,n),s=gi(),null===e||bo?(nr&&s&&er(t),t.flags|=1,yo(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ho(e,t,n))}function wo(e,t,s,a,n){if(null===e){var r=s.type;return"function"!==typeof r||Tc(r)||void 0!==r.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Rc(s.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,So(e,t,r,a,n))}if(r=e.child,0===(e.lanes&n)){var i=r.memoizedProps;if((s=null!==(s=s.compare)?s:oa)(i,a)&&e.ref===t.ref)return Ho(e,t,n)}return t.flags|=1,(e=Mc(r,a)).ref=t.ref,e.return=t,t.child=e}function So(e,t,s,a,n){if(null!==e){var r=e.memoizedProps;if(oa(r,a)&&e.ref===t.ref){if(bo=!1,t.pendingProps=a=r,0===(e.lanes&n))return t.lanes=e.lanes,Ho(e,t,n);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,s,a,n)}function Po(e,t,s){var a=t.pendingProps,n=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Ml,Tl),Tl|=s;else{if(0===(1073741824&s))return e=null!==r?r.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kn(Ml,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==r?r.baseLanes:s,kn(Ml,Tl),Tl|=a}else null!==r?(a=r.baseLanes|s,t.memoizedState=null):a=s,kn(Ml,Tl),Tl|=a;return yo(e,t,n,s),t.child}function Ao(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,s,a,n){var r=Tn(s)?Nn:Fn.current;return r=jn(t,r),Er(t,n),s=fi(e,t,s,a,r,n),a=gi(),null===e||bo?(nr&&a&&er(t),t.flags|=1,yo(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ho(e,t,n))}function Co(e,t,s,a,n){if(Tn(s)){var r=!0;In(t)}else r=!1;if(Er(t,n),null===t.stateNode)Uo(e,t),ro(t,s,a),oo(t,s,a,n),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=s.contextType;"object"===typeof c&&null!==c?c=Nr(c):c=jn(t,c=Tn(s)?Nn:Fn.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==a||l!==c)&&io(t,i,a,c),Dr=!1;var h=t.memoizedState;i.state=h,zr(t,a,i,n),l=t.memoizedState,o!==a||h!==l||En.current||Dr?("function"===typeof d&&(so(t,s,d,a),l=t.memoizedState),(o=Dr||no(t,s,o,a,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Lr(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=s.contextType)&&null!==l?l=Nr(l):l=jn(t,l=Tn(s)?Nn:Fn.current);var p=s.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,a,l),Dr=!1,h=t.memoizedState,i.state=h,zr(t,a,i,n);var m=t.memoizedState;o!==u||h!==m||En.current||Dr?("function"===typeof p&&(so(t,s,p,a),m=t.memoizedState),(c=Dr||no(t,s,c,a,h,m,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),i.props=a,i.state=m,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Fo(e,t,s,a,r,n)}function Fo(e,t,s,a,n,r){Ao(e,t);var i=0!==(128&t.flags);if(!a&&!i)return n&&Ln(t,s,!1),Ho(e,t,r);a=t.stateNode,xo.current=t;var o=i&&"function"!==typeof s.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=yr(t,e.child,null,r),t.child=yr(t,null,o,r)):yo(e,t,o,r),t.memoizedState=a.state,n&&Ln(t,s,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Rn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rn(0,t.context,!1),Yr(e,t.containerInfo)}function No(e,t,s,a,n){return pr(),mr(n),t.flags|=256,yo(e,t,s,a),t.child}var jo,To,Mo,Ro,Do={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,s){var a,n=t.pendingProps,i=Zr.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),kn(Zr,1&i),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,n,0,null),e=Dc(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(s),t.memoizedState=Do,e):Oo(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,s,a,n,i,o){if(s)return 256&t.flags?(t.flags&=-257,Go(e,t,o,a=co(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=Ic({mode:"visible",children:a.children},n,0,null),(i=Dc(i,n,o,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&yr(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Do,i);if(0===(1&t.mode))return Go(e,t,o,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var l=a.dgst;return a=l,Go(e,t,o,a=co(i=Error(r(419)),a,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(a=El)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|o))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Rr(e,n),sc(a,e,n,-1))}return fc(),Go(e,t,o,a=co(Error(r(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,ar=cn(n.nextSibling),sr=t,nr=!0,rr=null,null!==e&&(Kn[Xn++]=Qn,Kn[Xn++]=Jn,Kn[Xn++]=Yn,Qn=e.id,Jn=e.overflow,Yn=t),t=Oo(t,a.children),t.flags|=4096,t)}(e,t,l,n,a,i,s);if(o){o=n.fallback,l=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Mc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?o=Mc(a,o):(o=Dc(o,l,s,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~s,t.memoizedState=Do,n}return e=(o=e.child).sibling,n=Mc(o,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Oo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Go(e,t,s,a){return null!==a&&mr(a),yr(t,e.child,null,s),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,s){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Fr(e.return,t,s)}function Wo(e,t,s,a,n){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=s,r.tailMode=n)}function zo(e,t,s){var a=t.pendingProps,n=a.revealOrder,r=a.tail;if(yo(e,t,a.children,s),0!==(2&(a=Zr.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,s,t);else if(19===e.tag)Bo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(kn(Zr,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===ei(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Wo(t,!1,n,s,r);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Wo(t,!0,s,null,r);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(s=Mc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Mc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Vo(e,t){if(!nr)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Ko(e,t,s){var a=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Tn(t.type)&&Mn(),qo(t),null;case 3:return a=t.stateNode,Qr(),An(En),An(Fn),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ur(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(ic(rr),rr=null))),To(e,t),qo(t),null;case 5:$r(t);var n=Xr(Kr.current);if(s=t.type,null!==e&&null!=t.stateNode)Mo(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(r(166));return qo(t),null}if(e=Xr(Vr.current),ur(t)){a=t.stateNode,s=t.type;var i=t.memoizedProps;switch(a[hn]=t,a[pn]=i,e=0!==(1&t.mode),s){case"dialog":Oa("cancel",a),Oa("close",a);break;case"iframe":case"object":case"embed":Oa("load",a);break;case"video":case"audio":for(n=0;n<Ra.length;n++)Oa(Ra[n],a);break;case"source":Oa("error",a);break;case"img":case"image":case"link":Oa("error",a),Oa("load",a);break;case"details":Oa("toggle",a);break;case"input":Q(a,i),Oa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Oa("invalid",a);break;case"textarea":ne(a,i),Oa("invalid",a)}for(var l in xe(s,i),n=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Ja(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Ja(a.textContent,c,e),n=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Oa("scroll",a)}switch(s){case"input":q(a),Z(a,i,!0);break;case"textarea":q(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=$a)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(s,{is:a.is}):(e=l.createElement(s),"select"===s&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,s),e[hn]=t,e[pn]=a,jo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(s,a),s){case"dialog":Oa("cancel",e),Oa("close",e),n=a;break;case"iframe":case"object":case"embed":Oa("load",e),n=a;break;case"video":case"audio":for(n=0;n<Ra.length;n++)Oa(Ra[n],e);n=a;break;case"source":Oa("error",e),n=a;break;case"img":case"image":case"link":Oa("error",e),Oa("load",e),n=a;break;case"details":Oa("toggle",e),n=a;break;case"input":Q(e,a),n=Y(e,a),Oa("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=L({},a,{value:void 0}),Oa("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),Oa("invalid",e)}for(i in xe(s,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==s||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Oa("scroll",e):null!=d&&b(e,i,d,l))}switch(s){case"input":q(e),Z(e,a,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?se(e,!!a.multiple,i,!1):null!=a.defaultValue&&se(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=$a)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(s=Xr(Kr.current),Xr(Vr.current),ur(t)){if(a=t.stateNode,s=t.memoizedProps,a[hn]=t,(i=a.nodeValue!==s)&&null!==(e=sr))switch(e.tag){case 3:Ja(a.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ja(a.nodeValue,s,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===s.nodeType?s:s.ownerDocument).createTextNode(a))[hn]=t,t.stateNode=a}return qo(t),null;case 13:if(An(Zr),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(nr&&null!==ar&&0!==(1&t.mode)&&0===(128&t.flags))hr(),pr(),t.flags|=98560,i=!1;else if(i=ur(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[hn]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),i=!1}else null!==rr&&(ic(rr),rr=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zr.current)?0===Rl&&(Rl=3):fc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Qr(),To(e,t),null===e&&Wa(t.stateNode.containerInfo),qo(t),null;case 10:return Cr(t.type._context),qo(t),null;case 19:if(An(Zr),null===(i=t.memoizedState))return qo(t),null;if(a=0!==(128&t.flags),null===(l=i.rendering))if(a)Vo(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Vo(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;null!==s;)e=a,(i=s).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return kn(Zr,1&Zr.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>zl&&(t.flags|=128,a=!0,Vo(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(l))){if(t.flags|=128,a=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Vo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!nr)return qo(t),null}else 2*Je()-i.renderingStartTime>zl&&1073741824!==s&&(t.flags|=128,a=!0,Vo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(s=i.last)?s.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,s=Zr.current,kn(Zr,a?1&s|2:1&s),t):(qo(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Xo(e,t){switch(tr(t),t.tag){case 1:return Tn(t.type)&&Mn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qr(),An(En),An(Fn),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $r(t),null;case 13:if(An(Zr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return An(Zr),null;case 4:return Qr(),null;case 10:return Cr(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}jo=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},To=function(){},Mo=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Xr(Vr.current);var r,i=null;switch(s){case"input":n=Y(e,n),a=Y(e,a),i=[];break;case"select":n=L({},n,{value:void 0}),a=L({},a,{value:void 0}),i=[];break;case"textarea":n=ae(e,n),a=ae(e,a),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=$a)}for(d in xe(s,a),s=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(r in l)l.hasOwnProperty(r)&&(s||(s={}),s[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(s||(s={}),s[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(s||(s={}),s[r]=c[r])}else s||(i||(i=[]),i.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Oa("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,s,a){s!==a&&(t.flags|=4)};var Yo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(a){Pc(e,t,a)}else s.current=null}function el(e,t,s){try{s()}catch(a){Pc(e,t,a)}}var tl=!1;function sl(e,t,s){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&el(t,s,r)}n=n.next}while(n!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function nl(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hn],delete t[pn],delete t[fn],delete t[gn],delete t[vn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=$a));else if(4!==a&&null!==(e=e.child))for(ll(e,t,s),e=e.sibling;null!==e;)ll(e,t,s),e=e.sibling}function cl(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,s),e=e.sibling;null!==e;)cl(e,t,s),e=e.sibling}var dl=null,ul=!1;function hl(e,t,s){for(s=s.child;null!==s;)pl(e,t,s),s=s.sibling}function pl(e,t,s){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(nt,s)}catch(o){}switch(s.tag){case 5:Qo||Zo(s,t);case 6:var a=dl,n=ul;dl=null,hl(e,t,s),ul=n,null!==(dl=a)&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):dl.removeChild(s.stateNode));break;case 18:null!==dl&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?ln(e.parentNode,s):1===e.nodeType&&ln(e,s),zt(e)):ln(dl,s.stateNode));break;case 4:a=dl,n=ul,dl=s.stateNode.containerInfo,ul=!0,hl(e,t,s),dl=a,ul=n;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(a=s.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var r=n,i=r.destroy;r=r.tag,void 0!==i&&(0!==(2&r)||0!==(4&r))&&el(s,t,i),n=n.next}while(n!==a)}hl(e,t,s);break;case 1:if(!Qo&&(Zo(s,t),"function"===typeof(a=s.stateNode).componentWillUnmount))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){Pc(s,t,o)}hl(e,t,s);break;case 21:hl(e,t,s);break;case 22:1&s.mode?(Qo=(a=Qo)||null!==s.memoizedState,hl(e,t,s),Qo=a):hl(e,t,s);break;default:hl(e,t,s)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Jo),t.forEach(function(t){var a=Fc.bind(null,e,t);s.has(t)||(s.add(t),t.then(a,a))})}}function fl(e,t){var s=t.deletions;if(null!==s)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(r(160));pl(i,o,n),dl=null,ul=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){Pc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&a){try{sl(3,e,e.return),al(3,e)}catch(g){Pc(e,e.return,g)}try{sl(5,e,e.return)}catch(g){Pc(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&a&&null!==s&&Zo(s,s.return);break;case 5:if(fl(t,e),vl(e),512&a&&null!==s&&Zo(s,s.return),32&e.flags){var n=e.stateNode;try{he(n,"")}catch(g){Pc(e,e.return,g)}}if(4&a&&null!=(n=e.stateNode)){var i=e.memoizedProps,o=null!==s?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(n,i),be(l,o);var d=be(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(n,h):"dangerouslySetInnerHTML"===u?ue(n,h):"children"===u?he(n,h):b(n,u,h,d)}switch(l){case"input":$(n,i);break;case"textarea":re(n,i);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?se(n,!!i.multiple,m,!1):p!==!!i.multiple&&(null!=i.defaultValue?se(n,!!i.multiple,i.defaultValue,!0):se(n,!!i.multiple,i.multiple?[]:"",!1))}n[pn]=i}catch(g){Pc(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&a){if(null===e.stateNode)throw Error(r(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(g){Pc(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&a&&null!==s&&s.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Pc(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(Wl=Je())),4&a&&ml(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(Qo=(d=Qo)||u,fl(t,e),Qo=d):fl(t,e),vl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for($o=e,u=e.child;null!==u;){for(h=$o=u;null!==$o;){switch(m=(p=$o).child,p.tag){case 0:case 11:case 14:case 15:sl(4,p,p.return);break;case 1:Zo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){a=p,s=p.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Pc(a,s,g)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==m?(m.return=p,$o=m):_l(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{n=h.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Pc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Pc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&a&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(il(s)){var a=s;break e}s=s.return}throw Error(r(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(he(n,""),a.flags&=-33),cl(e,ol(e),n);break;case 3:case 4:var i=a.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(r(161))}}catch(o){Pc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,s){$o=e,bl(e,t,s)}function bl(e,t,s){for(var a=0!==(1&e.mode);null!==$o;){var n=$o,r=n.child;if(22===n.tag&&a){var i=null!==n.memoizedState||Yo;if(!i){var o=n.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=i,(Qo=l)&&!c)for($o=n;null!==$o;)l=(i=$o).child,22===i.tag&&null!==i.memoizedState?wl(n):null!==l?(l.return=i,$o=l):wl(n);for(;null!==r;)$o=r,bl(r,t,s),r=r.sibling;$o=n,Yo=o,Qo=c}yl(e)}else 0!==(8772&n.subtreeFlags)&&null!==r?(r.return=n,$o=r):yl(e)}}function yl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Qo)if(null===s)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:to(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ur(t,i,a);break;case 3:var o=t.updateQueue;if(null!==o){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Ur(t,o,s)}break;case 5:var l=t.stateNode;if(null===s&&4&t.flags){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(r(163))}Qo||512&t.flags&&nl(t)}catch(p){Pc(t,t.return,p)}}if(t===e){$o=null;break}if(null!==(s=t.sibling)){s.return=t.return,$o=s;break}$o=t.return}}function _l(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$o=s;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{al(4,t)}catch(l){Pc(t,s,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(l){Pc(t,n,l)}}var r=t.return;try{nl(t)}catch(l){Pc(t,r,l)}break;case 5:var i=t.return;try{nl(t)}catch(l){Pc(t,i,l)}}}catch(l){Pc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Sl,Pl=Math.ceil,Al=y.ReactCurrentDispatcher,kl=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,Fl=0,El=null,Nl=null,jl=0,Tl=0,Ml=Pn(0),Rl=0,Dl=null,Il=0,Ll=0,Ol=0,Gl=null,Bl=null,Wl=0,zl=1/0,Ul=null,Hl=!1,Vl=null,ql=null,Kl=!1,Xl=null,Yl=0,Ql=0,Jl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Fl)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Fl)&&0!==jl?jl&-jl:null!==fr.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function sc(e,t,s,a){if(50<Ql)throw Ql=0,Jl=null,Error(r(185));vt(e,s,a),0!==(2&Fl)&&e===El||(e===El&&(0===(2&Fl)&&(Ll|=s),4===Rl&&oc(e,jl)),ac(e,a),1===s&&0===Fl&&0===(1&t.mode)&&(zl=Je()+500,Gn&&zn()))}function ac(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes;0<r;){var i=31-it(r),o=1<<i,l=n[i];-1===l?0!==(o&s)&&0===(o&a)||(n[i]=pt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var a=ht(e,e===El?jl:0);if(0===a)null!==s&&Xe(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=s&&Xe(s),1===t)0===e.tag?function(e){Gn=!0,Wn(e)}(lc.bind(null,e)):Wn(lc.bind(null,e)),rn(function(){0===(6&Fl)&&zn()}),s=null;else{switch(yt(a)){case 1:s=Ze;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=at}s=Ec(s,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function nc(e,t){if($l=-1,Zl=0,0!==(6&Fl))throw Error(r(327));var s=e.callbackNode;if(wc()&&e.callbackNode!==s)return null;var a=ht(e,e===El?jl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var n=Fl;Fl|=2;var i=mc();for(El===e&&jl===t||(Ul=null,zl=Je()+500,hc(e,t));;)try{xc();break}catch(l){pc(e,l)}kr(),Al.current=i,Fl=n,null!==Nl?t=0:(El=null,jl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(n=mt(e))&&(a=n,t=rc(e,n))),1===t)throw s=Dl,hc(e,0),oc(e,a),ac(e,Je()),s;if(6===t)oc(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var a=0;a<s.length;a++){var n=s[a],r=n.getSnapshot;n=n.value;try{if(!ia(r(),n))return!1}catch(o){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=gc(e,a))&&(0!==(i=mt(e))&&(a=i,t=rc(e,i))),1===t))throw s=Dl,hc(e,0),oc(e,a),ac(e,Je()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(r(345));case 2:case 5:_c(e,Bl,Ul);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=Wl+500-Je())){if(0!==ht(e,0))break;if(((n=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=sn(_c.bind(null,e,Bl,Ul),t);break}_c(e,Bl,Ul);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-it(a);i=1<<o,(o=t[o])>n&&(n=o),a&=~i}if(a=n,10<(a=(120>(a=Je()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Pl(a/1960))-a)){e.timeoutHandle=sn(_c.bind(null,e,Bl,Ul),a);break}_c(e,Bl,Ul);break;default:throw Error(r(329))}}}return ac(e,Je()),e.callbackNode===s?nc.bind(null,e):null}function rc(e,t){var s=Gl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=s,null!==t&&ic(t)),e}function ic(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Ol,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-it(t),a=1<<s;e[s]=-1,t&=~a}}function lc(e){if(0!==(6&Fl))throw Error(r(327));wc();var t=ht(e,0);if(0===(1&t))return ac(e,Je()),null;var s=gc(e,t);if(0!==e.tag&&2===s){var a=mt(e);0!==a&&(t=a,s=rc(e,a))}if(1===s)throw s=Dl,hc(e,0),oc(e,t),ac(e,Je()),s;if(6===s)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bl,Ul),ac(e,Je()),null}function cc(e,t){var s=Fl;Fl|=1;try{return e(t)}finally{0===(Fl=s)&&(zl=Je()+500,Gn&&zn())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Fl)&&wc();var t=Fl;Fl|=1;var s=Cl.transition,a=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=a,Cl.transition=s,0===(6&(Fl=t))&&zn()}}function uc(){Tl=Ml.current,An(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,an(s)),null!==Nl)for(s=Nl.return;null!==s;){var a=s;switch(tr(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Mn();break;case 3:Qr(),An(En),An(Fn),si();break;case 5:$r(a);break;case 4:Qr();break;case 13:case 19:An(Zr);break;case 10:Cr(a.type._context);break;case 22:case 23:uc()}s=s.return}if(El=e,Nl=e=Mc(e.current,null),jl=Tl=t,Rl=0,Dl=null,Ol=Ll=Il=0,Bl=Gl=null,null!==jr){for(t=0;t<jr.length;t++)if(null!==(a=(s=jr[t]).interleaved)){s.interleaved=null;var n=a.next,r=s.pending;if(null!==r){var i=r.next;r.next=n,a.next=i}s.pending=a}jr=null}return e}function pc(e,t){for(;;){var s=Nl;try{if(kr(),ai.current=Ji,ci){for(var a=ii.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}ci=!1}if(ri=0,li=oi=ii=null,di=!1,ui=0,kl.current=null,null===s||null===s.return){Rl=1,Dl=t,Nl=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&fo(i,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),fc();break e}c=Error(r(426))}else if(nr&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),mr(lo(c,l));break e}}i=c=lo(c,l),4!==Rl&&(Rl=2),null===Gl?Gl=[i]:Gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Wr(i,po(0,c,t));break e;case 1:l=c;var x=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Wr(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}yc(s)}catch(y){t=y,Nl===s&&null!==s&&(Nl=s=s.return);continue}break}}function mc(){var e=Al.current;return Al.current=Ji,null===e?Ji:e}function fc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===El||0===(268435455&Il)&&0===(268435455&Ll)||oc(El,jl)}function gc(e,t){var s=Fl;Fl|=2;var a=mc();for(El===e&&jl===t||(Ul=null,hc(e,t));;)try{vc();break}catch(n){pc(e,n)}if(kr(),Fl=s,Al.current=a,null!==Nl)throw Error(r(261));return El=null,jl=0,Rl}function vc(){for(;null!==Nl;)bc(Nl)}function xc(){for(;null!==Nl&&!Ye();)bc(Nl)}function bc(e){var t=Sl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?yc(e):Nl=t,kl.current=null}function yc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=Ko(s,t,Tl)))return void(Nl=s)}else{if(null!==(s=Xo(s,t)))return s.flags&=32767,void(Nl=s);if(null===e)return Rl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Rl&&(Rl=5)}function _c(e,t,s){var a=bt,n=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,s,a){do{wc()}while(null!==Xl);if(0!==(6&Fl))throw Error(r(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-it(s),r=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~r}}(e,i),e===El&&(Nl=El=null,jl=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||Kl||(Kl=!0,Ec(tt,function(){return wc(),null})),i=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=Fl;Fl|=4,kl.current=null,function(e,t){if(Za=Ht,ha(e=ua())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch(_){s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==s||0!==n&&3!==h.nodeType||(l=o+n),h!==i||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===s&&++d===n&&(l=o),p===i&&++u===a&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(en={focusedElem:e,selectionRange:s},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(r(163))}}catch(_){Pc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}f=tl,tl=!1}(e,s),gl(s,e),pa(en),Ht=!!Za,en=Za=null,e.current=s,xl(s,e,n),Qe(),Fl=l,bt=o,Cl.transition=i}else e.current=s;if(Kl&&(Kl=!1,Xl=e,Yl=n),i=e.pendingLanes,0===i&&(ql=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),ac(e,Je()),null!==t)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,zn()}(e,t,s,a)}finally{Cl.transition=n,bt=a}return null}function wc(){if(null!==Xl){var e=yt(Yl),t=Cl.transition,s=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Xl)var a=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Fl))throw Error(r(331));var n=Fl;for(Fl|=4,$o=e.current;null!==$o;){var i=$o,o=i.child;if(0!==(16&$o.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for($o=d;null!==$o;){var u=$o;switch(u.tag){case 0:case 11:case 15:sl(8,u,i)}var h=u.child;if(null!==h)h.return=u,$o=h;else for(;null!==$o;){var p=(u=$o).sibling,m=u.return;if(rl(u),u===d){$o=null;break}if(null!==p){p.return=m,$o=p;break}$o=m}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,$o=o;else e:for(;null!==$o;){if(0!==(2048&(i=$o).flags))switch(i.tag){case 0:case 11:case 15:sl(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,$o=x;break e}$o=i.return}}var b=e.current;for($o=b;null!==$o;){var y=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,$o=y;else e:for(o=b;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(w){Pc(l,l.return,w)}if(l===o){$o=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$o=_;break e}$o=l.return}}if(Fl=n,zn(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(nt,e)}catch(w){}a=!0}return a}finally{bt=s,Cl.transition=t}}return!1}function Sc(e,t,s){e=Gr(e,t=po(0,t=lo(s,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ac(e,t))}function Pc(e,t,s){if(3===e.tag)Sc(e,e,s);else for(;null!==t;){if(3===t.tag){Sc(t,e,s);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===ql||!ql.has(a))){t=Gr(t,e=mo(t,e=lo(s,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Ac(e,t,s){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,El===e&&(jl&s)===s&&(4===Rl||3===Rl&&(130023424&jl)===jl&&500>Je()-Wl?hc(e,0):Ol|=s),ac(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Rr(e,t))&&(vt(e,t,s),ac(e,s))}function Cc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),kc(e,s)}function Fc(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}null!==a&&a.delete(t),kc(e,s)}function Ec(e,t){return Ke(e,t)}function Nc(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,s,a){return new Nc(e,t,s,a)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var s=e.alternate;return null===s?((s=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rc(e,t,s,a,n,i){var o=2;if(a=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Dc(s.children,n,i,t);case P:o=8,n|=8;break;case A:return(e=jc(12,s,t,2|n)).elementType=A,e.lanes=i,e;case E:return(e=jc(13,s,t,n)).elementType=E,e.lanes=i,e;case N:return(e=jc(19,s,t,n)).elementType=N,e.lanes=i,e;case M:return Ic(s,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case F:o=11;break e;case j:o=14;break e;case T:o=16,a=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=jc(o,s,t,n)).elementType=e,t.type=a,t.lanes=i,t}function Dc(e,t,s,a){return(e=jc(7,e,a,t)).lanes=s,e}function Ic(e,t,s,a){return(e=jc(22,e,a,t)).elementType=M,e.lanes=s,e.stateNode={isHidden:!1},e}function Lc(e,t,s){return(e=jc(6,e,null,t)).lanes=s,e}function Oc(e,t,s){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Bc(e,t,s,a,n,r,i,o,l){return e=new Gc(e,t,s,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=jc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ir(r),e}function Wc(e){if(!e)return Cn;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var s=e.type;if(Tn(s))return Dn(e,s,t)}return t}function zc(e,t,s,a,n,r,i,o,l){return(e=Bc(s,a,!0,e,0,r,0,o,l)).context=Wc(null),s=e.current,(r=Or(a=ec(),n=tc(s))).callback=void 0!==t&&null!==t?t:null,Gr(s,r,n),e.current.lanes=n,vt(e,n,a),ac(e,a),e}function Uc(e,t,s,a){var n=t.current,r=ec(),i=tc(n);return s=Wc(s),null===t.context?t.context=s:t.pendingContext=s,(t=Or(r,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Gr(n,t,i))&&(sc(e,n,i,r),Br(e,n,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Sl=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||En.current)bo=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return bo=!1,function(e,t,s){switch(t.tag){case 3:Eo(t),pr();break;case 5:Jr(t);break;case 1:Tn(t.type)&&In(t);break;case 4:Yr(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;kn(wr,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(kn(Zr,1&Zr.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Lo(e,t,s):(kn(Zr,1&Zr.current),null!==(e=Ho(e,t,s))?e.sibling:null);kn(Zr,1&Zr.current);break;case 19:if(a=0!==(s&t.childLanes),0!==(128&e.flags)){if(a)return zo(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),kn(Zr,Zr.current),a)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,s)}return Ho(e,t,s)}(e,t,s);bo=0!==(131072&e.flags)}else bo=!1,nr&&0!==(1048576&t.flags)&&Zn(t,qn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Uo(e,t),e=t.pendingProps;var n=jn(t,Fn.current);Er(t,s),n=fi(null,t,a,e,n,s);var i=gi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tn(a)?(i=!0,In(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ir(t),n.updater=ao,t.stateNode=n,n._reactInternals=t,oo(t,a,e,s),t=Fo(null,t,a,!0,i,s)):(t.tag=0,nr&&i&&er(t),yo(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Uo(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===F)return 11;if(e===j)return 14}return 2}(a),e=to(a,e),n){case 0:t=ko(null,t,a,e,s);break e;case 1:t=Co(null,t,a,e,s);break e;case 11:t=_o(null,t,a,e,s);break e;case 14:t=wo(null,t,a,to(a.type,e),s);break e}throw Error(r(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,ko(e,t,a,n=t.elementType===a?n:to(a,n),s);case 1:return a=t.type,n=t.pendingProps,Co(e,t,a,n=t.elementType===a?n:to(a,n),s);case 3:e:{if(Eo(t),null===e)throw Error(r(387));a=t.pendingProps,n=(i=t.memoizedState).element,Lr(e,t),zr(t,a,null,s);var o=t.memoizedState;if(a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=No(e,t,a,s,n=lo(Error(r(423)),t));break e}if(a!==n){t=No(e,t,a,s,n=lo(Error(r(424)),t));break e}for(ar=cn(t.stateNode.containerInfo.firstChild),sr=t,nr=!0,rr=null,s=_r(t,null,a,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(pr(),a===n){t=Ho(e,t,s);break e}yo(e,t,a,s)}t=t.child}return t;case 5:return Jr(t),null===e&&cr(t),a=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,o=n.children,tn(a,n)?o=null:null!==i&&tn(a,i)&&(t.flags|=32),Ao(e,t),yo(e,t,o,s),t.child;case 6:return null===e&&cr(t),null;case 13:return Lo(e,t,s);case 4:return Yr(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=yr(t,null,a,s):yo(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,_o(e,t,a,n=t.elementType===a?n:to(a,n),s);case 7:return yo(e,t,t.pendingProps,s),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,kn(wr,a._currentValue),a._currentValue=o,null!==i)if(ia(i.value,o)){if(i.children===n.children&&!En.current){t=Ho(e,t,s);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Or(-1,s&-s)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,null!==(c=i.alternate)&&(c.lanes|=s),Fr(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(r(341));o.lanes|=s,null!==(l=o.alternate)&&(l.lanes|=s),Fr(o,s,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Er(t,s),a=a(n=Nr(n)),t.flags|=1,yo(e,t,a,s),t.child;case 14:return n=to(a=t.type,t.pendingProps),wo(e,t,a,n=to(a.type,n),s);case 15:return So(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:to(a,n),Uo(e,t),t.tag=1,Tn(a)?(e=!0,In(t)):e=!1,Er(t,s),ro(t,a,n),oo(t,a,n,s),Fo(null,t,a,!0,e,s);case 19:return zo(e,t,s);case 22:return Po(e,t,s)}throw Error(r(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,s,a,n){var r=s._reactRootContainer;if(r){var i=r;if("function"===typeof n){var o=n;n=function(){var e=Hc(i);o.call(e)}}Uc(t,i,e,n)}else i=function(e,t,s,a,n){if(n){if("function"===typeof a){var r=a;a=function(){var e=Hc(i);r.call(e)}}var i=zc(t,a,e,0,null,!1,0,"",$c);return e._reactRootContainer=i,e[mn]=i.current,Wa(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var o=a;a=function(){var e=Hc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[mn]=l.current,Wa(8===e.nodeType?e.parentNode:e),dc(function(){Uc(t,l,s,a)}),l}(s,t,e,n,a);return Hc(i)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Uc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Uc(null,e,null,null)}),t[mn]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Mt.length&&0!==t&&t<Mt[s].priority;s++);Mt.splice(s,0,e),0===s&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(xt(t,1|s),ac(t,Je()),0===(6&Fl)&&(zl=Je()+500,zn()))}break;case 13:dc(function(){var t=Rr(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),qc(e,1)}},wt=function(e){if(13===e.tag){var t=Rr(e,134217728);if(null!==t)sc(t,e,134217728,ec());qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),s=Rr(e,t);if(null!==s)sc(s,e,t,ec());qc(e,t)}},Pt=function(){return bt},At=function(e,t){var s=bt;try{return bt=e,t()}finally{bt=s}},we=function(e,t,s){switch(t){case"input":if($(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=_n(a);if(!n)throw Error(r(90));K(a),$(a,n)}}}break;case"textarea":re(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Fe=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[bn,yn,_n,ke,Ce,cc]},td={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{nt=ad.inject(sd),rt=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(r(200));return function(e,t,s){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Qc(e))throw Error(r(299));var s=!1,a="",n=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Bc(e,1,!1,null,0,s,0,a,n),e[mn]=t.current,Wa(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Jc(t))throw Error(r(200));return Zc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Qc(e))throw Error(r(405));var a=null!=s&&s.hydratedSources||null,n=!1,i="",o=Kc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(i=s.identifierPrefix),void 0!==s.onRecoverableError&&(o=s.onRecoverableError)),t=zc(t,null,e,1,null!=s?s:null,n,0,i,o),e[mn]=t.current,Wa(e),a)for(e=0;e<a.length;e++)n=(n=(s=a[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Yc(t)},t.render=function(e,t,s){if(!Jc(t))throw Error(r(200));return Zc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Jc(s))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zc(e,t,s,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},736:(e,t,s)=>{var a=s(738).default,n=s(45);e.exports=function(e){var t=n(e,"string");return"symbol"==a(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(s){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:e=>{e.exports=function(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")},e.exports.__esModule=!0,e.exports.default=e.exports},853:(e,t,s)=>{"use strict";e.exports=s(234)},897:(e,t,s)=>{var a=s(693);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}e.exports=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(t){a(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)},956:()=>{},991:(module,__unused_webpack_exports,__webpack_require__)=>{var _objectSpread=__webpack_require__(897).default,_classPrivateGetter=__webpack_require__(183).default,_defineProperty=__webpack_require__(693).default,_classPrivateMethodInitSpec=__webpack_require__(312).default,_assertClassBrand=__webpack_require__(756).default,_classPrivateFieldInitSpec=__webpack_require__(459).default,_classPrivateFieldGet=__webpack_require__(668).default,_classPrivateFieldSet=__webpack_require__(88).default,root,factory;root=globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||o(t)},t.bytesToString=d,t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(s&&"string"===typeof e){if(s.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(s.tryConvertEncoding)try{e=m(e)}catch(a){}}const n=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(n){}return null},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getUuid=function(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const s=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(s);else for(let a=0;a<32;a++)s[a]=Math.floor(255*Math.random());return d(s)},t.getVerbosityLevel=function(){return r},t.info=function(e){r>=n.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.byteLength)},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let s=0,a=e.length;s<a;s++)if(e[s]!==t[s])return!1;return!0},t.isNodeJS=void 0,t.normalizeUnicode=function(e){return g||(g=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,v=new Map([["\ufb05","\u017ft"]])),e.replaceAll(g,(e,t,s)=>t?t.normalize("NFKC"):v.get(s))},t.objectFromMap=function(e){const t=Object.create(null);for(const[s,a]of e)t[s]=a;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(r=e)},t.shadow=l,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=u,t.stringToPDFString=function(e){if(e[0]>="\xef"){let t;if("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t)try{const s=new TextDecoder(t,{fatal:!0}),a=u(e);return s.decode(a)}catch(s){i('stringToPDFString: "'.concat(s,'".'))}}const t=[];for(let a=0,n=e.length;a<n;a++){const s=p[e.charCodeAt(a)];t.push(s?String.fromCharCode(s):e.charAt(a))}return t.join("")},t.stringToUTF8String=m,t.unreachable=o,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=i;const s="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=s,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.MAX_IMAGE_SIZE_TO_CACHE=1e7,t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35;const a=.35/1.35;t.BASELINE_FACTOR=a,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},t.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};const n={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=n,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=n.WARNINGS;function i(e){r>=n.WARNINGS&&console.log("Warning: ".concat(e))}function o(e){throw new Error(e)}function l(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:s,enumerable:!a,configurable:!0,writable:!1}),s}const c=function(){function e(t,s){this.constructor===e&&o("Cannot initialize BaseException."),this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();function d(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||o("Invalid argument for bytesToString");const t=e.length,s=8192;if(t<s)return String.fromCharCode.apply(null,e);const a=[];for(let n=0;n<t;n+=s){const r=Math.min(n+s,t),i=e.subarray(n,r);a.push(String.fromCharCode.apply(null,i))}return a.join("")}function u(e){"string"!==typeof e&&o("Invalid argument for stringToBytes");const t=e.length,s=new Uint8Array(t);for(let a=0;a<t;++a)s[a]=255&e.charCodeAt(a);return s}t.BaseException=c,t.PasswordException=class extends c{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends c{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends c{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends c{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends c{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends c{constructor(e){super(e,"FormatError")}},t.AbortException=class extends c{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return l(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return l(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return l(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"===typeof navigator?l(this,"platform",{isWin:!1,isMac:!1}):l(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var e,t;return l(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}};const h=[...Array(256).keys()].map(e=>e.toString(16).padStart(2,"0"));t.Util=class{static makeHexColor(e,t,s){return"#".concat(h[e]).concat(h[t]).concat(h[s])}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[1],t[1]=s),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(s=t[2],t[2]=t[3],t[3]=s),t[2]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[2],t[2]=s,s=t[1],t[1]=t[3],t[3]=s,e[1]<0&&(s=t[2],t[2]=t[3],t[3]=s),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[1],t[1]=s),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),a=this.applyTransform(e.slice(2,4),t),n=this.applyTransform([e[0],e[3]],t),r=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],a[0],n[0],r[0]),Math.min(s[1],a[1],n[1],r[1]),Math.max(s[0],a[0],n[0],r[0]),Math.max(s[1],a[1],n[1],r[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],i=(s+r)/2,o=Math.sqrt((s+r)**2-4*(s*r-n*a))/2,l=i+o||1,c=i-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>a)return null;const n=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return n>r?null:[s,n,a,r]}static bezierBoundingBox(e,t,s,a,n,r,i,o){const l=[],c=[[],[]];let d,u,h,p,m,f,g,v;for(let _=0;_<2;++_)if(0===_?(u=6*e-12*s+6*n,d=-3*e+9*s-9*n+3*i,h=3*s-3*e):(u=6*t-12*a+6*r,d=-3*t+9*a-9*r+3*o,h=3*a-3*t),Math.abs(d)<1e-12){if(Math.abs(u)<1e-12)continue;p=-h/u,0<p&&p<1&&l.push(p)}else g=u*u-4*h*d,v=Math.sqrt(g),g<0||(m=(-u+v)/(2*d),0<m&&m<1&&l.push(m),f=(-u-v)/(2*d),0<f&&f<1&&l.push(f));let x,b=l.length;const y=b;for(;b--;)p=l[b],x=1-p,c[0][b]=x*x*x*e+3*x*x*p*s+3*x*p*p*n+p*p*p*i,c[1][b]=x*x*x*t+3*x*x*p*a+3*x*p*p*r+p*p*p*o;return c[0][y]=e,c[1][y]=t,c[0][y+1]=i,c[1][y+1]=o,c[0].length=c[1].length=y+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}};const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function m(e){return decodeURIComponent(escape(e))}var f=new WeakMap;t.PromiseCapability=class{constructor(){_classPrivateFieldInitSpec(this,f,!1),this.promise=new Promise((e,t)=>{this.resolve=t=>{_classPrivateFieldSet(f,this,!0),e(t)},this.reject=e=>{_classPrivateFieldSet(f,this,!0),t(e)}})}get settled(){return _classPrivateFieldGet(f,this)}};let g=null,v=null;t.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(e){var t,s;if("string"===typeof e||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const a=new PDFDocumentLoadingTask,{docId:n}=a,r=e.url?getUrlProp(e.url):null,i=e.data?getDataProp(e.data):null,o=e.httpHeaders||null,l=!0===e.withCredentials,c=null!==(t=e.password)&&void 0!==t?t:null,d=e.range instanceof PDFDataRangeTransport?e.range:null,u=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let h=e.worker instanceof PDFWorker?e.worker:null;const p=e.verbosity,m="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,f="string"===typeof e.cMapUrl?e.cMapUrl:null,g=!1!==e.cMapPacked,v=e.CMapReaderFactory||DefaultCMapReaderFactory,x="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,b=e.StandardFontDataFactory||DefaultStandardFontDataFactory,y=!0!==e.stopAtErrors,_=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,w=!1!==e.isEvalSupported,S="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_util.isNodeJS,P=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,A="boolean"===typeof e.disableFontFace?e.disableFontFace:_util.isNodeJS,k=!0===e.fontExtraProperties,C=!0===e.enableXfa,F=e.ownerDocument||globalThis.document,E=!0===e.disableRange,N=!0===e.disableStream,j=!0===e.disableAutoFetch,T=!0===e.pdfBug,M=d?d.length:null!==(s=e.length)&&void 0!==s?s:NaN,R="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_util.isNodeJS&&!A,D="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:v===_display_utils.DOMCMapReaderFactory&&b===_display_utils.DOMStandardFontDataFactory&&f&&x&&(0,_display_utils.isValidFetchUrl)(f,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(x,document.baseURI),I=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:F}),L=e.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:F});(0,_util.setVerbosityLevel)(p);const O={canvasFactory:I,filterFactory:L};if(D||(O.cMapReaderFactory=new v({baseUrl:f,isCompressed:g}),O.standardFontDataFactory=new b({baseUrl:x})),!h){const e={verbosity:p,port:_worker_options.GlobalWorkerOptions.workerPort};h=e.port?PDFWorker.fromPort(e):new PDFWorker(e),a._worker=h}const G={docId:n,apiVersion:"3.11.174",data:i,password:c,disableAutoFetch:j,rangeChunkSize:u,length:M,docBaseUrl:m,enableXfa:C,evaluatorOptions:{maxImageSize:_,disableFontFace:A,ignoreErrors:y,isEvalSupported:w,isOffscreenCanvasSupported:S,canvasMaxAreaInBytes:P,fontExtraProperties:k,useSystemFonts:R,cMapUrl:D?f:null,standardFontDataUrl:D?x:null}},B={ignoreErrors:y,isEvalSupported:w,disableFontFace:A,fontExtraProperties:k,enableXfa:C,ownerDocument:F,disableAutoFetch:j,pdfBug:T,styleElement:null};return h.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(h,G),t=new Promise(function(e){let t;var s;d?t=new _transport_stream.PDFDataTransportStream({length:M,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:E,disableStream:N},d):i||(s={url:r,length:M,httpHeaders:o,withCredentials:l,rangeChunkSize:u,disableRange:E,disableStream:N},t=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(s):(0,_display_utils.isValidFetchUrl)(s.url)?new _displayFetch_stream.PDFFetchStream(s):new _displayNetwork.PDFNetworkStream(s)),e(t)});return Promise.all([e,t]).then(function(e){let[t,s]=e;if(a.destroyed)throw new Error("Loading aborted");const r=new _message_handler.MessageHandler(n,t,h.port),i=new WorkerTransport(r,a,s,B,O);a._transport=i,r.send("Ready",null)})}).catch(a._capability.reject),a}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const s=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return s}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(_util.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_util.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{constructor(){var e,t;this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat((_docId._=(e=_docId._,t=e++,e),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(a){var s;throw null!==(s=this._worker)&&void 0!==s&&s.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var _docId={_:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(e=>{if(!e)return e;const t=[];for(const s in e)t.push(...e[s]);return t}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=new WeakMap,_pendingCleanup=new WeakMap,_PDFPageProxy_brand=new WeakSet;class PDFPageProxy{constructor(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classPrivateMethodInitSpec(this,_PDFPageProxy_brand),_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,null),_classPrivateFieldInitSpec(this,_pendingCleanup,!1),this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:a,dontFlip:n})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,s;let{canvasContext:a,viewport:n,intent:r="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:h=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const p=this._transport.getRenderingIntent(r,i,h);_classPrivateFieldSet(_pendingCleanup,this,!1),_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this),c||(c=this._transport.getOptionalContentConfig());let m=this._intentStates.get(p.cacheKey);m||(m=Object.create(null),this._intentStates.set(p.cacheKey,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const f=!!(p.renderingIntent&_util.RenderingIntentFlag.PRINT);var g;m.displayReadyCapability||(m.displayReadyCapability=new _util.PromiseCapability,m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(g=this._stats)||void 0===g||g.time("Page Request"),this._pumpOperatorList(p));const v=e=>{var t,s;m.renderTasks.delete(x),(this._maybeCleanupAfterRender||f)&&_classPrivateFieldSet(_pendingCleanup,this,!0),_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!f),e?(x.capability.reject(e),this._abortOperatorList({intentState:m,reason:e instanceof Error?e:new Error(e)})):x.capability.resolve(),null===(t=this._stats)||void 0===t||t.timeEnd("Rendering"),null===(s=this._stats)||void 0===s||s.timeEnd("Overall")},x=new InternalRenderTask({callback:v,params:{canvasContext:a,viewport:n,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!f,pdfBug:this._pdfBug,pageColors:u});((s=m).renderTasks||(s.renderTasks=new Set)).add(x);const b=x.task;return Promise.all([m.displayReadyCapability.promise,c]).then(e=>{var t;let[s,a]=e;this.destroyed?v():(null===(t=this._stats)||void 0===t||t.time("Rendering"),x.initializeGraphics({transparency:s,optionalContentConfig:a}),x.operatorListChanged())}).catch(v),b}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:s=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=this._transport.getRenderingIntent(e,t,s,!0);let n,r=this._intentStates.get(a.cacheKey);var i,o;return r||(r=Object.create(null),this._intentStates.set(a.cacheKey,r)),r.opListReadCapability||(n=Object.create(null),n.operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(n))},r.opListReadCapability=new _util.PromiseCapability,((i=r).renderTasks||(i.renderTasks=new Set)).add(n),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(o=this._stats)||void 0===o||o.time("Page Request"),this._pumpOperatorList(a)),r.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(e=>_xfa_text.XfaText.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,s){const a=t.getReader(),n={items:[],styles:Object.create(null)};!function t(){a.read().then(function(s){let{value:a,done:r}=s;r?e(n):(Object.assign(n.styles,a.styles),n.items.push(...a.items),t())},s)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),_classPrivateFieldSet(_pendingCleanup,this,!1),_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldSet(_pendingCleanup,this,!0);const t=_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!1);return e&&t&&this._stats&&(this._stats=new _display_utils.StatTimer),t}_startRenderPage(e,t){var s,a;const n=this._intentStates.get(t);n&&(null===(s=this._stats)||void 0===s||s.timeEnd("Page Request"),null===(a=n.displayReadyCapability)||void 0===a||a.resolve(e))}_renderPageChunk(e,t){for(let s=0,a=e.length;s<a;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:s,annotationStorageSerializable:a}=e;const{map:n,transfers:r}=a,i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:s,annotationStorage:n},r).getReader(),o=this._intentStates.get(s);o.streamReader=i;const l=()=>{i.read().then(e=>{let{value:t,done:s}=e;s?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())},e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}})};l()}_abortOperatorList(e){let{intentState:t,reason:s,force:a=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!a){if(t.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException){let e=RENDERING_CANCELLED_TIMEOUT;return s.extraDelay>0&&s.extraDelay<1e3&&(e+=s.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:s,force:!0})},e))}}if(t.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,s]of this._intentStates)if(s===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function _tryCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this),!_classPrivateFieldGet(_pendingCleanup,this)||this.destroyed)return!1;if(e)return _classPrivateFieldSet(_delayedCleanupTimeout,this,setTimeout(()=>{_classPrivateFieldSet(_delayedCleanupTimeout,this,null),_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldSet(_pendingCleanup,this,!1),!0}function _abortDelayedCleanup(){_classPrivateFieldGet(_delayedCleanupTimeout,this)&&(clearTimeout(_classPrivateFieldGet(_delayedCleanupTimeout,this)),_classPrivateFieldSet(_delayedCleanupTimeout,this,null))}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap;class LoopbackPort{constructor(){_classPrivateFieldInitSpec(this,_listeners,new Set),_classPrivateFieldInitSpec(this,_deferred,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};_classPrivateFieldGet(_deferred,this).then(()=>{for(const e of _classPrivateFieldGet(_listeners,this))e.call(this,s)})}addEventListener(e,t){_classPrivateFieldGet(_listeners,this).add(t)}removeEventListener(e,t){_classPrivateFieldGet(_listeners,this).delete(t)}terminate(){_classPrivateFieldGet(_listeners,this).clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){var _document;const e=null===(_document=document)||void 0===_document||null===(_document=_document.currentScript)||void 0===_document?void 0:_document.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let s;try{if(s=new URL(e),!s.origin||"null"===s.origin)return!1}catch(n){return!1}const a=new URL(t,s);return s.origin===a.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))};class PDFWorker{constructor(){let{name:e=null,port:t=null,verbosity:s=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){var a;if(null!==(a=_workerPorts._)&&void 0!==a&&a.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(_workerPorts._||(_workerPorts._=new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),s=new _message_handler.MessageHandler("main","worker",e),a=()=>{e.removeEventListener("error",n),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},n=()=>{this._webWorker||a()};e.addEventListener("error",n),s.on("test",t=>{e.removeEventListener("error",n),this.destroyed?a():t?(this._messageHandler=s,this._port=e,this._webWorker=e,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),s.destroy(),e.terminate())}),s.on("ready",t=>{if(e.removeEventListener("error",n),this.destroyed)a();else try{r()}catch(s){this._setupFakeWorker()}});const r=()=>{const e=new Uint8Array;s.send("test",e,[e.buffer])};return void r()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const s="fake".concat(PDFWorkerUtil.fakeWorkerId++),a=new _message_handler.MessageHandler(s+"_worker",s,t);e.setup(a,t);const n=new _message_handler.MessageHandler(s,s+"_worker",t);this._messageHandler=n,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=_workerPorts._)||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const s=null===(t=_assertClassBrand(PDFWorker,this,_workerPorts)._)||void 0===t?void 0:t.get(e.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(t){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={_:void 0};exports.PDFWorker=PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_passwordCapability=new WeakMap,_WorkerTransport_brand=new WeakSet;class WorkerTransport{constructor(e,t,s,a,n){_classPrivateMethodInitSpec(this,_WorkerTransport_brand),_classPrivateFieldInitSpec(this,_methodPromises,new Map),_classPrivateFieldInitSpec(this,_pageCache,new Map),_classPrivateFieldInitSpec(this,_pagePromises,new Map),_classPrivateFieldInitSpec(this,_passwordCapability,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,this.canvasFactory=n.canvasFactory,this.filterFactory=n.filterFactory,this.cMapReaderFactory=n.cMapReaderFactory,this.standardFontDataFactory=n.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=_util.RenderingIntentFlag.DISPLAY,r=_annotation_storage.SerializableEmpty;switch(e){case"any":n=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":n=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case _util.AnnotationMode.DISABLE:n+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:n+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:n+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,r=(n&_util.RenderingIntentFlag.PRINT&&s instanceof _annotation_storage.PrintAnnotationStorage?s:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return a&&(n+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:n,cacheKey:"".concat(n,"_").concat(r.hash),annotationStorageSerializable:r}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,null===(e=_classPrivateFieldGet(_passwordCapability,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of _classPrivateFieldGet(_pageCache,this).values())t.push(a._destroy());_classPrivateFieldGet(_pageCache,this).clear(),_classPrivateFieldGet(_pagePromises,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return t.push(s),Promise.all(t).then(()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldGet(_methodPromises,this).clear(),this.filterFactory.destroy(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function(e){let{value:s,done:a}=e;a?t.close():((0,_util.assert)(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(s),1,[s]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",e=>{const s=new _util.PromiseCapability,a=this._fullReader;return a.headersReady.then(()=>{var e;a.isStreamingSupported&&a.isRangeSupported||(this._lastProgress&&(null===(e=t.onProgress)||void 0===e||e.call(t,this._lastProgress)),a.onProgress=e=>{var s;null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.loaded,total:e.total})});s.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},s.reject),s.promise}),e.on("GetRangeReader",(e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(e.begin,e.end);s?(t.onPull=()=>{s.read().then(function(e){let{value:s,done:a}=e;a?t.close():((0,_util.assert)(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(s),1,[s]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{s.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",e=>{let{pdfInfo:s}=e;this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(s,this))}),e.on("DocException",function(e){let s;switch(e.name){case"PasswordException":s=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":s=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",e=>{if(_classPrivateFieldSet(_passwordCapability,this,new _util.PromiseCapability),t.onPassword){const a=e=>{e instanceof Error?_classPrivateFieldGet(_passwordCapability,this).reject(e):_classPrivateFieldGet(_passwordCapability,this).resolve({password:e})};try{t.onPassword(a,e.code)}catch(s){_classPrivateFieldGet(_passwordCapability,this).reject(s)}}else _classPrivateFieldGet(_passwordCapability,this).reject(new _util.PasswordException(e.message,e.code));return _classPrivateFieldGet(_passwordCapability,this).promise}),e.on("DataLoaded",e=>{var s;null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{this.destroyed||_classPrivateFieldGet(_pageCache,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",t=>{var s;let[a,n,r]=t;if(!this.destroyed&&!this.commonObjs.has(a))switch(n){case"Font":const t=this._params;if("error"in r){const e=r.error;(0,_util.warn)("Error during font loading: ".concat(e)),this.commonObjs.resolve(a,e);break}const i=t.pdfBug&&null!==(s=globalThis.FontInspector)&&void 0!==s&&s.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,o=new _font_loader.FontFaceObject(r,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,inspectFont:i});this.fontLoader.bind(o).catch(t=>e.sendWithPromise("FontFallback",{id:a})).finally(()=>{!t.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(a,o)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,r);break;default:throw new Error("Got unknown common object type ".concat(n))}}),e.on("obj",e=>{let[t,s,a,n]=e;if(this.destroyed)return;const r=_classPrivateFieldGet(_pageCache,this).get(s);if(!r.objs.has(t))switch(a){case"Image":if(r.objs.resolve(t,n),n){let e;if(n.bitmap){const{width:t,height:s}=n;e=t*s*4}else{var i;e=(null===(i=n.data)||void 0===i?void 0:i.length)||0}e>_util.MAX_IMAGE_SIZE_TO_CACHE&&(r._maybeCleanupAfterRender=!0)}break;case"Pattern":r.objs.resolve(t,n);break;default:throw new Error("Got unknown object type ".concat(a))}}),e.on("DocProgress",e=>{var s;this.destroyed||null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:s,transfers:a}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:s,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},a).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=_classPrivateFieldGet(_pagePromises,this).get(t);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(e=>{if(this.destroyed)throw new Error("Transport destroyed");const s=new PDFPageProxy(t,e,this,this._params.pdfBug);return _classPrivateFieldGet(_pageCache,this).set(t,s),s});return _classPrivateFieldGet(_pagePromises,this).set(t,a),a}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,"GetFieldObjects")}hasJSActions(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=_classPrivateFieldGet(_methodPromises,this).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,s,a,n;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(s=this._fullReader)||void 0===s?void 0:s.filename)&&void 0!==t?t:null,contentLength:null!==(a=null===(n=this._fullReader)||void 0===n?void 0:n.contentLength)&&void 0!==a?a:null}});return _classPrivateFieldGet(_methodPromises,this).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of _classPrivateFieldGet(_pageCache,this).values())if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."));this.commonObjs.clear(),e||this.fontLoader.clear(),_classPrivateFieldGet(_methodPromises,this).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}function _cacheSimpleMethod(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=_classPrivateFieldGet(_methodPromises,this).get(e);if(s)return s;const a=this.messageHandler.sendWithPromise(e,t);return _classPrivateFieldGet(_methodPromises,this).set(e,a),a}var _objs=new WeakMap,_PDFObjects_brand=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_PDFObjects_brand),_classPrivateFieldInitSpec(this,_objs,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const s=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,e);return s.capability.promise.then(()=>t(s.data)),null}const s=_classPrivateFieldGet(_objs,this)[e];if(null===s||void 0===s||!s.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return s.data}has(e){const t=_classPrivateFieldGet(_objs,this)[e];return(null===t||void 0===t?void 0:t.capability.settled)||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,e);s.data=t,s.capability.resolve()}clear(){for(const t in _classPrivateFieldGet(_objs,this)){var e;const{data:s}=_classPrivateFieldGet(_objs,this)[t];null===s||void 0===s||null===(e=s.bitmap)||void 0===e||e.close()}_classPrivateFieldSet(_objs,this,Object.create(null))}}function _ensureObj(e){var t;return(t=_classPrivateFieldGet(_objs,this))[e]||(t[e]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(e){_classPrivateFieldInitSpec(this,_internalRenderTask,null),_classPrivateFieldSet(_internalRenderTask,this,e),this.onContinue=null}get promise(){return _classPrivateFieldGet(_internalRenderTask,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classPrivateFieldGet(_internalRenderTask,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=_classPrivateFieldGet(_internalRenderTask,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=_classPrivateFieldGet(_internalRenderTask,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(e){let{callback:t,params:s,objs:a,commonObjs:n,annotationCanvasMap:r,operatorList:i,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=s,this.objs=a,this.commonObjs=n,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(e){var t,s;let{transparency:a=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(_canvasInUse._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_canvasInUse._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:o,background:l}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:a,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(s=this.graphicsReadyCallback)||void 0===s||s.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),_canvasInUse._.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),s))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_canvasInUse._.delete(this._canvas),this.callback())))}}var _canvasInUse={_:new WeakSet};const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var a=s(1),n=s(4),r=s(8);const i=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=i;var o=new WeakMap,l=new WeakMap,c=new WeakSet;class d{constructor(){_classPrivateMethodInitSpec(this,c),_classPrivateFieldInitSpec(this,o,!1),_classPrivateFieldInitSpec(this,l,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=_classPrivateFieldGet(l,this).get(e);return void 0===s?t:Object.assign(t,s)}getRawValue(e){return _classPrivateFieldGet(l,this).get(e)}remove(e){if(_classPrivateFieldGet(l,this).delete(e),0===_classPrivateFieldGet(l,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of _classPrivateFieldGet(l,this).values())if(e instanceof n.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=_classPrivateFieldGet(l,this).get(e);let a=!1;if(void 0!==s)for(const[n,r]of Object.entries(t))s[n]!==r&&(a=!0,s[n]=r);else a=!0,_classPrivateFieldGet(l,this).set(e,t);a&&_assertClassBrand(c,this,u).call(this),t instanceof n.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return _classPrivateFieldGet(l,this).has(e)}getAll(){return _classPrivateFieldGet(l,this).size>0?(0,a.objectFromMap)(_classPrivateFieldGet(l,this)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return _classPrivateFieldGet(l,this).size}resetModified(){_classPrivateFieldGet(o,this)&&(_classPrivateFieldSet(o,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new p(this)}get serializable(){if(0===_classPrivateFieldGet(l,this).size)return i;const e=new Map,t=new r.MurmurHash3_64,s=[],a=Object.create(null);let o=!1;for(const[r,i]of _classPrivateFieldGet(l,this)){const s=i instanceof n.AnnotationEditor?i.serialize(!1,a):i;s&&(e.set(r,s),t.update("".concat(r,":").concat(JSON.stringify(s))),o||(o=!!s.bitmap))}if(o)for(const n of e.values())n.bitmap&&s.push(n.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfers:s}:i}}function u(){_classPrivateFieldGet(o,this)||(_classPrivateFieldSet(o,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}t.AnnotationStorage=d;var h=new WeakMap;class p extends d{constructor(e){super(),_classPrivateFieldInitSpec(this,h,void 0);const{map:t,hash:s,transfers:a}=e.serializable,n=structuredClone(t,a?{transfer:a}:null);_classPrivateFieldSet(h,this,{map:n,hash:s,transfers:a})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(h,this)}}t.PrintAnnotationStorage=p},(e,t,s)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var n=s(5),r=s(1),i=s(6),o=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakMap,x=new WeakMap,b=new WeakMap,y=new WeakMap,_=new WeakSet;class w{constructor(e){_classPrivateMethodInitSpec(this,_),_classPrivateFieldInitSpec(this,o,""),_classPrivateFieldInitSpec(this,l,!1),_classPrivateFieldInitSpec(this,c,null),_classPrivateFieldInitSpec(this,d,null),_classPrivateFieldInitSpec(this,u,null),_classPrivateFieldInitSpec(this,h,!1),_classPrivateFieldInitSpec(this,p,null),_classPrivateFieldInitSpec(this,m,this.focusin.bind(this)),_classPrivateFieldInitSpec(this,f,this.focusout.bind(this)),_classPrivateFieldInitSpec(this,g,!1),_classPrivateFieldInitSpec(this,v,!1),_classPrivateFieldInitSpec(this,x,!1),_defineProperty(this,"_initialOptions",Object.create(null)),_defineProperty(this,"_uiManager",null),_defineProperty(this,"_focusEventsAllowed",!0),_defineProperty(this,"_l10nPromise",null),_classPrivateFieldInitSpec(this,b,!1),_classPrivateFieldInitSpec(this,y,w._zIndex++),this.constructor===w&&(0,r.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:a,pageX:n,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[n,i];const[S,P]=this.parentDimensions;this.x=e.x/S,this.y=e.y/P,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,r.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new T({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(w._l10nPromise||(w._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(t=>[t,e.get(t)]))),null!==t&&void 0!==t&&t.strings)for(const a of t.strings)w._l10nPromise.set(a,e.get(a));if(-1!==w._borderLineWidth)return;const s=getComputedStyle(document.documentElement);w._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){(0,r.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _classPrivateFieldGet(b,this)}set _isDraggable(e){var t;_classPrivateFieldSet(b,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(y,this)}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){this._focusEventsAllowed&&(_classPrivateFieldGet(g,this)?_classPrivateFieldSet(g,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const s=e.relatedTarget;null!==s&&void 0!==s&&s.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,a){const[n,r]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(e+s)/n,this.y=(t+a)/r,this.fixAndSetPosition()}translate(e,t){_assertClassBrand(_,this,S).call(this,this.parentDimensions,e,t)}translateInPage(e,t){_assertClassBrand(_,this,S).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){const[s,a]=this.parentDimensions;if(this.x+=e/s,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:n,y:r}=this;const[i,o]=_assertClassBrand(_,this,P).call(this);n+=i,r+=o,this.div.style.left="".concat((100*n).toFixed(2),"%"),this.div.style.top="".concat((100*r).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[e,t]=this.pageDimensions;let{x:s,y:a,width:n,height:r}=this;switch(n*=e,r*=t,s*=e,a*=t,this.rotation){case 0:s=Math.max(0,Math.min(e-n,s)),a=Math.max(0,Math.min(t-r,a));break;case 90:s=Math.max(0,Math.min(e-r,s)),a=Math.min(t,Math.max(n,a));break;case 180:s=Math.min(e,Math.max(n,s)),a=Math.min(t,Math.max(r,a));break;case 270:s=Math.min(e,Math.max(r,s)),a=Math.max(0,Math.min(t-n,a))}this.x=s/=e,this.y=a/=t;const[i,o]=_assertClassBrand(_,this,P).call(this);s+=i,a+=o;const{style:l}=this.div;l.left="".concat((100*s).toFixed(2),"%"),l.top="".concat((100*a).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return A.call(w,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return A.call(w,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this,a=t*e,n=s*e;return r.FeatureTest.isCSSRoundSupported?[Math.round(a),Math.round(n)]:[a,n]}setDims(e,t){var s;const[a,n]=this.parentDimensions;this.div.style.width="".concat((100*e/a).toFixed(2),"%"),_classPrivateFieldGet(h,this)||(this.div.style.height="".concat((100*t/n).toFixed(2),"%")),null===(s=_classPrivateFieldGet(c,this))||void 0===s||s.classList.toggle("small",e<w.SMALL_EDITOR_SIZE||t<w.SMALL_EDITOR_SIZE)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,a=s.endsWith("%"),n=!_classPrivateFieldGet(h,this)&&t.endsWith("%");if(a&&n)return;const[r,i]=this.parentDimensions;a||(e.width="".concat((100*parseFloat(s)/r).toFixed(2),"%")),_classPrivateFieldGet(h,this)||n||(e.height="".concat((100*parseFloat(t)/i).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_classPrivateFieldGet(c,this))return;const e=_classPrivateFieldSet(c,this,document.createElement("button"));e.className="altText";const t=await w._l10nPromise.get("editor_alt_text_button_label");if(e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",i.noContextMenu),e.addEventListener("pointerdown",e=>e.stopPropagation()),e.addEventListener("click",e=>{e.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(t.preventDefault(),this._uiManager.editAltText(this))}),_assertClassBrand(_,this,N).call(this),this.div.append(e),!w.SMALL_EDITOR_SIZE){const t=40;w.SMALL_EDITOR_SIZE=Math.min(128,Math.round(e.getBoundingClientRect().width*(1+t/100)))}}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_classPrivateFieldGet(o,this),decorative:_classPrivateFieldGet(l,this)}}set altTextData(e){let{altText:t,decorative:s}=e;_classPrivateFieldGet(o,this)===t&&_classPrivateFieldGet(l,this)===s||(_classPrivateFieldSet(o,this,t),_classPrivateFieldSet(l,this,s),_assertClassBrand(_,this,N).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(m,this)),this.div.addEventListener("focusout",_classPrivateFieldGet(f,this));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[s,a]=this.getInitialTranslation();return this.translate(s,a),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=r.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(_classPrivateFieldSet(g,this,!0),_assertClassBrand(_,this,j).call(this,e))}moveInDOM(){var e;null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t){const s=this.parentScale,[a,n]=this.pageDimensions,[r,i]=this.pageTranslation,o=e/s,l=t/s,c=this.x*a,d=this.y*n,u=this.width*a,h=this.height*n;switch(this.rotation){case 0:return[c+o+r,n-d-l-h+i,c+o+u+r,n-d-l+i];case 90:return[c+l+r,n-d+o+i,c+l+h+r,n-d+o+u+i];case 180:return[c-o-u+r,n-d+l+i,c-o+r,n-d+l+h+i];case 270:return[c-l-h+r,n-d-o-u+i,c-l+r,n-d-o+i];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,a,n,r]=e,i=n-s,o=r-a;switch(this.rotation){case 0:return[s,t-r,i,o];case 90:return[s,t-a,o,i];case 180:return[n,t-a,i,o];case 270:return[n,t-r,o,i];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(x,this,!0)}disableEditMode(){_classPrivateFieldSet(x,this,!1)}isInEditMode(){return _classPrivateFieldGet(x,this)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;null===(e=this.div)||void 0===e||e.addEventListener("focusin",_classPrivateFieldGet(m,this)),null===(t=this.div)||void 0===t||t.addEventListener("focusout",_classPrivateFieldGet(f,this))}serialize(){(0,r.unreachable)("An editor must be serializable")}static deserialize(e,t,s){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});a.rotation=e.rotation;const[n,r]=a.pageDimensions,[i,o,l,c]=a.getRectInCurrentCoords(e.rect,r);return a.x=i/n,a.y=o/r,a.width=l/n,a.height=c/r,a}remove(){var e;this.div.removeEventListener("focusin",_classPrivateFieldGet(m,this)),this.div.removeEventListener("focusout",_classPrivateFieldGet(f,this)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),null===(e=_classPrivateFieldGet(c,this))||void 0===e||e.remove(),_classPrivateFieldSet(c,this,null),_classPrivateFieldSet(d,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_assertClassBrand(_,this,C).call(this),_classPrivateFieldGet(p,this).classList.remove("hidden"))}select(){var e;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor")}unselect(){var e,t,s;null===(e=_classPrivateFieldGet(p,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(s=this.div)&&void 0!==s&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(e,t){}disableEditing(){_classPrivateFieldGet(c,this)&&(_classPrivateFieldGet(c,this).hidden=!0)}enableEditing(){_classPrivateFieldGet(c,this)&&(_classPrivateFieldGet(c,this).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(v,this)}set isEditing(e){_classPrivateFieldSet(v,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){_classPrivateFieldSet(h,this,!0);const s=e/t,{style:a}=this.div;a.aspectRatio=s,a.height="auto"}static get MIN_SIZE(){return 16}}function S(e,t,s){let[a,n]=e;[t,s]=this.screenToPageTranslation(t,s),this.x+=t/a,this.y+=s/n,this.fixAndSetPosition()}function P(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=a,n=s/e,r=s/t;switch(this.rotation){case 90:return[-n,r];case 180:return[n,r];case 270:return[n,-r];default:return[-n,-r]}}function A(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function k(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function C(){if(_classPrivateFieldGet(p,this))return;_classPrivateFieldSet(p,this,document.createElement("div")),_classPrivateFieldGet(p,this).classList.add("resizers");const e=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||e.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const t of e){const e=document.createElement("div");_classPrivateFieldGet(p,this).append(e),e.classList.add("resizer",t),e.addEventListener("pointerdown",_assertClassBrand(_,this,F).bind(this,t)),e.addEventListener("contextmenu",i.noContextMenu)}this.div.prepend(_classPrivateFieldGet(p,this))}function F(e,t){t.preventDefault();const{isMac:s}=r.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&s)return;const a=_assertClassBrand(_,this,E).bind(this,e),n=this._isDraggable;this._isDraggable=!1;const i={passive:!0,capture:!0};window.addEventListener("pointermove",a,i);const o=this.x,l=this.y,c=this.width,d=this.height,u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this._isDraggable=n,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",a,i),this.parent.div.style.cursor=u,this.div.style.cursor=h;const e=this.x,t=this.y,s=this.width,r=this.height;e===o&&t===l&&s===c&&r===d||this.addCommands({cmd:()=>{this.width=s,this.height=r,this.x=e,this.y=t;const[a,n]=this.parentDimensions;this.setDims(a*s,n*r),this.fixAndSetPosition()},undo:()=>{this.width=c,this.height=d,this.x=o,this.y=l;const[e,t]=this.parentDimensions;this.setDims(e*c,t*d),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}function E(e,t){const[s,n]=this.parentDimensions,r=this.x,i=this.y,o=this.width,l=this.height,c=a.MIN_SIZE/s,d=a.MIN_SIZE/n,u=e=>Math.round(1e4*e)/1e4,h=_assertClassBrand(_,this,k).call(this,this.rotation),p=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],m=_assertClassBrand(_,this,k).call(this,360-this.rotation);let f,g,v=!1,x=!1;switch(e){case"topLeft":v=!0,f=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":v=!0,f=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":x=!0,f=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":v=!0,f=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":v=!0,f=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":x=!0,f=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const b=f(o,l),y=g(o,l);let w=p(...y);const S=u(r+w[0]),P=u(i+w[1]);let A=1,C=1,[F,E]=this.screenToPageTranslation(t.movementX,t.movementY);var N,j;if([F,E]=(N=F/s,j=E/n,[m[0]*N+m[2]*j,m[1]*N+m[3]*j]),v){const e=Math.hypot(o,l);A=C=Math.max(Math.min(Math.hypot(y[0]-b[0]-F,y[1]-b[1]-E)/e,1/o,1/l),c/o,d/l)}else x?A=Math.max(c,Math.min(1,Math.abs(y[0]-b[0]-F)))/o:C=Math.max(d,Math.min(1,Math.abs(y[1]-b[1]-E)))/l;const T=u(o*A),M=u(l*C);w=p(...g(T,M));const R=S-w[0],D=P-w[1];this.width=T,this.height=M,this.x=R,this.y=D,this.setDims(s*T,n*M),this.fixAndSetPosition()}async function N(){const e=_classPrivateFieldGet(c,this);if(!e)return;var t;if(!_classPrivateFieldGet(o,this)&&!_classPrivateFieldGet(l,this))return e.classList.remove("done"),void(null===(t=_classPrivateFieldGet(d,this))||void 0===t||t.remove());a._l10nPromise.get("editor_alt_text_edit_button_label").then(t=>{e.setAttribute("aria-label",t)});let s=_classPrivateFieldGet(d,this);if(!s){_classPrivateFieldSet(d,this,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip");const t=s.id="alt-text-tooltip-".concat(this.id);e.setAttribute("aria-describedby",t);const a=100;e.addEventListener("mouseenter",()=>{_classPrivateFieldSet(u,this,setTimeout(()=>{_classPrivateFieldSet(u,this,null),_classPrivateFieldGet(d,this).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},a))}),e.addEventListener("mouseleave",()=>{var e;clearTimeout(_classPrivateFieldGet(u,this)),_classPrivateFieldSet(u,this,null),null===(e=_classPrivateFieldGet(d,this))||void 0===e||e.classList.remove("show")})}e.classList.add("done"),s.innerText=_classPrivateFieldGet(l,this)?await a._l10nPromise.get("editor_alt_text_decorative_tooltip"):_classPrivateFieldGet(o,this),s.parentNode||e.append(s)}function j(e){if(!this._isDraggable)return;const t=this._uiManager.isSelected(this);let s,a;this._uiManager.setUpDragSession(),t&&(s={passive:!0,capture:!0},a=e=>{const[t,s]=this.screenToPageTranslation(e.movementX,e.movementY);this._uiManager.dragSelectedEditors(t,s)},window.addEventListener("pointermove",a,s));const n=()=>{if(window.removeEventListener("pointerup",n),window.removeEventListener("blur",n),t&&window.removeEventListener("pointermove",a,s),_classPrivateFieldSet(g,this,!1),!this._uiManager.endDragSession()){const{isMac:t}=r.FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",n),window.addEventListener("blur",n)}a=w,_defineProperty(w,"_borderLineWidth",-1),_defineProperty(w,"_colorManager",new n.ColorManager),_defineProperty(w,"_zIndex",1),_defineProperty(w,"SMALL_EDITOR_SIZE",0),t.AnnotationEditor=w;class T extends w{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,s)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,s){for(const a of s)t.addEventListener(a,e[a].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var n=s(1),r=s(6),i=new WeakMap;class o{constructor(){_classPrivateFieldInitSpec(this,i,0)}getId(){var e,t;return"".concat(n.AnnotationEditorPrefix).concat((_classPrivateFieldSet(i,this,(e=_classPrivateFieldGet(i,this),t=e++,e)),t))}}var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakSet;class h{constructor(){_classPrivateMethodInitSpec(this,u),_classPrivateFieldInitSpec(this,l,(0,n.getUuid)()),_classPrivateFieldInitSpec(this,c,0),_classPrivateFieldInitSpec(this,d,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d"),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const s=t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]));return(0,n.shadow)(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:s,size:a,type:n}=e;return _assertClassBrand(u,this,p).call(this,"".concat(t,"_").concat(s,"_").concat(a,"_").concat(n),e)}async getFromUrl(e){return _assertClassBrand(u,this,p).call(this,e,e)}async getFromId(e){_classPrivateFieldGet(d,this)||_classPrivateFieldSet(d,this,new Map);const t=_classPrivateFieldGet(d,this).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=_classPrivateFieldGet(d,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){_classPrivateFieldGet(d,this)||_classPrivateFieldSet(d,this,new Map);const t=_classPrivateFieldGet(d,this).get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith("image_".concat(_classPrivateFieldGet(l,this),"_"))}}async function p(e,t){var s;_classPrivateFieldGet(d,this)||_classPrivateFieldSet(d,this,new Map);let n=_classPrivateFieldGet(d,this).get(e);if(null===n)return null;if(null!==(s=n)&&void 0!==s&&s.bitmap)return n.refCounter+=1,n;try{var r,i;let e;if(n||(n={bitmap:null,id:"image_".concat(_classPrivateFieldGet(l,this),"_").concat((_classPrivateFieldSet(c,this,(r=_classPrivateFieldGet(c,this),i=r++,r)),i)),refCounter:0,isSvg:!1}),"string"===typeof t){n.url=t;const s=await fetch(t);if(!s.ok)throw new Error(s.statusText);e=await s.blob()}else e=n.file=t;if("image/svg+xml"===e.type){const t=a._isSVGFittingCanvas,s=new FileReader,r=new Image,i=new Promise((e,a)=>{r.onload=()=>{n.bitmap=r,n.isSvg=!0,e()},s.onload=async()=>{const e=n.svgUrl=s.result;r.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},r.onerror=s.onerror=a});s.readAsDataURL(e),await i}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(o){console.error(o),n=null}return _classPrivateFieldGet(d,this).set(e,n),n&&_classPrivateFieldGet(d,this).set(n.id,n),n}a=h;var m=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakMap;class x{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classPrivateFieldInitSpec(this,m,[]),_classPrivateFieldInitSpec(this,f,!1),_classPrivateFieldInitSpec(this,g,void 0),_classPrivateFieldInitSpec(this,v,-1),_classPrivateFieldSet(g,this,e)}add(e){let{cmd:t,undo:s,mustExec:a,type:n=NaN,overwriteIfSameType:r=!1,keepUndo:i=!1}=e;if(a&&t(),_classPrivateFieldGet(f,this))return;const o={cmd:t,undo:s,type:n};if(-1===_classPrivateFieldGet(v,this))return _classPrivateFieldGet(m,this).length>0&&(_classPrivateFieldGet(m,this).length=0),_classPrivateFieldSet(v,this,0),void _classPrivateFieldGet(m,this).push(o);if(r&&_classPrivateFieldGet(m,this)[_classPrivateFieldGet(v,this)].type===n)return i&&(o.undo=_classPrivateFieldGet(m,this)[_classPrivateFieldGet(v,this)].undo),void(_classPrivateFieldGet(m,this)[_classPrivateFieldGet(v,this)]=o);const l=_classPrivateFieldGet(v,this)+1;l===_classPrivateFieldGet(g,this)?_classPrivateFieldGet(m,this).splice(0,1):(_classPrivateFieldSet(v,this,l),l<_classPrivateFieldGet(m,this).length&&_classPrivateFieldGet(m,this).splice(l)),_classPrivateFieldGet(m,this).push(o)}undo(){-1!==_classPrivateFieldGet(v,this)&&(_classPrivateFieldSet(f,this,!0),_classPrivateFieldGet(m,this)[_classPrivateFieldGet(v,this)].undo(),_classPrivateFieldSet(f,this,!1),_classPrivateFieldSet(v,this,_classPrivateFieldGet(v,this)-1))}redo(){_classPrivateFieldGet(v,this)<_classPrivateFieldGet(m,this).length-1&&(_classPrivateFieldSet(v,this,_classPrivateFieldGet(v,this)+1),_classPrivateFieldSet(f,this,!0),_classPrivateFieldGet(m,this)[_classPrivateFieldGet(v,this)].cmd(),_classPrivateFieldSet(f,this,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(v,this)}hasSomethingToRedo(){return _classPrivateFieldGet(v,this)<_classPrivateFieldGet(m,this).length-1}destroy(){_classPrivateFieldSet(m,this,null)}}t.CommandManager=x;var b=new WeakSet;class y{constructor(e){_classPrivateMethodInitSpec(this,b),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=n.FeatureTest.platform;for(const[s,a,n={}]of e)for(const e of s){const s=e.startsWith("mac+");t&&s?(this.callbacks.set(e.slice(4),{callback:a,options:n}),this.allKeys.add(e.split("+").at(-1))):t||s||(this.callbacks.set(e,{callback:a,options:n}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(_assertClassBrand(b,this,_).call(this,t));if(!s)return;const{callback:a,options:{bubbles:n=!1,args:r=[],checker:i=null}}=s;i&&!i(e,t)||(a.bind(e,...r)(),n||(t.stopPropagation(),t.preventDefault()))}}function _(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}t.KeyboardManager=y;class w{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,r.getColorValues)(e),(0,n.shadow)(this,"_colors",e)}convert(e){const t=(0,r.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,a]of this._colors)if(a.every((e,s)=>e===t[s]))return w._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?n.Util.makeHexColor(...t):e}}_defineProperty(w,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=w;var S=new WeakMap,P=new WeakMap,A=new WeakMap,k=new WeakMap,C=new WeakMap,F=new WeakMap,E=new WeakMap,N=new WeakMap,j=new WeakMap,T=new WeakMap,M=new WeakMap,R=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,O=new WeakMap,G=new WeakMap,B=new WeakMap,W=new WeakMap,z=new WeakMap,U=new WeakMap,H=new WeakMap,V=new WeakMap,q=new WeakMap,K=new WeakMap,X=new WeakMap,Y=new WeakMap,Q=new WeakMap,J=new WeakMap,$=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,se=new WeakMap,ae=new WeakSet;class ne{static get _keyboardManager(){const e=ne.prototype,t=e=>{const{activeElement:t}=document;return t&&_classPrivateFieldGet(te,e).contains(t)&&e.hasSomethingToControl()},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new y([[["ctrl+a","mac+meta+a"],e.selectAll],[["ctrl+z","mac+meta+z"],e.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}constructor(e,t,s,a,i,l){_classPrivateMethodInitSpec(this,ae),_classPrivateFieldInitSpec(this,S,null),_classPrivateFieldInitSpec(this,P,new Map),_classPrivateFieldInitSpec(this,A,new Map),_classPrivateFieldInitSpec(this,k,null),_classPrivateFieldInitSpec(this,C,null),_classPrivateFieldInitSpec(this,F,new x),_classPrivateFieldInitSpec(this,E,0),_classPrivateFieldInitSpec(this,N,new Set),_classPrivateFieldInitSpec(this,j,null),_classPrivateFieldInitSpec(this,T,null),_classPrivateFieldInitSpec(this,M,new Set),_classPrivateFieldInitSpec(this,R,null),_classPrivateFieldInitSpec(this,D,new o),_classPrivateFieldInitSpec(this,I,!1),_classPrivateFieldInitSpec(this,L,!1),_classPrivateFieldInitSpec(this,O,null),_classPrivateFieldInitSpec(this,G,n.AnnotationEditorType.NONE),_classPrivateFieldInitSpec(this,B,new Set),_classPrivateFieldInitSpec(this,W,null),_classPrivateFieldInitSpec(this,z,this.blur.bind(this)),_classPrivateFieldInitSpec(this,U,this.focus.bind(this)),_classPrivateFieldInitSpec(this,H,this.copy.bind(this)),_classPrivateFieldInitSpec(this,V,this.cut.bind(this)),_classPrivateFieldInitSpec(this,q,this.paste.bind(this)),_classPrivateFieldInitSpec(this,K,this.keydown.bind(this)),_classPrivateFieldInitSpec(this,X,this.onEditingAction.bind(this)),_classPrivateFieldInitSpec(this,Y,this.onPageChanging.bind(this)),_classPrivateFieldInitSpec(this,Q,this.onScaleChanging.bind(this)),_classPrivateFieldInitSpec(this,J,this.onRotationChanging.bind(this)),_classPrivateFieldInitSpec(this,$,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}),_classPrivateFieldInitSpec(this,Z,[0,0]),_classPrivateFieldInitSpec(this,ee,null),_classPrivateFieldInitSpec(this,te,null),_classPrivateFieldInitSpec(this,se,null),_classPrivateFieldSet(te,this,e),_classPrivateFieldSet(se,this,t),_classPrivateFieldSet(k,this,s),this._eventBus=a,this._eventBus._on("editingaction",_classPrivateFieldGet(X,this)),this._eventBus._on("pagechanging",_classPrivateFieldGet(Y,this)),this._eventBus._on("scalechanging",_classPrivateFieldGet(Q,this)),this._eventBus._on("rotationchanging",_classPrivateFieldGet(J,this)),_classPrivateFieldSet(C,this,i.annotationStorage),_classPrivateFieldSet(R,this,i.filterFactory),_classPrivateFieldSet(W,this,l),this.viewParameters={realScale:r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_assertClassBrand(ae,this,le).call(this),_assertClassBrand(ae,this,ie).call(this),this._eventBus._off("editingaction",_classPrivateFieldGet(X,this)),this._eventBus._off("pagechanging",_classPrivateFieldGet(Y,this)),this._eventBus._off("scalechanging",_classPrivateFieldGet(Q,this)),this._eventBus._off("rotationchanging",_classPrivateFieldGet(J,this));for(const e of _classPrivateFieldGet(A,this).values())e.destroy();_classPrivateFieldGet(A,this).clear(),_classPrivateFieldGet(P,this).clear(),_classPrivateFieldGet(M,this).clear(),_classPrivateFieldSet(S,this,null),_classPrivateFieldGet(B,this).clear(),_classPrivateFieldGet(F,this).destroy(),_classPrivateFieldGet(k,this).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",_classPrivateFieldGet(W,this)?_classPrivateFieldGet(R,this).addHCMFilter(_classPrivateFieldGet(W,this).foreground,_classPrivateFieldGet(W,this).background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(_classPrivateFieldGet(te,this)).direction)}editAltText(e){var t;null===(t=_classPrivateFieldGet(k,this))||void 0===t||t.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;_classPrivateFieldSet(E,this,t-1)}focusMainContainer(){_classPrivateFieldGet(te,this).focus()}findParent(e,t){for(const s of _classPrivateFieldGet(A,this).values()){const{x:a,y:n,width:r,height:i}=s.div.getBoundingClientRect();if(e>=a&&e<=a+r&&t>=n&&t<=n+i)return s}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldGet(se,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){_classPrivateFieldGet(M,this).add(e)}removeShouldRescale(e){_classPrivateFieldGet(M,this).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*r.PixelsPerInch.PDF_TO_CSS_UNITS;for(const s of _classPrivateFieldGet(M,this))s.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}addToAnnotationStorage(e){e.isEmpty()||!_classPrivateFieldGet(C,this)||_classPrivateFieldGet(C,this).has(e.id)||_classPrivateFieldGet(C,this).setValue(e.id,e)}blur(){if(!this.hasSelection)return;const{activeElement:e}=document;for(const t of _classPrivateFieldGet(B,this))if(t.div.contains(e)){_classPrivateFieldSet(O,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!_classPrivateFieldGet(O,this))return;const[e,t]=_classPrivateFieldGet(O,this);_classPrivateFieldSet(O,this,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){_assertClassBrand(ae,this,oe).call(this),_assertClassBrand(ae,this,ce).call(this)}removeEditListeners(){_assertClassBrand(ae,this,le).call(this),_assertClassBrand(ae,this,de).call(this)}copy(e){var t;if(e.preventDefault(),null===(t=_classPrivateFieldGet(S,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const s=[];for(const a of _classPrivateFieldGet(B,this)){const e=a.serialize(!0);e&&s.push(e)}0!==s.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const n of t.items)for(const e of _classPrivateFieldGet(T,this))if(e.isHandlingMimeForPasting(n.type))return void e.paste(n,this.currentLayer);let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){return void(0,n.warn)('paste: "'.concat(r.message,'".'))}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const e=[];for(const r of s){const t=a.deserialize(r);if(!t)return;e.push(t)}const t=()=>{for(const t of e)_assertClassBrand(ae,this,fe).call(this,t);_assertClassBrand(ae,this,ve).call(this,e)},n=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:n,mustExec:!0})}catch(r){(0,n.warn)('paste: "'.concat(r.message,'".'))}}keydown(e){var t;null!==(t=this.getActive())&&void 0!==t&&t.shouldGetKeyboardEvents()||ne._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}setEditingState(e){e?(_assertClassBrand(ae,this,re).call(this),_assertClassBrand(ae,this,oe).call(this),_assertClassBrand(ae,this,ce).call(this),_assertClassBrand(ae,this,ue).call(this,{isEditing:_classPrivateFieldGet(G,this)!==n.AnnotationEditorType.NONE,isEmpty:_assertClassBrand(ae,this,ge).call(this),hasSomethingToUndo:_classPrivateFieldGet(F,this).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(F,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(_assertClassBrand(ae,this,ie).call(this),_assertClassBrand(ae,this,le).call(this),_assertClassBrand(ae,this,de).call(this),_assertClassBrand(ae,this,ue).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!_classPrivateFieldGet(T,this)){_classPrivateFieldSet(T,this,e);for(const e of _classPrivateFieldGet(T,this))_assertClassBrand(ae,this,he).call(this,e.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldGet(D,this).getId()}get currentLayer(){return _classPrivateFieldGet(A,this).get(_classPrivateFieldGet(E,this))}getLayer(e){return _classPrivateFieldGet(A,this).get(e)}get currentPageIndex(){return _classPrivateFieldGet(E,this)}addLayer(e){_classPrivateFieldGet(A,this).set(e.pageIndex,e),_classPrivateFieldGet(I,this)?e.enable():e.disable()}removeLayer(e){_classPrivateFieldGet(A,this).delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_classPrivateFieldGet(G,this)!==e){if(_classPrivateFieldSet(G,this,e),e===n.AnnotationEditorType.NONE)return this.setEditingState(!1),void _assertClassBrand(ae,this,me).call(this);this.setEditingState(!0),_assertClassBrand(ae,this,pe).call(this),this.unselectAll();for(const t of _classPrivateFieldGet(A,this).values())t.updateMode(e);if(t)for(const e of _classPrivateFieldGet(P,this).values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}}updateToolbar(e){e!==_classPrivateFieldGet(G,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(_classPrivateFieldGet(T,this))if(e!==n.AnnotationEditorParamsType.CREATE){for(const s of _classPrivateFieldGet(B,this))s.updateParams(e,t);for(const s of _classPrivateFieldGet(T,this))s.updateDefaultParams(e,t)}else this.currentLayer.addNewEditor(e)}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_classPrivateFieldGet(L,this)!==e){_classPrivateFieldSet(L,this,e);for(const t of _classPrivateFieldGet(A,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of _classPrivateFieldGet(P,this).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return _classPrivateFieldGet(P,this).get(e)}addEditor(e){_classPrivateFieldGet(P,this).set(e.id,e)}removeEditor(e){var t;_classPrivateFieldGet(P,this).delete(e.id),this.unselect(e),e.annotationElementId&&_classPrivateFieldGet(N,this).has(e.annotationElementId)||null===(t=_classPrivateFieldGet(C,this))||void 0===t||t.remove(e.id)}addDeletedAnnotationElement(e){_classPrivateFieldGet(N,this).add(e.annotationElementId),e.deleted=!0}isDeletedAnnotationElement(e){return _classPrivateFieldGet(N,this).has(e)}removeDeletedAnnotationElement(e){_classPrivateFieldGet(N,this).delete(e.annotationElementId),e.deleted=!1}setActiveEditor(e){_classPrivateFieldGet(S,this)!==e&&(_classPrivateFieldSet(S,this,e),e&&_assertClassBrand(ae,this,he).call(this,e.propertiesToUpdate))}toggleSelected(e){if(_classPrivateFieldGet(B,this).has(e))return _classPrivateFieldGet(B,this).delete(e),e.unselect(),void _assertClassBrand(ae,this,ue).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(B,this).add(e),e.select(),_assertClassBrand(ae,this,he).call(this,e.propertiesToUpdate),_assertClassBrand(ae,this,ue).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of _classPrivateFieldGet(B,this))t!==e&&t.unselect();_classPrivateFieldGet(B,this).clear(),_classPrivateFieldGet(B,this).add(e),e.select(),_assertClassBrand(ae,this,he).call(this,e.propertiesToUpdate),_assertClassBrand(ae,this,ue).call(this,{hasSelectedEditor:!0})}isSelected(e){return _classPrivateFieldGet(B,this).has(e)}unselect(e){e.unselect(),_classPrivateFieldGet(B,this).delete(e),_assertClassBrand(ae,this,ue).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(B,this).size}undo(){_classPrivateFieldGet(F,this).undo(),_assertClassBrand(ae,this,ue).call(this,{hasSomethingToUndo:_classPrivateFieldGet(F,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_assertClassBrand(ae,this,ge).call(this)})}redo(){_classPrivateFieldGet(F,this).redo(),_assertClassBrand(ae,this,ue).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(F,this).hasSomethingToRedo(),isEmpty:_assertClassBrand(ae,this,ge).call(this)})}addCommands(e){_classPrivateFieldGet(F,this).add(e),_assertClassBrand(ae,this,ue).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_assertClassBrand(ae,this,ge).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[..._classPrivateFieldGet(B,this)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)_assertClassBrand(ae,this,fe).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=_classPrivateFieldGet(S,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return _classPrivateFieldGet(S,this)||this.hasSelection}selectAll(){for(const e of _classPrivateFieldGet(B,this))e.commit();_assertClassBrand(ae,this,ve).call(this,_classPrivateFieldGet(P,this).values())}unselectAll(){if(_classPrivateFieldGet(S,this))_classPrivateFieldGet(S,this).commitOrRemove();else if(this.hasSelection){for(const e of _classPrivateFieldGet(B,this))e.unselect();_classPrivateFieldGet(B,this).clear(),_assertClassBrand(ae,this,ue).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;_classPrivateFieldGet(Z,this)[0]+=e,_classPrivateFieldGet(Z,this)[1]+=t;const[s,a]=_classPrivateFieldGet(Z,this),n=[..._classPrivateFieldGet(B,this)];_classPrivateFieldGet(ee,this)&&clearTimeout(_classPrivateFieldGet(ee,this)),_classPrivateFieldSet(ee,this,setTimeout(()=>{_classPrivateFieldSet(ee,this,null),_classPrivateFieldGet(Z,this)[0]=_classPrivateFieldGet(Z,this)[1]=0,this.addCommands({cmd:()=>{for(const e of n)_classPrivateFieldGet(P,this).has(e.id)&&e.translateInPage(s,a)},undo:()=>{for(const e of n)_classPrivateFieldGet(P,this).has(e.id)&&e.translateInPage(-s,-a)},mustExec:!1})},1e3));for(const r of n)r.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_classPrivateFieldSet(j,this,new Map);for(const e of _classPrivateFieldGet(B,this))_classPrivateFieldGet(j,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_classPrivateFieldGet(j,this))return!1;this.disableUserSelect(!1);const e=_classPrivateFieldGet(j,this);_classPrivateFieldSet(j,this,null);let t=!1;for(const[{x:a,y:n,pageIndex:r},i]of e)i.newX=a,i.newY=n,i.newPageIndex=r,t||(t=a!==i.savedX||n!==i.savedY||r!==i.savedPageIndex);if(!t)return!1;const s=(e,t,s,a)=>{if(_classPrivateFieldGet(P,this).has(e.id)){const n=_classPrivateFieldGet(A,this).get(a);n?e._setParentAndPosition(n,t,s):(e.pageIndex=a,e.x=t,e.y=s)}};return this.addCommands({cmd:()=>{for(const[t,{newX:a,newY:n,newPageIndex:r}]of e)s(t,a,n,r)},undo:()=>{for(const[t,{savedX:a,savedY:n,savedPageIndex:r}]of e)s(t,a,n,r)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(_classPrivateFieldGet(j,this))for(const s of _classPrivateFieldGet(j,this).keys())s.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}isActive(e){return _classPrivateFieldGet(S,this)===e}getActive(){return _classPrivateFieldGet(S,this)}getMode(){return _classPrivateFieldGet(G,this)}get imageManager(){return(0,n.shadow)(this,"imageManager",new h)}}function re(){window.addEventListener("focus",_classPrivateFieldGet(U,this)),window.addEventListener("blur",_classPrivateFieldGet(z,this))}function ie(){window.removeEventListener("focus",_classPrivateFieldGet(U,this)),window.removeEventListener("blur",_classPrivateFieldGet(z,this))}function oe(){window.addEventListener("keydown",_classPrivateFieldGet(K,this),{capture:!0})}function le(){window.removeEventListener("keydown",_classPrivateFieldGet(K,this),{capture:!0})}function ce(){document.addEventListener("copy",_classPrivateFieldGet(H,this)),document.addEventListener("cut",_classPrivateFieldGet(V,this)),document.addEventListener("paste",_classPrivateFieldGet(q,this))}function de(){document.removeEventListener("copy",_classPrivateFieldGet(H,this)),document.removeEventListener("cut",_classPrivateFieldGet(V,this)),document.removeEventListener("paste",_classPrivateFieldGet(q,this))}function ue(e){Object.entries(e).some(e=>{let[t,s]=e;return _classPrivateFieldGet($,this)[t]!==s})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet($,this),e)})}function he(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}function pe(){if(!_classPrivateFieldGet(I,this)){_classPrivateFieldSet(I,this,!0);for(const e of _classPrivateFieldGet(A,this).values())e.enable()}}function me(){if(this.unselectAll(),_classPrivateFieldGet(I,this)){_classPrivateFieldSet(I,this,!1);for(const e of _classPrivateFieldGet(A,this).values())e.disable()}}function fe(e){const t=_classPrivateFieldGet(A,this).get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function ge(){if(0===_classPrivateFieldGet(P,this).size)return!0;if(1===_classPrivateFieldGet(P,this).size)for(const e of _classPrivateFieldGet(P,this).values())return e.isEmpty();return!1}function ve(e){_classPrivateFieldGet(B,this).clear();for(const t of e)t.isEmpty()||(_classPrivateFieldGet(B,this).add(t),t.select());_assertClassBrand(ae,this,ue).call(this,{hasSelectedEditor:!0})}_defineProperty(ne,"TRANSLATE_SMALL",1),_defineProperty(ne,"TRANSLATE_BIG",10),t.AnnotationEditorUIManager=ne},(e,t,s)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const s of e.keys()){t.style.color=s;const a=window.getComputedStyle(t).color;e.set(s,O(a))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:s,c:a,d:n,e:r,f:i}=e.getTransform();return[t,s,a,n,r,i]},t.getCurrentTransformInverse=function(e){const{a:t,b:s,c:a,d:n,e:r,f:i}=e.getTransform().invertSelf();return[t,s,a,n,r,i]},t.getFilenameFromUrl=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(D(e))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let n=s.exec(a[1])||s.exec(a[2])||s.exec(a[3]);if(n&&(n=n[0],n.includes("%")))try{n=s.exec(decodeURIComponent(n))[0]}catch(i){}return n||t},t.getRGB=O,t.getXfaPageViewport=function(e,t){let{scale:s=1,rotation:a=0}=t;const{width:n,height:r}=e.attributes.style,i=[0,0,parseInt(n),parseInt(r)];return new M({viewBox:i,scale:s,rotation:a})},t.isDataScheme=D,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=I,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((s,a)=>{const n=document.createElement("script");n.src=e,n.onload=function(e){t&&n.remove(),s(e)},n.onerror=function(){a(new Error("Cannot load script at: ".concat(n.src)))},(document.head||document.documentElement).append(n)})},t.noContextMenu=function(e){e.preventDefault()},t.setLayerDimensions=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof M){const{pageWidth:a,pageHeight:n}=t.rawDims,{style:i}=e,o=r.FeatureTest.isCSSRoundSupported,l="var(--scale-factor) * ".concat(a,"px"),c="var(--scale-factor) * ".concat(n,"px"),d=o?"round(".concat(l,", 1px)"):"calc(".concat(l,")"),u=o?"round(".concat(c,", 1px)"):"calc(".concat(c,")");s&&t.rotation%180!==0?(i.width=u,i.height=d):(i.width=d,i.height=u)}a&&e.setAttribute("data-main-rotation",t.rotation)};var n=s(7),r=s(1);const i="http://www.w3.org/2000/svg";class o{}a=o,_defineProperty(o,"CSS",96),_defineProperty(o,"PDF",72),_defineProperty(o,"PDF_TO_CSS_UNITS",a.CSS/a.PDF),t.PixelsPerInch=o;var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakMap,x=new WeakMap,b=new WeakSet;class y extends n.BaseFilterFactory{constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),_classPrivateMethodInitSpec(this,b),_classPrivateFieldInitSpec(this,l,void 0),_classPrivateFieldInitSpec(this,c,void 0),_classPrivateFieldInitSpec(this,d,void 0),_classPrivateFieldInitSpec(this,u,void 0),_classPrivateFieldInitSpec(this,h,void 0),_classPrivateFieldInitSpec(this,p,void 0),_classPrivateFieldInitSpec(this,m,void 0),_classPrivateFieldInitSpec(this,f,void 0),_classPrivateFieldInitSpec(this,g,void 0),_classPrivateFieldInitSpec(this,v,void 0),_classPrivateFieldInitSpec(this,x,0),_classPrivateFieldSet(d,this,e),_classPrivateFieldSet(u,this,t)}addFilter(e){var t,s;if(!e)return"none";let a,n,r,i,o=_classPrivateGetter(b,this,_).get(e);if(o)return o;if(1===e.length){const t=e[0],s=new Array(256);for(let e=0;e<256;e++)s[e]=t[e]/255;i=a=n=r=s.join(",")}else{const[t,s,o]=e,l=new Array(256),c=new Array(256),d=new Array(256);for(let e=0;e<256;e++)l[e]=t[e]/255,c[e]=s[e]/255,d[e]=o[e]/255;a=l.join(","),n=c.join(","),r=d.join(","),i="".concat(a).concat(n).concat(r)}if(o=_classPrivateGetter(b,this,_).get(i),o)return _classPrivateGetter(b,this,_).set(e,o),o;const l="g_".concat(_classPrivateFieldGet(d,this),"_transfer_map_").concat((_classPrivateFieldSet(x,this,(t=_classPrivateFieldGet(x,this),s=t++,t)),s)),c="url(#".concat(l,")");_classPrivateGetter(b,this,_).set(e,c),_classPrivateGetter(b,this,_).set(i,c);const u=_assertClassBrand(b,this,P).call(this,l);return _assertClassBrand(b,this,k).call(this,a,n,r,u),c}addHCMFilter(e,t){var s;const a="".concat(e,"-").concat(t);if(_classPrivateFieldGet(p,this)===a)return _classPrivateFieldGet(m,this);if(_classPrivateFieldSet(p,this,a),_classPrivateFieldSet(m,this,"none"),null===(s=_classPrivateFieldGet(h,this))||void 0===s||s.remove(),!e||!t)return _classPrivateFieldGet(m,this);const n=_assertClassBrand(b,this,C).call(this,e);e=r.Util.makeHexColor(...n);const i=_assertClassBrand(b,this,C).call(this,t);if(t=r.Util.makeHexColor(...i),_classPrivateGetter(b,this,w).style.color="","#000000"===e&&"#ffffff"===t||e===t)return _classPrivateFieldGet(m,this);const o=new Array(256);for(let r=0;r<=255;r++){const e=r/255;o[r]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c="g_".concat(_classPrivateFieldGet(d,this),"_hcm_filter"),u=_classPrivateFieldSet(f,this,_assertClassBrand(b,this,P).call(this,c));_assertClassBrand(b,this,k).call(this,l,l,l,u),_assertClassBrand(b,this,S).call(this,u);const g=(e,t)=>{const s=n[e]/255,a=i[e]/255,r=new Array(t+1);for(let n=0;n<=t;n++)r[n]=s+n/t*(a-s);return r.join(",")};return _assertClassBrand(b,this,k).call(this,g(0,5),g(1,5),g(2,5),u),_classPrivateFieldSet(m,this,"url(#".concat(c,")")),_classPrivateFieldGet(m,this)}addHighlightHCMFilter(e,t,s,a){var n;const r="".concat(e,"-").concat(t,"-").concat(s,"-").concat(a);if(_classPrivateFieldGet(g,this)===r)return _classPrivateFieldGet(v,this);if(_classPrivateFieldSet(g,this,r),_classPrivateFieldSet(v,this,"none"),null===(n=_classPrivateFieldGet(f,this))||void 0===n||n.remove(),!e||!t)return _classPrivateFieldGet(v,this);const[i,o]=[e,t].map(_assertClassBrand(b,this,C).bind(this));let l=Math.round(.2126*i[0]+.7152*i[1]+.0722*i[2]),c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),[u,h]=[s,a].map(_assertClassBrand(b,this,C).bind(this));c<l&&([l,c,u,h]=[c,l,h,u]),_classPrivateGetter(b,this,w).style.color="";const p=(e,t,s)=>{const a=new Array(256),n=(c-l)/s,r=e/255,i=(t-e)/(255*s);let o=0;for(let c=0;c<=s;c++){const e=Math.round(l+c*n),t=r+c*i;for(let s=o;s<=e;s++)a[s]=t;o=e+1}for(let l=o;l<256;l++)a[l]=a[o-1];return a.join(",")},m="g_".concat(_classPrivateFieldGet(d,this),"_hcm_highlight_filter"),x=_classPrivateFieldSet(f,this,_assertClassBrand(b,this,P).call(this,m));return _assertClassBrand(b,this,S).call(this,x),_assertClassBrand(b,this,k).call(this,p(u[0],h[0],5),p(u[1],h[1],5),p(u[2],h[2],5),x),_classPrivateFieldSet(v,this,"url(#".concat(m,")")),_classPrivateFieldGet(v,this)}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(_classPrivateFieldGet(m,this)||_classPrivateFieldGet(v,this))||(_classPrivateFieldGet(c,this)&&(_classPrivateFieldGet(c,this).parentNode.parentNode.remove(),_classPrivateFieldSet(c,this,null)),_classPrivateFieldGet(l,this)&&(_classPrivateFieldGet(l,this).clear(),_classPrivateFieldSet(l,this,null)),_classPrivateFieldSet(x,this,0))}}function _(e){return _classPrivateFieldGet(l,e)||_classPrivateFieldSet(l,e,new Map)}function w(e){if(!_classPrivateFieldGet(c,e)){const t=_classPrivateFieldGet(u,e).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const a=_classPrivateFieldGet(u,e).createElementNS(i,"svg");a.setAttribute("width",0),a.setAttribute("height",0),_classPrivateFieldSet(c,e,_classPrivateFieldGet(u,e).createElementNS(i,"defs")),t.append(a),a.append(_classPrivateFieldGet(c,e)),_classPrivateFieldGet(u,e).body.append(t)}return _classPrivateFieldGet(c,e)}function S(e){const t=_classPrivateFieldGet(u,this).createElementNS(i,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function P(e){const t=_classPrivateFieldGet(u,this).createElementNS(i,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),_classPrivateGetter(b,this,w).append(t),t}function A(e,t,s){const a=_classPrivateFieldGet(u,this).createElementNS(i,t);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)}function k(e,t,s,a){const n=_classPrivateFieldGet(u,this).createElementNS(i,"feComponentTransfer");a.append(n),_assertClassBrand(b,this,A).call(this,n,"feFuncR",e),_assertClassBrand(b,this,A).call(this,n,"feFuncG",t),_assertClassBrand(b,this,A).call(this,n,"feFuncB",s)}function C(e){return _classPrivateGetter(b,this,w).style.color=e,O(getComputedStyle(_classPrivateGetter(b,this,w)).getPropertyValue("color"))}t.DOMFilterFactory=y;class F extends n.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}async function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(I(e,document.baseURI)){const s=await fetch(e);if(!s.ok)throw new Error(s.statusText);return t?new Uint8Array(await s.arrayBuffer()):(0,r.stringToBytes)(await s.text())}return new Promise((s,a)=>{const n=new XMLHttpRequest;n.open("GET",e,!0),t&&(n.responseType="arraybuffer"),n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE){if(200===n.status||0===n.status){let e;if(t&&n.response?e=new Uint8Array(n.response):!t&&n.responseText&&(e=(0,r.stringToBytes)(n.responseText)),e)return void s(e)}a(new Error(n.statusText))}},n.send(null)})}t.DOMCanvasFactory=F;class N extends n.BaseCMapReaderFactory{_fetchData(e,t){return E(e,this.isCompressed).then(e=>({cMapData:e,compressionType:t}))}}t.DOMCMapReaderFactory=N;class j extends n.BaseStandardFontDataFactory{_fetchData(e){return E(e,!0)}}t.DOMStandardFontDataFactory=j;class T extends n.BaseSVGFactory{_createSVG(e){return document.createElementNS(i,e)}}t.DOMSVGFactory=T;class M{constructor(e){let{viewBox:t,scale:s,rotation:a,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=e;this.viewBox=t,this.scale=s,this.rotation=a,this.offsetX=n,this.offsetY=r;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,u,h,p,m,f,g;switch(a%=360,a<0&&(a+=360),a){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}i&&(u=-u,h=-h),0===c?(p=Math.abs(l-t[1])*s+n,m=Math.abs(o-t[0])*s+r,f=(t[3]-t[1])*s,g=(t[2]-t[0])*s):(p=Math.abs(o-t[0])*s+n,m=Math.abs(l-t[1])*s+r,f=(t[2]-t[0])*s,g=(t[3]-t[1])*s),this.transform=[c*s,d*s,u*s,h*s,p-c*s*o-u*s*l,m-d*s*o-h*s*l],this.width=f,this.height=g}get rawDims(){const{viewBox:e}=this;return(0,r.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new M({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:a,dontFlip:n})}convertToViewportPoint(e,t){return r.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=r.Util.applyTransform([e[0],e[1]],this.transform),s=r.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return r.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=M;class R extends r.BaseException{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function D(e){const t=e.length;let s=0;for(;s<t&&""===e[s].trim();)s++;return"data:"===e.substring(s,s+5).toLowerCase()}function I(e,t){try{const{protocol:s}=t?new URL(e,t):new URL(e);return"http:"===s||"https:"===s}catch(s){return!1}}let L;function O(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):((0,r.warn)('Not a valid color format: "'.concat(e,'"')),[0,0,0])}t.RenderingCancelledException=R,t.StatTimer=class{constructor(){_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}time(e){e in this.started&&(0,r.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,r.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:a,end:n}of this.times)e.push("".concat(s.padEnd(t)," ").concat(n-a,"ms\n"));return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!==typeof e)return null;L||(L=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=L.exec(e);if(!t)return null;const s=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let n=parseInt(t[3],10);n=n>=1&&n<=31?n:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let i=parseInt(t[5],10);i=i>=0&&i<=59?i:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(r+=c,i+=d):"+"===l&&(r-=c,i-=d),new Date(Date.UTC(s,a,n,r,i,o))}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var a=s(1);class n{constructor(){this.constructor===n&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,s,a){return"none"}destroy(){}}t.BaseFilterFactory=n;class r{constructor(){this.constructor===r&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d")}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=r;class i{constructor(e){let{baseUrl:t=null,isCompressed:s=!0}=e;this.constructor===i&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=s}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const s=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(s,n).catch(e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(s))})}_fetchData(e,t){(0,a.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=i;class o{constructor(e){let{baseUrl:t=null}=e;this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const s="".concat(this.baseUrl).concat(t);return this._fetchData(s).catch(e=>{throw new Error("Unable to load font data at: ".concat(s))})}_fetchData(e){(0,a.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=o;class l{constructor(){this.constructor===l&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width","".concat(e,"px")),a.setAttribute("height","".concat(t,"px"))),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),a}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,a.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=l},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var a=s(1);const n=3285377520,r=4294901760,i=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:n,this.h2=e?4294967295&e:n}update(e){let t,s;if("string"===typeof e){t=new Uint8Array(2*e.length),s=0;for(let a=0,n=e.length;a<n;a++){const n=e.charCodeAt(a);n<=255?t[s++]=n:(t[s++]=n>>>8,t[s++]=255&n)}}else{if(!(0,a.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),s=t.byteLength}const n=s>>2,o=s-4*n,l=new Uint32Array(t.buffer,0,n);let c=0,d=0,u=this.h1,h=this.h2;const p=3432918353,m=461845907,f=11601,g=13715;for(let a=0;a<n;a++)1&a?(c=l[a],c=c*p&r|c*f&i,c=c<<15|c>>>17,c=c*m&r|c*g&i,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(d=l[a],d=d*p&r|d*f&i,d=d<<15|d>>>17,d=d*m&r|d*g&i,h^=d,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,o){case 3:c^=t[4*n+2]<<16;case 2:c^=t[4*n+1]<<8;case 1:c^=t[4*n],c=c*p&r|c*f&i,c=c<<15|c>>>17,c=c*m&r|c*g&i,1&n?u^=c:h^=c}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&r|36045*e&i,t=4283543511*t&r|(2950163797*(t<<16|e>>>16)&r)>>>16,e^=t>>>1,e=444984403*e&r|60499*e&i,t=3301882366*t&r|(3120437893*(t<<16|e>>>16)&r)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var a=s(1),n=new WeakMap;t.FontLoader=class{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:s=null}=e;_classPrivateFieldInitSpec(this,n,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),_classPrivateFieldGet(n,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){if(e&&!_classPrivateFieldGet(n,this).has(e.loadedName)){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:i}=e,o=new FontFace(s,r,i);this.addNativeFontFace(o);try{await o.load(),_classPrivateFieldGet(n,this).add(s)}catch(t){(0,a.warn)("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(o)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e.systemFontInfo);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(s){throw(0,a.warn)("Failed to load font '".concat(t.family,"': '").concat(s,"'.")),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const s=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var e;const t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let e=!1;return(a.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,s={done:!1,complete:function(){for((0,a.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function n(e,t,s,a){return e.substring(0,t)+a+e.substring(t+s)}let r,i;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const d="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=n(u,976,d.length,d);const h=1482184792;let p=s(u,16);for(r=0,i=d.length-3;r<i;r+=4)p=p-h+s(d,r)|0;r<d.length&&(p=p-h+s(d+"XXX",r)|0),u=n(u,16,4,(0,a.string32)(p));const m="url(data:font/opentype;base64,".concat(btoa(u),");"),f='@font-face {font-family:"'.concat(d,'";src:').concat(m,"}");this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const a of[e.loadedName,d]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=a,g.append(e)}this._document.body.append(g),function e(t,s){if(++c>30)return(0,a.warn)("Load test font never loaded."),void s();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?s():setTimeout(e.bind(null,t,s))}(d,()=>{g.remove(),t.complete()})}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:s=!0,disableFontFace:a=!1,ignoreErrors:n=!1,inspectFont:r=null}=t;this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.isEvalSupported=!1!==s,this.disableFontFace=!0===a,this.ignoreErrors=!0===n,this._inspectFont=r}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=(0,a.bytesToString)(this.data),s="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let n;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(s,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(s,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,s),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(n){if(!this.ignoreErrors)throw n;return(0,a.warn)('getPathGenerator - ignoring character: "'.concat(n,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const e=[];for(const t of s){const s=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",s,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const a of s)"scale"===a.cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var a=s(7);s(1);const n=function(e){return new Promise((t,s)=>{__webpack_require__(673).readFile(e,(e,a)=>{!e&&a?t(new Uint8Array(a)):s(new Error(e))})})};class r extends a.BaseFilterFactory{}t.NodeFilterFactory=r;class i extends a.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(956).createCanvas(e,t)}}t.NodeCanvasFactory=i;class o extends a.BaseCMapReaderFactory{_fetchData(e,t){return n(e).then(e=>({cMapData:e,compressionType:t}))}}t.NodeCMapReaderFactory=o;class l extends a.BaseStandardFontDataFactory{_fetchData(e){return n(e)}}t.NodeStandardFontDataFactory=l},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var a=s(1),n=s(6),r=s(12),i=s(13);const o=4096,l=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,s)):(a=this.canvasFactory.create(t,s),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function d(e,t,s,a,r,i,o,l,c,d){const[u,h,p,m,f,g]=(0,n.getCurrentTransform)(e);if(0===h&&0===p){const n=o*u+f,v=Math.round(n),x=l*m+g,b=Math.round(x),y=(o+c)*u+f,_=Math.abs(Math.round(y)-v)||1,w=(l+d)*m+g,S=Math.abs(Math.round(w)-b)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(m),v,b),e.drawImage(t,s,a,r,i,0,0,_,S),e.setTransform(u,h,p,m,f,g),[_,S]}if(0===u&&0===m){const n=l*p+f,v=Math.round(n),x=o*h+g,b=Math.round(x),y=(l+d)*p+f,_=Math.abs(Math.round(y)-v)||1,w=(o+c)*h+g,S=Math.abs(Math.round(w)-b)||1;return e.setTransform(0,Math.sign(h),Math.sign(p),0,v,b),e.drawImage(t,s,a,r,i,0,0,S,_),e.setTransform(u,h,p,m,f,g),[S,_]}return e.drawImage(t,s,a,r,i,o,l,c,d),[Math.hypot(u,h)*c,Math.hypot(p,m)*d]}class u{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=a.Util.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=a.Util.applyTransform(t,e),n=a.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,s[0],n[0]),this.minY=Math.min(this.minY,s[1],n[1]),this.maxX=Math.max(this.maxX,s[0],n[0]),this.maxY=Math.max(this.maxY,s[1],n[1])}updateScalingPathMinMax(e,t){a.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,n,r,i,o,l,c,d){const u=a.Util.bezierBoundingBox(t,s,n,r,i,o,l,c);if(d)return d[0]=Math.min(d[0],u[0],u[2]),d[1]=Math.max(d[1],u[0],u[2]),d[2]=Math.min(d[2],u[1],u[3]),void(d[3]=Math.max(d[3],u[1],u[3]));this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===r.PathType.STROKE){t||(0,a.unreachable)("Stroke bounding box must include transform.");const e=a.Util.singularValueDecompose2dScale(t),n=e[0]*this.lineWidth/2,r=e[1]*this.lineWidth/2;s[0]-=n,s[1]-=r,s[2]+=n,s[3]+=r}return s}updateClipFromPath(){const e=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function h(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const s=t.height,n=t.width,r=s%l,i=(s-r)/l,o=0===r?i:i+1,c=e.createImageData(n,l);let d,u=0;const h=t.data,p=c.data;let m,f,g,v;if(t.kind===a.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,s=new Uint32Array(p.buffer,0,p.byteLength>>2),v=s.length,x=n+7>>3,b=4294967295,y=a.FeatureTest.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(g=m<i?l:r,d=0,f=0;f<g;f++){const e=t-u;let a=0;const r=e>x?n:8*e-7,i=-8&r;let o=0,l=0;for(;a<i;a+=8)l=h[u++],s[d++]=128&l?b:y,s[d++]=64&l?b:y,s[d++]=32&l?b:y,s[d++]=16&l?b:y,s[d++]=8&l?b:y,s[d++]=4&l?b:y,s[d++]=2&l?b:y,s[d++]=1&l?b:y;for(;a<r;a++)0===o&&(l=h[u++],o=128),s[d++]=l&o?b:y,o>>=1}for(;d<v;)s[d++]=0;e.putImageData(c,0,m*l)}}else if(t.kind===a.ImageKind.RGBA_32BPP){for(f=0,v=n*l*4,m=0;m<i;m++)p.set(h.subarray(u,u+v)),u+=v,e.putImageData(c,0,f),f+=l;m<o&&(v=n*r*4,p.set(h.subarray(u,u+v)),e.putImageData(c,0,f))}else{if(t.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(g=l,v=n*g,m=0;m<o;m++){for(m>=i&&(g=r,v=n*g),d=0,f=v;f--;)p[d++]=h[u++],p[d++]=h[u++],p[d++]=h[u++],p[d++]=255;e.putImageData(c,0,m*l)}}}function p(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const s=t.height,a=t.width,n=s%l,r=(s-n)/l,o=0===n?r:r+1,c=e.createImageData(a,l);let d=0;const u=t.data,h=c.data;for(let p=0;p<o;p++){const t=p<r?l:n;({srcPos:d}=(0,i.convertBlackAndWhiteToRGBA)({src:u,srcPos:d,dest:h,width:a,height:t,nonBlackColor:0})),e.putImageData(c,0,p*l)}}function m(e,t){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of s)void 0!==e[a]&&(t[a]=e[a]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function f(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!a.isNodeJS){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function g(e,t,s,a){const n=e.length;for(let r=3;r<n;r+=4){const n=e[r];if(0===n)e[r-3]=t,e[r-2]=s,e[r-1]=a;else if(n<255){const i=255-n;e[r-3]=e[r-3]*n+t*i>>8,e[r-2]=e[r-2]*n+s*i>>8,e[r-1]=e[r-1]*n+a*i>>8}}}function v(e,t,s){const a=e.length,n=1/255;for(let r=3;r<a;r+=4){const a=s?s[e[r]]:e[r];t[r]=t[r]*a*n|0}}function x(e,t,s){const a=e.length;for(let n=3;n<a;n+=4){const a=77*e[n-3]+152*e[n-2]+28*e[n-1];t[n]=s?t[n]*s[a>>8]>>8:t[n]*a>>16}}function b(e,t,s,a){const n=a[0],r=a[1],i=a[2]-n,o=a[3]-r;0!==i&&0!==o&&(function(e,t,s,a,n,r,i,o,l,c,d){const u=!!r,h=u?r[0]:0,p=u?r[1]:0,m=u?r[2]:0,f="Luminosity"===n?x:v,b=Math.min(a,Math.ceil(1048576/s));for(let v=0;v<a;v+=b){const n=Math.min(b,a-v),r=e.getImageData(o-c,v+(l-d),s,n),x=t.getImageData(o,v+l,s,n);u&&g(r.data,h,p,m),f(r.data,x.data,i),t.putImageData(x,o,v+l)}}(t.context,s,i,o,t.subtype,t.backdrop,t.transferMap,n,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}function y(e,t){const s=a.Util.singularValueDecompose2dScale(e);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:s[0]<=r||s[1]<=r}const _=["butt","round","square"],w=["miter","round","bevel"],S={},P={};var A=new WeakSet;class k{constructor(e,t,s,a,n,r,i,o){let{optionalContentConfig:l,markedContentStack:d=null}=r;_classPrivateMethodInitSpec(this,A),this.ctx=e,this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=a,this.filterFactory=n,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=l,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=i,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:s,transparency:a=!1,background:r=null}=e;const i=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=l,a){const e=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),f(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,s,n){const r=e.argsArray,i=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const c=l-o>10&&"function"===typeof s,d=c?Date.now()+15:0;let u=0;const h=this.commonObjs,p=this.objs;let m;for(;;){if(void 0!==n&&o===n.nextBreakPoint)return n.breakIt(o,s),o;if(m=i[o],m!==a.OPS.dependency)this[m].apply(this,r[o]);else for(const e of r[o]){const t=e.startsWith("g_")?h:p;if(!t.has(e))return t.get(e,s),o}if(o++,o===l)return o;if(c&&++u>10){if(Date.now()>d)return s(),o;u=0}}}endDrawing(){_assertClassBrand(A,this,C).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_assertClassBrand(A,this,F).call(this)}_scaleImage(e,t){const s=e.width,a=e.height;let n,r,i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=s,c=a,d="prescale1";for(;i>2&&l>1||o>2&&c>1;){let t=l,s=c;i>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),i/=l/t),o>2&&c>1&&(s=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/s),n=this.cachedCanvases.getCanvas(d,t,s),r=n.context,r.clearRect(0,0,t,s),r.drawImage(e,0,0,l,c,0,0,t,s),e=n.canvas,l=t,c=s,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:i}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,n.getCurrentTransform)(t);let u,h,m,f;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const s=u.get(h);if(s&&!l)return{canvas:s,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};m=s}m||(f=this.cachedCanvases.getCanvas("maskCanvas",s,i),p(f.context,e));let g=a.Util.transform(c,[1/s,0,0,-1/i,0,0]);g=a.Util.transform(g,[1,0,0,1,0,-i]);const v=a.Util.applyTransform([0,0],g),x=a.Util.applyTransform([s,i],g),b=a.Util.normalizeRect([v[0],v[1],x[0],x[1]]),_=Math.round(b[2]-b[0])||1,w=Math.round(b[3]-b[1])||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,w),P=S.context,A=Math.min(v[0],x[0]),k=Math.min(v[1],x[1]);P.translate(-A,-k),P.transform(...g),m||(m=this._scaleImage(f.canvas,(0,n.getCurrentTransformInverse)(P)),m=m.img,u&&l&&u.set(h,m)),P.imageSmoothingEnabled=y((0,n.getCurrentTransform)(P),e.interpolate),d(P,m,0,0,m.width,m.height,0,0,s,i),P.globalCompositeOperation="source-in";const C=a.Util.transform((0,n.getCurrentTransformInverse)(P),[1,0,0,1,-A,-k]);return P.fillStyle=l?o.getPattern(t,this,C,r.PathType.FILL):o,P.fillRect(0,0,s,i),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,S.canvas)),{canvas:S.canvas,offsetX:Math.round(A),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=_[e]}setLineJoin(e){this.ctx.lineJoin=w[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;void 0!==s.setLineDash&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=a.context;const r=this.ctx;r.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),m(this.suspendedCtx,r),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,s){t.translate(e,s),this.__originalTranslate(e,s)},e.scale=function(e,s){t.scale(e,s),this.__originalScale(e,s)},e.transform=function(e,s,a,n,r,i){t.transform(e,s,a,n,r,i),this.__originalTransform(e,s,a,n,r,i)},e.setTransform=function(e,s,a,n,r,i){t.setTransform(e,s,a,n,r,i),this.__originalSetTransform(e,s,a,n,r,i)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},e.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},e.bezierCurveTo=function(e,s,a,n,r,i){t.bezierCurveTo(e,s,a,n,r,i),this.__originalBezierCurveTo(e,s,a,n,r,i)},e.rect=function(e,s,a,n){t.rect(e,s,a,n),this.__originalRect(e,s,a,n)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;b(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,a,n,r){this.ctx.transform(e,t,s,a,n,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const r=this.ctx,i=this.current;let o,l,c=i.x,d=i.y;const u=(0,n.getCurrentTransform)(r),h=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],p=h?s.slice(0):null;for(let n=0,m=0,f=e.length;n<f;n++)switch(0|e[n]){case a.OPS.rectangle:c=t[m++],d=t[m++];const e=t[m++],s=t[m++],n=c+e,f=d+s;r.moveTo(c,d),0===e||0===s?r.lineTo(n,f):(r.lineTo(n,d),r.lineTo(n,f),r.lineTo(c,f)),h||i.updateRectMinMax(u,[c,d,n,f]),r.closePath();break;case a.OPS.moveTo:c=t[m++],d=t[m++],r.moveTo(c,d),h||i.updatePathMinMax(u,c,d);break;case a.OPS.lineTo:c=t[m++],d=t[m++],r.lineTo(c,d),h||i.updatePathMinMax(u,c,d);break;case a.OPS.curveTo:o=c,l=d,c=t[m+4],d=t[m+5],r.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],c,d),i.updateCurvePathMinMax(u,o,l,t[m],t[m+1],t[m+2],t[m+3],c,d,p),m+=6;break;case a.OPS.curveTo2:o=c,l=d,r.bezierCurveTo(c,d,t[m],t[m+1],t[m+2],t[m+3]),i.updateCurvePathMinMax(u,o,l,c,d,t[m],t[m+1],t[m+2],t[m+3],p),c=t[m+2],d=t[m+3],m+=4;break;case a.OPS.curveTo3:o=c,l=d,c=t[m+2],d=t[m+3],r.bezierCurveTo(t[m],t[m+1],c,d,c,d),i.updateCurvePathMinMax(u,o,l,t[m],t[m+1],c,d,c,d,p),m+=4;break;case a.OPS.closePath:r.closePath()}h&&i.updateScalingPathMinMax(u,p),i.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof s&&null!==s&&void 0!==s&&s.getPattern?(t.save(),t.strokeStyle=s.getPattern(t,this,(0,n.getCurrentTransformInverse)(t),r.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,s=this.current.fillColor;let a=!1;this.current.patternFill&&(t.save(),t.fillStyle=s.getPattern(t,this,(0,n.getCurrentTransformInverse)(t),r.PathType.FILL),a=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=S}eoClip(){this.pendingClip=P}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var s;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(r.fontMatrix=n.fontMatrix||a.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,a.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const i=n.loadedName||"sans-serif",o=(null===(s=n.systemFontInfo)||void 0===s?void 0:s.css)||'"'.concat(i,'", ').concat(n.fallbackName);let l="normal";n.black?l="900":n.bold&&(l="bold");const c=n.italic?"italic":"normal";let d=t;t<16?d=16:t>100&&(d=100),this.current.fontSizeScale=t/d,this.ctx.font="".concat(c," ").concat(l," ").concat(d,"px ").concat(o)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,a,n,r){this.current.textMatrix=[e,t,s,a,n,r],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,r){const i=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,u=c&a.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&a.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let m;(l.disableFontFace||h||p)&&(m=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(i.save(),i.translate(t,s),i.beginPath(),m(i,d),r&&i.setTransform(...r),u!==a.TextRenderingMode.FILL&&u!==a.TextRenderingMode.FILL_STROKE||i.fill(),u!==a.TextRenderingMode.STROKE&&u!==a.TextRenderingMode.FILL_STROKE||i.stroke(),i.restore()):(u!==a.TextRenderingMode.FILL&&u!==a.TextRenderingMode.FILL_STROKE||i.fillText(e,t,s),u!==a.TextRenderingMode.STROKE&&u!==a.TextRenderingMode.FILL_STROKE||i.strokeText(e,t,s)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,n.getCurrentTransform)(i),x:t,y:s,fontSize:d,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){s=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(0===i)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,p=e.length,m=s.vertical,f=m?1:-1,g=s.defaultVMetrics,v=i*t.fontMatrix[0],x=t.textRenderingMode===a.TextRenderingMode.FILL&&!s.disableFontFace&&!t.patternFill;let b;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),u>0?o.scale(h,-1):o.scale(h,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,n.getCurrentTransformInverse)(o),r.PathType.FILL);b=(0,n.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let y=t.lineWidth;const _=t.textMatrixScale;if(0===_||0===y){const e=t.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;e!==a.TextRenderingMode.STROKE&&e!==a.TextRenderingMode.FILL_STROKE||(y=this.getSinglePixelWidth())}else y/=_;if(1!==l&&(o.scale(l,l),y/=l),o.lineWidth=y,s.isInvalidPDFjsFont){const s=[];let a=0;for(const t of e)s.push(t.unicode),a+=t.width;return o.fillText(s.join(""),0,0),t.x+=a*v*h,o.restore(),void this.compose()}let w,S=0;for(w=0;w<p;++w){const t=e[w];if("number"===typeof t){S+=f*t*i/1e3;continue}let a=!1;const n=(t.isSpace?d:0)+c,r=t.fontChar,h=t.accent;let p,y,_=t.width;if(m){const e=t.vmetric||g,s=-(t.vmetric?e[1]:.5*_)*v,a=e[2]*v;_=e?-e[0]:_,p=s/l,y=(S+a)/l}else p=S/l,y=0;if(s.remeasure&&_>0){const e=1e3*o.measureText(r).width/i*l;if(_<e&&this.isFontSubpixelAAEnabled){const t=_/e;a=!0,o.save(),o.scale(t,1),p/=t}else _!==e&&(p+=(_-e)/2e3*i/l)}if(this.contentVisible&&(t.isInFont||s.missingFile))if(x&&!h)o.fillText(r,p,y);else if(this.paintChar(r,p,y,b),h){const e=p+i*h.offset.x/l,t=y-i*h.offset.y/l;this.paintChar(h.fontChar,e,t,b)}S+=m?_*v-n*u:_*v+n*u,a&&o.restore()}m?t.y-=S:t.x+=S*h,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,n=s.font,r=s.fontSize,i=s.fontDirection,o=n.vertical?1:-1,l=s.charSpacing,c=s.wordSpacing,d=s.textHScale*i,u=s.fontMatrix||a.FONT_IDENTITY_MATRIX,h=e.length;let p,m,f,g;if(s.textRenderingMode!==a.TextRenderingMode.INVISIBLE&&0!==r){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(d,i),p=0;p<h;++p){if(m=e[p],"number"===typeof m){g=o*m*r/1e3,this.ctx.translate(g,0),s.x+=g*d;continue}const i=(m.isSpace?c:0)+l,h=n.charProcOperatorList[m.operatorListId];h?(this.contentVisible&&(this.processingType3=m,this.save(),t.scale(r,r),t.transform(...u),this.executeOperatorList(h),this.restore()),f=a.Util.applyTransform([m.width,0],u)[0]*r+i,t.translate(f,0),s.x+=f*d):(0,a.warn)('Type3 character "'.concat(m.operatorListId,'" is not available.'))}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,a,n,r){this.ctx.rect(s,a,n-s,r-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const s=e[1],a=this.baseTransform||(0,n.getCurrentTransform)(this.ctx),i={createCanvasGraphics:e=>new k(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new r.TilingPattern(e,s,this.ctx,i,a)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){const n=a.Util.makeHexColor(e,t,s);this.ctx.strokeStyle=n,this.current.strokeColor=n}setFillRGBColor(e,t,s){const n=a.Util.makeHexColor(e,t,s);this.ctx.fillStyle=n,this.current.fillColor=n,this.current.patternFill=!1}_getPattern(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,r.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,t)),s&&(t.matrix=s),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,(0,n.getCurrentTransformInverse)(t),r.PathType.SHADING);const i=(0,n.getCurrentTransformInverse)(t);if(i){const{width:e,height:s}=t.canvas,[n,r,o,l]=a.Util.getAxialAlignedBoundingBox([0,0,e,s],i);this.ctx.fillRect(n,r,o-n,l-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],e,s),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,a.info)("TODO: Support non-isolated groups."),e.knockout&&(0,a.warn)("Knockout groups not supported.");const s=(0,n.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=a.Util.getAxialAlignedBoundingBox(e.bbox,(0,n.getCurrentTransform)(t));const i=[0,0,t.canvas.width,t.canvas.height];r=a.Util.intersect(r,i)||[0,0,0,0];const l=Math.floor(r[0]),c=Math.floor(r[1]);let d=Math.max(Math.ceil(r[2])-l,1),u=Math.max(Math.ceil(r[3])-c,1),h=1,p=1;d>o&&(h=d/o,d=o),u>o&&(p=u/o,u=o),this.current.startNewPathAndClipBox([0,0,d,u]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,d,u),v=g.context;v.scale(1/h,1/p),v.translate(-l,-c),v.transform(...s),e.smask?this.smaskStack.push({canvas:g.canvas,context:v,offsetX:l,offsetY:c,scaleX:h,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.scale(h,p),t.save()),m(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const s=a.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,s,r,i){if(_assertClassBrand(A,this,C).call(this),f(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const r=t[2]-t[0],o=t[3]-t[1];if(i&&this.annotationCanvasMap){(s=s.slice())[4]-=t[0],s[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=r,t[3]=o;const[i,l]=a.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,d=Math.ceil(r*this.outputScaleX*c),u=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,u);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(i,0,0,-l,0,o*l),f(this.ctx)}else f(this.ctx),this.ctx.rect(t[0],t[1],r,o),this.ctx.clip(),this.endPath()}this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_assertClassBrand(A,this,F).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const s=this.ctx,a=this.processingType3;if(a&&(void 0===a.compiled&&(a.compiled=function(e){const{width:t,height:s}=e;if(t>1e3||s>1e3)return null;const a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),n=t+1;let r,i,o,l=new Uint8Array(n*(s+1));const c=t+7&-8;let d=new Uint8Array(c*s),u=0;for(const f of e.data){let e=128;for(;e>0;)d[u++]=f&e?0:255,e>>=1}let h=0;for(u=0,0!==d[u]&&(l[0]=1,++h),i=1;i<t;i++)d[u]!==d[u+1]&&(l[i]=d[u]?2:1,++h),u++;for(0!==d[u]&&(l[i]=2,++h),r=1;r<s;r++){u=r*c,o=r*n,d[u-c]!==d[u]&&(l[o]=d[u]?1:8,++h);let e=(d[u]?4:0)+(d[u-c]?8:0);for(i=1;i<t;i++)e=(e>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),a[e]&&(l[o+i]=a[e],++h),u++;if(d[u-c]!==d[u]&&(l[o+i]=d[u]?2:4,++h),h>1e3)return null}for(u=c*(s-1),o=r*n,0!==d[u]&&(l[o]=8,++h),i=1;i<t;i++)d[u]!==d[u+1]&&(l[o+i]=d[u]?4:8,++h),u++;if(0!==d[u]&&(l[o+i]=4,++h),h>1e3)return null;const p=new Int32Array([0,n,-1,0,-n,0,0,0,1]),m=new Path2D;for(r=0;h&&r<=s;r++){let e=r*n;const s=e+t;for(;e<s&&!l[e];)e++;if(e===s)continue;m.moveTo(e%n,r);const a=e;let i=l[e];do{const t=p[i];do{e+=t}while(!l[e]);const s=l[e];5!==s&&10!==s?(i=s,l[e]=0):(i=s&51*i>>4,l[e]&=i>>2|i<<2),m.lineTo(e%n,e/n|0),l[e]||--h}while(a!==e);--r}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/s),e.translate(0,-s),e.fill(m),e.beginPath(),e.restore()}}(e)),a.compiled))return void a.compiled(s);const n=this._createMaskCanvas(e),r=n.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(r,n.offsetX,n.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,n.getCurrentTransform)(l);l.transform(t,s,r,i,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let n=0,u=o.length;n<u;n+=2){const e=a.Util.transform(c,[t,s,r,i,o[n],o[n+1]]),[u,h]=a.Util.applyTransform([0,0],e);l.drawImage(d.canvas,u,h)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,a=this.current.patternFill;for(const i of e){const{data:e,width:o,height:l,transform:c}=i,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=u.context;h.save(),p(h,this.getObject(e,i)),h.globalCompositeOperation="source-in",h.fillStyle=a?s.getPattern(h,this,(0,n.getCurrentTransformInverse)(t),r.PathType.FILL):s,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),d(t,u.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,a.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,s,n){if(!this.contentVisible)return;const r=this.getObject(e);if(!r)return void(0,a.warn)("Dependent image isn't ready yet");const i=r.width,o=r.height,l=[];for(let a=0,c=n.length;a<c;a+=2)l.push({transform:[t,0,0,s,n[a],n[a+1]],x:0,y:0,w:i,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:s,height:a}=e,n=this.cachedCanvases.getCanvas("inlineImage",s,a),r=n.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",n.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,r=this.ctx;if(this.save(),!a.isNodeJS){const{filter:e}=r;"none"!==e&&""!==e&&(r.filter="none")}let i;if(r.scale(1/t,-1/s),e.bitmap)i=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)i=e;else{const a=this.cachedCanvases.getCanvas("inlineImage",t,s).context;h(a,e),i=this.applyTransferMapsToCanvas(a)}const o=this._scaleImage(i,(0,n.getCurrentTransformInverse)(r));r.imageSmoothingEnabled=y((0,n.getCurrentTransform)(r),e.interpolate),d(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const t=e.width,s=e.height,n=this.cachedCanvases.getCanvas("inlineImage",t,s).context;h(n,e),a=this.applyTransferMapsToCanvas(n)}for(const n of t)s.save(),s.transform(...n.transform),s.scale(1,-1),d(s,a,n.x,n.y,n.w,n.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===P?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,n.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:s,c:a,d:n}=this.ctx.getTransform();let r,i;if(0===s&&0===a){const s=Math.abs(t),a=Math.abs(n);if(s===a)if(0===e)r=i=1/s;else{const t=s*e;r=i=t<1?1/t:1}else if(0===e)r=1/s,i=1/a;else{const t=s*e,n=a*e;r=t<1?1/t:1,i=n<1?1/n:1}}else{const o=Math.abs(t*n-s*a),l=Math.hypot(t,s),c=Math.hypot(a,n);if(0===e)r=c/o,i=l/o;else{const t=e*o;r=c>t?c/t:1,i=l>t?l/t:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=i}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[a,n]=this.getScaleForStroking();if(t.lineWidth=s||1,1===a&&1===n)return void t.stroke();const r=t.getLineDash();if(e&&t.save(),t.scale(a,n),r.length>0){const e=Math.max(a,n);t.setLineDash(r.map(t=>t/e)),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function C(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function F(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}t.CanvasGraphics=k;for(const E in a.OPS)void 0!==k.prototype[E]&&(k.prototype[a.OPS[E]]=k.prototype[E])},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new u(e);case"Dummy":return new h}throw new Error("Unknown IR type: ".concat(e[0]))};var a=s(1),n=s(6);const r={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function i(e,t){if(!t)return;const s=t[2]-t[0],a=t[3]-t[1],n=new Path2D;n.rect(t[0],t[1],s,a),e.clip(n)}t.PathType=r;class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,o){let l;if(o===r.STROKE||o===r.FILL){const r=t.current.getClippedPathBoundingBox(o,(0,n.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(r[2]-r[0])||1,d=Math.ceil(r[3]-r[1])||1,u=t.cachedCanvases.getCanvas("pattern",c,d,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),s=a.Util.transform(s,[1,0,0,1,r[0],r[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),i(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(s);l.setTransform(p)}else i(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,s,a,n,r,i,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[s+1]>l[a+1]&&(h=s,s=a,a=h,h=r,r=i,i=h),l[a+1]>l[n+1]&&(h=a,a=n,n=h,h=i,i=o,o=h),l[s+1]>l[a+1]&&(h=s,s=a,a=h,h=r,r=i,i=h);const p=(l[s]+t.offsetX)*t.scaleX,m=(l[s+1]+t.offsetY)*t.scaleY,f=(l[a]+t.offsetX)*t.scaleX,g=(l[a+1]+t.offsetY)*t.scaleY,v=(l[n]+t.offsetX)*t.scaleX,x=(l[n+1]+t.offsetY)*t.scaleY;if(m>=x)return;const b=c[r],y=c[r+1],_=c[r+2],w=c[i],S=c[i+1],P=c[i+2],A=c[o],k=c[o+1],C=c[o+2],F=Math.round(m),E=Math.round(x);let N,j,T,M,R,D,I,L;for(let O=F;O<=E;O++){if(O<g){const e=O<m?0:(m-O)/(m-g);N=p-(p-f)*e,j=b-(b-w)*e,T=y-(y-S)*e,M=_-(_-P)*e}else{let e;e=O>x?1:g===x?0:(g-O)/(g-x),N=f-(f-v)*e,j=w-(w-A)*e,T=S-(S-k)*e,M=P-(P-C)*e}let e;e=O<m?0:O>x?1:(m-O)/(m-x),R=p-(p-v)*e,D=b-(b-A)*e,I=y-(y-k)*e,L=_-(_-C)*e;const t=Math.round(Math.min(N,R)),s=Math.round(Math.max(N,R));let a=u*O+4*t;for(let n=t;n<=s;n++)e=(N-n)/(N-R),e<0?e=0:e>1&&(e=1),d[a++]=j-(j-D)*e|0,d[a++]=T-(T-I)*e|0,d[a++]=M-(M-L)*e|0,d[a++]=255}}function d(e,t,s){const a=t.coords,n=t.colors;let r,i;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(a.length/o)-1,d=o-1;for(r=0;r<l;r++){let t=r*o;for(let r=0;r<d;r++,t++)c(e,s,a[t],a[t+1],a[t+o],n[t],n[t+1],n[t+o]),c(e,s,a[t+o+1],a[t+1],a[t+o],n[t+o+1],n[t+1],n[t+o])}break;case"triangles":for(r=0,i=a.length;r<i;r+=3)c(e,s,a[r],a[r+1],a[r+2],n[r],n[r+1],n[r+2]);break;default:throw new Error("illegal figure")}}class u extends o{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const a=Math.floor(this._bounds[0]),n=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-a,i=Math.ceil(this._bounds[3])-n,o=Math.min(Math.ceil(Math.abs(r*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(i*e[1]*1.1)),3e3),c=r/o,u=i/l,h={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-n,scaleX:1/c,scaleY:1/u},p=o+4,m=l+4,f=s.getCanvas("mesh",p,m,!1),g=f.context,v=g.createImageData(o,l);if(t){const e=v.data;for(let s=0,a=e.length;s<a;s+=4)e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=255}for(const x of this._figures)d(v,x,h);return g.putImageData(v,2,2),{canvas:f.canvas,offsetX:a-2*c,offsetY:n-2*u,scaleX:c,scaleY:u}}getPattern(e,t,s,o){let l;if(i(e,this._bbox),o===r.SHADING)l=a.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(e));else if(l=a.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=a.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===r.SHADING?null:this._background,t.cachedCanvases);return o!==r.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class h extends o{getPattern(){return"hotpink"}}const p=1,m=2;class f{constructor(e,t,s,a,n){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=a,this.baseTransform=n}createPatternCanvas(e){const t=this.operatorList,s=this.bbox,r=this.xstep,i=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,d=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+l);const u=s[0],h=s[1],p=s[2],m=s[3],f=a.Util.singularValueDecompose2dScale(this.matrix),g=a.Util.singularValueDecompose2dScale(this.baseTransform),v=[f[0]*g[0],f[1]*g[1]],x=this.getSizeAndScale(r,this.ctx.canvas.width,v[0]),b=this.getSizeAndScale(i,this.ctx.canvas.height,v[1]),y=e.cachedCanvases.getCanvas("pattern",x.size,b.size,!0),_=y.context,w=d.createCanvasGraphics(_);w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,o,c);let S=u,P=h,A=p,k=m;return u<0&&(S=0,A+=Math.abs(u)),h<0&&(P=0,k+=Math.abs(h)),_.translate(-x.scale*S,-b.scale*P),w.transform(x.scale,0,0,b.scale,0,0),_.save(),this.clipBbox(w,S,P,A,k),w.baseTransform=(0,n.getCurrentTransform)(w.ctx),w.executeOperatorList(t),w.endDrawing(),{canvas:y.canvas,scaleX:x.scale,scaleY:b.scale,offsetX:S,offsetY:P}}getSizeAndScale(e,t,s){e=Math.abs(e);const a=Math.max(f.MAX_PATTERN_SIZE,t);let n=Math.ceil(e*s);return n>=a?n=a:s=n/e,{scale:s,size:n}}clipBbox(e,t,s,a,r){const i=a-t,o=r-s;e.ctx.rect(t,s,i,o),e.current.updateRectMinMax((0,n.getCurrentTransform)(e.ctx),[t,s,a,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const n=e.ctx,r=e.current;switch(t){case p:const e=this.ctx;n.fillStyle=e.fillStyle,n.strokeStyle=e.strokeStyle,r.fillColor=e.fillStyle,r.strokeColor=e.strokeStyle;break;case m:const i=a.Util.makeHexColor(s[0],s[1],s[2]);n.fillStyle=i,n.strokeStyle=i,r.fillColor=i,r.strokeColor=i;break;default:throw new a.FormatError("Unsupported paint type: ".concat(t))}}getPattern(e,t,s,n){let i=s;n!==r.SHADING&&(i=a.Util.transform(i,t.baseTransform),this.matrix&&(i=a.Util.transform(i,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(i);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}_defineProperty(f,"MAX_PATTERN_SIZE",3e3),t.TilingPattern=f},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=n,t.convertToRGBA=function(e){switch(e.kind){case a.ImageKind.GRAYSCALE_1BPP:return n(e);case a.ImageKind.RGB_24BPP:return function(e){let{src:t,srcPos:s=0,dest:n,destPos:r=0,width:i,height:o}=e,l=0;const c=t.length>>2,d=new Uint32Array(t.buffer,s,c);if(a.FeatureTest.isLittleEndian){for(;l<c-2;l+=3,r+=4){const e=d[l],t=d[l+1],s=d[l+2];n[r]=4278190080|e,n[r+1]=e>>>24|t<<8|4278190080,n[r+2]=t>>>16|s<<16|4278190080,n[r+3]=s>>>8|4278190080}for(let e=4*l,s=t.length;e<s;e+=3)n[r++]=t[e]|t[e+1]<<8|t[e+2]<<16|4278190080}else{for(;l<c-2;l+=3,r+=4){const e=d[l],t=d[l+1],s=d[l+2];n[r]=255|e,n[r+1]=e<<24|t>>>8|255,n[r+2]=t<<16|s>>>16|255,n[r+3]=s<<8|255}for(let e=4*l,s=t.length;e<s;e+=3)n[r++]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|255}return{srcPos:s,destPos:r}}(e)}return null},t.grayToRGBA=function(e,t){if(a.FeatureTest.isLittleEndian)for(let s=0,a=e.length;s<a;s++)t[s]=65793*e[s]|4278190080;else for(let s=0,a=e.length;s<a;s++)t[s]=16843008*e[s]|255};var a=s(1);function n(e){let{src:t,srcPos:s=0,dest:n,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:l=!1}=e;const c=a.FeatureTest.isLittleEndian?4278190080:255,[d,u]=l?[o,c]:[c,o],h=r>>3,p=7&r,m=t.length;n=new Uint32Array(n.buffer);let f=0;for(let a=0;a<i;a++){for(const a=s+h;s<a;s++){const e=s<m?t[s]:255;n[f++]=128&e?u:d,n[f++]=64&e?u:d,n[f++]=32&e?u:d,n[f++]=16&e?u:d,n[f++]=8&e?u:d,n[f++]=4&e?u:d,n[f++]=2&e?u:d,n[f++]=1&e?u:d}if(0===p)continue;const e=s<m?t[s++]:255;for(let t=0;t<p;t++)n[f++]=e&1<<7-t?u:d}return{srcPos:s,destPos:f}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const s=Object.create(null);t.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var a=s(1);const n=1,r=2,i=1,o=2,l=3,c=4,d=5,u=6,h=7,p=8;function m(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new a.AbortException(e.message);case"MissingPDFException":return new a.MissingPDFException(e.message);case"PasswordException":return new a.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new a.UnknownErrorException(e.message,e.details);default:return new a.UnknownErrorException(e.message,e.toString())}}var f=new WeakSet;function g(e){const t=e.streamId,s=this.sourceName,n=e.sourceName,r=this.comObj,i=this,o=this.actionHandler[e.action],u={enqueue(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=i,l>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:n,stream:c,streamId:t,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:n,stream:l,streamId:t}),delete i.streamSinks[t])},error(e){(0,a.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:n,stream:d,streamId:t,reason:m(e)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(t){t(o(e.data,u))}).then(function(){r.postMessage({sourceName:s,targetName:n,stream:p,streamId:t,success:!0})},function(e){r.postMessage({sourceName:s,targetName:n,stream:p,streamId:t,reason:m(e)})})}function v(e){const t=e.streamId,s=this.sourceName,n=e.sourceName,r=this.comObj,g=this.streamControllers[t],v=this.streamSinks[t];switch(e.stream){case p:e.success?g.startCall.resolve():g.startCall.reject(m(e.reason));break;case h:e.success?g.pullCall.resolve():g.pullCall.reject(m(e.reason));break;case u:if(!v){r.postMessage({sourceName:s,targetName:n,stream:h,streamId:t,success:!0});break}v.desiredSize<=0&&e.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=e.desiredSize,new Promise(function(e){var t;e(null===(t=v.onPull)||void 0===t?void 0:t.call(v))}).then(function(){r.postMessage({sourceName:s,targetName:n,stream:h,streamId:t,success:!0})},function(e){r.postMessage({sourceName:s,targetName:n,stream:h,streamId:t,reason:m(e)})});break;case c:if((0,a.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(e.chunk);break;case l:if((0,a.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),_assertClassBrand(f,this,x).call(this,g,t);break;case d:(0,a.assert)(g,"error should have stream controller"),g.controller.error(m(e.reason)),_assertClassBrand(f,this,x).call(this,g,t);break;case o:e.success?g.cancelCall.resolve():g.cancelCall.reject(m(e.reason)),_assertClassBrand(f,this,x).call(this,g,t);break;case i:if(!v)break;new Promise(function(t){var s;t(null===(s=v.onCancel)||void 0===s?void 0:s.call(v,m(e.reason)))}).then(function(){r.postMessage({sourceName:s,targetName:n,stream:o,streamId:t,success:!0})},function(e){r.postMessage({sourceName:s,targetName:n,stream:o,streamId:t,reason:m(e)})}),v.sinkCapability.reject(m(e.reason)),v.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function x(e,t){var s,a,n;await Promise.allSettled([null===(s=e.startCall)||void 0===s?void 0:s.promise,null===(a=e.pullCall)||void 0===a?void 0:a.promise,null===(n=e.cancelCall)||void 0===n?void 0:n.promise]),delete this.streamControllers[t]}t.MessageHandler=class{constructor(e,t,s){_classPrivateMethodInitSpec(this,f),this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void _assertClassBrand(f,this,v).call(this,t);if(t.callback){const e=t.callbackId,s=this.callbackCapabilities[e];if(!s)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===n)s.resolve(t.data);else{if(t.callback!==r)throw new Error("Unexpected callback case");s.reject(m(t.reason))}return}const a=this.actionHandler[t.action];if(!a)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,i=t.sourceName;return void new Promise(function(e){e(a(t.data))}).then(function(a){s.postMessage({sourceName:e,targetName:i,callback:n,callbackId:t.callbackId,data:a})},function(a){s.postMessage({sourceName:e,targetName:i,callback:r,callbackId:t.callbackId,reason:m(a)})})}t.streamId?_assertClassBrand(f,this,g).call(this,t):a(t.data)},s.addEventListener("message",this._onComObjOnMessage)}on(e,t){const s=this.actionHandler;if(s[e])throw new Error('There is already an actionName called "'.concat(e,'"'));s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const n=this.callbackId++,r=new a.PromiseCapability;this.callbackCapabilities[n]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},s)}catch(i){r.reject(i)}return r.promise}sendWithStream(e,t,s,n){const r=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:s=>{const i=new a.PromiseCapability;return this.streamControllers[r]={controller:s,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:r,data:t,desiredSize:s.desiredSize},n),i.promise},pull:e=>{const t=new a.PromiseCapability;return this.streamControllers[r].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:u,streamId:r,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,a.assert)(e instanceof Error,"cancel must have a valid reason");const t=new a.PromiseCapability;return this.streamControllers[r].cancelCall=t,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:i,streamId:r,reason:m(e)}),t.promise}},s)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var a=s(1),n=new WeakMap,r=new WeakMap;t.Metadata=class{constructor(e){let{parsedData:t,rawData:s}=e;_classPrivateFieldInitSpec(this,n,void 0),_classPrivateFieldInitSpec(this,r,void 0),_classPrivateFieldSet(n,this,t),_classPrivateFieldSet(r,this,s)}getRaw(){return _classPrivateFieldGet(r,this)}get(e){var t;return null!==(t=_classPrivateFieldGet(n,this).get(e))&&void 0!==t?t:null}getAll(){return(0,a.objectFromMap)(_classPrivateFieldGet(n,this))}has(e){return _classPrivateFieldGet(n,this).has(e)}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var a=s(1),n=s(8);const r=Symbol("INTERNAL");var i=new WeakMap;class o{constructor(e,t){_classPrivateFieldInitSpec(this,i,!0),this.name=e,this.intent=t}get visible(){return _classPrivateFieldGet(i,this)}_setVisible(e,t){e!==r&&(0,a.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(i,this,t)}}var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakSet;function p(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let n=1;n<t;n++){const t=e[n];let r;if(Array.isArray(t))r=_assertClassBrand(h,this,p).call(this,t);else{if(!_classPrivateFieldGet(c,this).has(t))return(0,a.warn)("Optional content group not found: ".concat(t)),!0;r=_classPrivateFieldGet(c,this).get(t).visible}switch(s){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===s}t.OptionalContentConfig=class{constructor(e){if(_classPrivateMethodInitSpec(this,h),_classPrivateFieldInitSpec(this,l,null),_classPrivateFieldInitSpec(this,c,new Map),_classPrivateFieldInitSpec(this,d,null),_classPrivateFieldInitSpec(this,u,null),this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,_classPrivateFieldSet(u,this,e.order);for(const t of e.groups)_classPrivateFieldGet(c,this).set(t.id,new o(t.name,t.intent));if("OFF"===e.baseState)for(const e of _classPrivateFieldGet(c,this).values())e._setVisible(r,!1);for(const t of e.on)_classPrivateFieldGet(c,this).get(t)._setVisible(r,!0);for(const t of e.off)_classPrivateFieldGet(c,this).get(t)._setVisible(r,!1);_classPrivateFieldSet(d,this,this.getHash())}}isVisible(e){if(0===_classPrivateFieldGet(c,this).size)return!0;if(!e)return(0,a.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return _classPrivateFieldGet(c,this).has(e.id)?_classPrivateFieldGet(c,this).get(e.id).visible:((0,a.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return _assertClassBrand(h,this,p).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(c,this).has(t))return(0,a.warn)("Optional content group not found: ".concat(t)),!0;if(_classPrivateFieldGet(c,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(c,this).has(t))return(0,a.warn)("Optional content group not found: ".concat(t)),!0;if(!_classPrivateFieldGet(c,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(c,this).has(t))return(0,a.warn)("Optional content group not found: ".concat(t)),!0;if(!_classPrivateFieldGet(c,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(c,this).has(t))return(0,a.warn)("Optional content group not found: ".concat(t)),!0;if(_classPrivateFieldGet(c,this).get(t).visible)return!1}return!0}return(0,a.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,a.warn)("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classPrivateFieldGet(c,this).has(e)?(_classPrivateFieldGet(c,this).get(e)._setVisible(r,!!t),_classPrivateFieldSet(l,this,null)):(0,a.warn)("Optional content group not found: ".concat(e))}get hasInitialVisibility(){return null===_classPrivateFieldGet(d,this)||this.getHash()===_classPrivateFieldGet(d,this)}getOrder(){return _classPrivateFieldGet(c,this).size?_classPrivateFieldGet(u,this)?_classPrivateFieldGet(u,this).slice():[..._classPrivateFieldGet(c,this).keys()]:null}getGroups(){return _classPrivateFieldGet(c,this).size>0?(0,a.objectFromMap)(_classPrivateFieldGet(c,this)):null}getGroup(e){return _classPrivateFieldGet(c,this).get(e)||null}getHash(){if(null!==_classPrivateFieldGet(l,this))return _classPrivateFieldGet(l,this);const e=new n.MurmurHash3_64;for(const[t,s]of _classPrivateFieldGet(c,this))e.update("".concat(t,":").concat(s.visible));return _classPrivateFieldSet(l,this,e.hexdigest())}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var a=s(1),n=s(6);t.PDFDataTransportStream=class{constructor(e,t){let{length:s,initialData:n,progressiveDone:r=!1,contentDispositionFilename:i=null,disableRange:o=!1,disableStream:l=!1}=e;if((0,a.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=i,(null===n||void 0===n?void 0:n.length)>0){const e=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!l,this._isRangeSupported=!o,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){let{begin:t,chunk:s}=e;const n=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const e=this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(n),!0)});(0,a.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,s,a,n;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.loaded}):null===(a=this._fullRequestReader)||void 0===a||null===(n=a.onProgress)||void 0===n||n.call(a,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new r(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new i(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}};class r{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=s||!1,this._filename=(0,n.isPdfFile)(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const n of this._queuedChunks)this._loaded+=n.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new a.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class i{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new a.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var a=s(1),n=s(20);function r(e,t,s){return{method:"GET",headers:e,signal:s.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function i(e){const t=new Headers;for(const s in e){const a=e[s];void 0!==a&&t.append(s,a)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,a.warn)("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new c(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}};class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new a.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=i(this._stream.httpHeaders);const s=t.url;fetch(s,r(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,n.validateResponseStatus)(e.status))throw(0,n.createResponseStatusError)(e.status,s);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:r,suggestedLength:i}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class c{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=i(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(s-1));const l=o.url;fetch(l,r(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,n.validateResponseStatus)(e.status))throw(0,n.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+t+'".'):new a.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,n.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(s){}if((0,r.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:s,rangeChunkSize:a,disableRange:n}=e;const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(t("Content-Length"),10);return Number.isInteger(i)?(r.suggestedLength=i,i<=2*a||n||!s||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r):r},t.validateResponseStatus=function(e){return 200===e||206===e};var a=s(1),n=s(21),r=s(6)},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,s=n("filename\\*","i").exec(e);if(s){s=s[1];let e=o(s);return e=unescape(e),e=l(e),e=c(e),i(e)}if(s=function(e){const t=[];let s;const a=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(s=a.exec(e));){let[,e,a,n]=s;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[a,n]}const r=[];for(let n=0;n<t.length&&n in t;++n){let[e,s]=t[n];s=o(s),e&&(s=unescape(s),0===n&&(s=l(s))),r.push(s)}return r.join("")}(e),s)return i(c(s));if(s=n("filename","i").exec(e),s){s=s[1];let e=o(s);return e=c(e),i(e)}function n(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,s){if(e){if(!/^[\x00-\xFF]+$/.test(s))return s;try{const n=new TextDecoder(e,{fatal:!0}),r=(0,a.stringToBytes)(s);s=n.decode(r),t=!1}catch(n){}}return s}function i(e){return t&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),t&&(e=r("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const s=t[e].indexOf('"');-1!==s&&(t[e]=t[e].slice(0,s),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:r(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,s,a){if("q"===s||"Q"===s)return r(t,a=(a=a.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{a=atob(a)}catch(n){}return r(t,a)})}return""};var a=s(1)},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var a=s(1),n=s(20);class r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const a={begin:e,end:t};for(const n in s)a[n]=s[n];return this.request(a)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const n in this.httpHeaders){const e=this.httpHeaders[n];void 0!==e&&t.setRequestHeader(n,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),a.expectedStatus=206):a.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var s;const a=this.pendingRequests[e];a&&(null===(s=a.onProgress)||void 0===s||s.call(a,t))}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const n=s.xhr;if(n.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),4!==n.readyState)return;if(!(e in this.pendingRequests))return;var r;if(delete this.pendingRequests[e],0===n.status&&this.isHttp)return void(null===(r=s.onError)||void 0===r||r.call(s,n.status));const i=n.status||200;var o;if((200!==i||206!==s.expectedStatus)&&i!==s.expectedStatus)return void(null===(o=s.onError)||void 0===o||o.call(s,n.status));const l=function(e){const t=e.response;return"string"!==typeof t?t:(0,a.stringToBytes)(t).buffer}(n);if(206===i){const e=n.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);s.onDone({begin:parseInt(t[1],10),chunk:l})}else if(l)s.onDone({begin:0,chunk:l});else{var c;null===(c=s.onError)||void 0===c||c.call(s,n.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new r(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new i(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new o(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}};class i{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=e=>t.getResponseHeader(e),{allowRangeRequests:a,suggestedLength:r}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,n.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new a.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,s){this._manager=e;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,n.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new a.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var a=s(1),n=s(20);const r=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=__webpack_require__(395),s=t.parse(e);return"file:"===s.protocol||s.host?s:/^[a-z]:[/\\]/i.test(e)?t.parse("file:///".concat(e)):(s.host||(s.protocol="file:"),s)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new c(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new h(this,e,t):new d(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}};class i{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class c extends i{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new a.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const s=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:r,suggestedLength:i}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(s)};if(this._request=null,"http:"===this._url.protocol){const s=__webpack_require__(688);this._request=s.request(l(this._url,e.httpHeaders),t)}else{const s=__webpack_require__(123);this._request=s.request(l(this._url,e.httpHeaders),t)}this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class d extends o{constructor(e,t,s){super(e),this._httpHeaders={};for(const a in e.httpHeaders){const t=e.httpHeaders[a];void 0!==t&&(this._httpHeaders[a]=t)}this._httpHeaders.Range="bytes=".concat(t,"-").concat(s-1);const n=e=>{if(404===e.statusCode){const e=new a.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return void(this._storedError=e)}this._setReadableStream(e)};if(this._request=null,"http:"===this._url.protocol){const e=__webpack_require__(688);this._request=e.request(l(this._url,this._httpHeaders),n)}else{const e=__webpack_require__(123);this._request=e.request(l(this._url,this._httpHeaders),n)}this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class u extends i{constructor(e){super(e);let t=decodeURIComponent(this._url.path);r.test(this._url.href)&&(t=t.replace(/^\//,""));const s=__webpack_require__(673);s.lstat(t,(e,n)=>{if(e)return"ENOENT"===e.code&&(e=new a.MissingPDFException('Missing PDF "'.concat(t,'".'))),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(s.createReadStream(t)),this._headersCapability.resolve()})}}class h extends o{constructor(e,t,s){super(e);let a=decodeURIComponent(this._url.path);r.test(this._url.href)&&(a=a.replace(/^\//,""));const n=__webpack_require__(673);this._setReadableStream(n.createReadStream(a,{start:t,end:s-1}))}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var a=s(6),n=s(1);const r="normal",i="normal",o="#000000",l=["butt","round","square"],c=["miter","round","bevel"],d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!s)return URL.createObjectURL(new Blob([e],{type:t}));const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="data:".concat(t,";base64,");for(let r=0,i=e.length;r<i;r+=3){const t=255&e[r],s=255&e[r+1],o=255&e[r+2];n+=a[t>>2]+a[(3&t)<<4|s>>4]+a[r+1<i?(15&s)<<2|o>>6:64]+a[r+2<i?63&o:64]}return n},u=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[n]=e}function s(e,s,a,n){let r=n;const i=s.length;a[r]=i>>24&255,a[r+1]=i>>16&255,a[r+2]=i>>8&255,a[r+3]=255&i,r+=4,a[r]=255&e.charCodeAt(0),a[r+1]=255&e.charCodeAt(1),a[r+2]=255&e.charCodeAt(2),a[r+3]=255&e.charCodeAt(3),r+=4,a.set(s,r),r+=s.length;const o=function(e,s,a){let n=-1;for(let r=s;r<a;r++){const s=255&(n^e[r]);n=n>>>8^t[s]}return-1^n}(a,n+4,r);a[r]=o>>24&255,a[r+1]=o>>16&255,a[r+2]=o>>8&255,a[r+3]=255&o}function a(e){let t=e.length;const s=65535,a=Math.ceil(t/s),n=new Uint8Array(2+t+5*a+4);let r=0;n[r++]=120,n[r++]=156;let i=0;for(;t>s;)n[r++]=0,n[r++]=255,n[r++]=255,n[r++]=0,n[r++]=0,n.set(e.subarray(i,i+s),r),r+=s,i+=s,t-=s;n[r++]=1,n[r++]=255&t,n[r++]=t>>8&255,n[r++]=255&~t,n[r++]=(65535&~t)>>8&255,n.set(e.subarray(i),r),r+=e.length-i;const o=function(e,t,s){let a=1,n=0;for(let r=t;r<s;++r)a=(a+(255&e[r]))%65521,n=(n+a)%65521;return n<<16|a}(e,0,e.length);return n[r++]=o>>24&255,n[r++]=o>>16&255,n[r++]=o>>8&255,n[r++]=255&o,n}function r(t,r,i,o){const l=t.width,c=t.height;let u,h,p;const m=t.data;switch(r){case n.ImageKind.GRAYSCALE_1BPP:h=0,u=1,p=l+7>>3;break;case n.ImageKind.RGB_24BPP:h=2,u=8,p=3*l;break;case n.ImageKind.RGBA_32BPP:h=6,u=8,p=4*l;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+p)*c);let g=0,v=0;for(let e=0;e<c;++e)f[g++]=0,f.set(m.subarray(v,v+p),g),v+=p,g+=p;if(r===n.ImageKind.GRAYSCALE_1BPP&&o){g=0;for(let e=0;e<c;e++){g++;for(let e=0;e<p;e++)f[g++]^=255}}const x=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,c>>24&255,c>>16&255,c>>8&255,255&c,u,h,0,0,0]),b=function(e){if(!n.isNodeJS)return a(e);try{const t=parseInt(process.versions.node)>=8?e:Buffer.from(e),s=__webpack_require__(319).deflateSync(t,{level:9});return s instanceof Uint8Array?s:new Uint8Array(s)}catch(t){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return a(e)}(f),y=e.length+36+x.length+b.length,_=new Uint8Array(y);let w=0;return _.set(e,w),w+=e.length,s("IHDR",x,_,w),w+=12+x.length,s("IDATA",b,_,w),w+=12+b.length,s("IEND",new Uint8Array(0),_,w),d(_,"image/png",i)}return function(e,t,s){return r(e,void 0===e.kind?n.ImageKind.GRAYSCALE_1BPP:e.kind,t,s)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=i,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function p(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let s=t.length-1;if("0"!==t[s])return t;do{s--}while("0"===t[s]);return t.substring(0,"."===t[s]?s:s+1)}function m(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(p(e[0])," ").concat(p(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){const t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(p(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(p(e[4])," ").concat(p(e[5]),")");return"matrix(".concat(p(e[0])," ").concat(p(e[1])," ").concat(p(e[2])," ").concat(p(e[3])," ").concat(p(e[4])," ")+"".concat(p(e[5]),")")}let f=0,g=0,v=0;t.SVGGraphics=class{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new h,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!s,this._operatorIdMapping=[];for(const a in n.OPS)this._operatorIdMapping[n.OPS[a]]=a}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,s=e.argsArray;for(let a=0,r=t.length;a<r;a++)if(t[a]===n.OPS.dependency)for(const e of s[a]){const t=e.startsWith("g_")?this.commonObjs:this.objs,s=new Promise(s=>{t.get(e,s)});this.current.dependencies.push(s)}return Promise.all(this.current.dependencies)}transform(e,t,s,a,r,i){const o=[e,t,s,a,r,i];this.transformMatrix=n.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const s=this._initialize(t);return this.loadDependencies(e).then(()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),s))}convertOpList(e){const t=this._operatorIdMapping,s=e.argsArray,a=e.fnArray,n=[];for(let r=0,i=a.length;r<i;r++){const e=a[r];n.push({fnId:e,fn:t[e],args:s[r]})}return function(e){let t=[];const s=[];for(const a of e)"save"!==a.fn?"restore"===a.fn?t=s.pop():t.push(a):(t.push({fnId:92,fn:"group",items:[]}),s.push(t),t=t.at(-1).items);return t}(n)}executeOpTree(e){for(const t of e){const e=t.fn,s=t.fnId,a=t.args;switch(0|s){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(a);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(a[0],a[1]);break;case n.OPS.setFont:this.setFont(a);break;case n.OPS.showText:case n.OPS.showSpacedText:this.showText(a[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(a[0],a[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(a[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(a[0]);break;case n.OPS.setHScale:this.setHScale(a[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(a[0],a[1],a[2],a[3],a[4],a[5]);break;case n.OPS.setTextRise:this.setTextRise(a[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(a[0]);break;case n.OPS.setLineWidth:this.setLineWidth(a[0]);break;case n.OPS.setLineJoin:this.setLineJoin(a[0]);break;case n.OPS.setLineCap:this.setLineCap(a[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(a[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(a[0],a[1],a[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(a[0],a[1],a[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(a);break;case n.OPS.setFillColorN:this.setFillColorN(a);break;case n.OPS.shadingFill:this.shadingFill(a[0]);break;case n.OPS.setDash:this.setDash(a[0],a[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(a[0]);break;case n.OPS.setFlatness:this.setFlatness(a[0]);break;case n.OPS.setGState:this.setGState(a[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(a[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(a[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(a[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(a[0],a[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);break;case n.OPS.constructPath:this.constructPath(a[0],a[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,n.warn)("Unimplemented operator ".concat(e))}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,s,a,n,r){const i=this.current;i.textMatrix=i.lineMatrix=[e,t,s,a,n,r],i.textMatrixScale=Math.hypot(e,t),i.x=i.lineX=0,i.y=i.lineY=0,i.xcoords=[],i.ycoords=[],i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size","".concat(p(i.fontSize),"px")),i.tspan.setAttributeNS(null,"y",p(-i.y)),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtElement.append(i.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=n.IDENTITY_MATRIX,e.lineMatrix=n.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const s=this.current;s.x=s.lineX+=e,s.y=s.lineY+=t,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(p(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",p(-s.y))}showText(e){const t=this.current,s=t.font,a=t.fontSize;if(0===a)return;const l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,f=s.vertical,g=f?1:-1,v=s.defaultVMetrics,x=a*t.fontMatrix[0];let b=0;for(const n of e){if(null===n){b+=u*d;continue}if("number"===typeof n){b+=g*n*a/1e3;continue}const e=(n.isSpace?d:0)+c,r=n.fontChar;let i,o,h=n.width;if(f){let e;const t=n.vmetric||v;e=n.vmetric?t[1]:.5*h,e=-e*x;const s=t[2]*x;h=t?-t[0]:h,i=e/l,o=(b+s)/l}else i=b/l,o=0;(n.isInFont||s.missingFile)&&(t.xcoords.push(t.x+i),f&&t.ycoords.push(-t.y+o),t.tspan.textContent+=r),b+=f?h*x-e*u:h*x+e*u}t.tspan.setAttributeNS(null,"x",t.xcoords.map(p).join(" ")),f?t.tspan.setAttributeNS(null,"y",t.ycoords.map(p).join(" ")):t.tspan.setAttributeNS(null,"y",p(-t.y)),f?t.y-=b:t.x+=b*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(p(t.fontSize),"px")),t.fontStyle!==r&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==i&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const y=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(y===n.TextRenderingMode.FILL||y===n.TextRenderingMode.FILL_STROKE?(t.fillColor!==o&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),y===n.TextRenderingMode.STROKE||y===n.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let _=t.textMatrix;0!==t.textRise&&(_=_.slice(),_[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(m(_)," scale(").concat(p(h),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=d(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}setFont(e){const t=this.current,s=this.commonObjs.get(e[0]);let a=e[1];t.font=s,!this.embedFonts||s.missingFile||this.embeddedFonts[s.loadedName]||(this.addFontStyle(s),this.embeddedFonts[s.loadedName]=s),t.fontMatrix=s.fontMatrix||n.FONT_IDENTITY_MATRIX;let r="normal";s.black?r="900":s.bold&&(r="bold");const i=s.italic?"italic":"normal";a<0?(a=-a,t.fontDirection=-1):t.fontDirection=1,t.fontSize=a,t.fontFamily=s.loadedName,t.fontWeight=r,t.fontStyle=i,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",p(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){var e;const t=this.current;t.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=l[e]}setLineJoin(e){this.current.lineJoin=c[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,s){this.current.strokeColor=n.Util.makeHexColor(e,t,s)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,s){this.current.fillColor=n.Util.makeHexColor(e,t,s),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const{width:t,height:s}=this.viewport,a=n.Util.inverseTransform(this.transformMatrix),[r,i,o,l]=n.Util.getAxialAlignedBoundingBox([0,0,t,s],a),c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",r),c.setAttributeNS(null,"y",i),c.setAttributeNS(null,"width",o-r),c.setAttributeNS(null,"height",l-i),c.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&c.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(c)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],s=e[2],a=e[3]||n.IDENTITY_MATRIX,[r,i,o,l]=e[4],c=e[5],d=e[6],u=e[7],h="shading".concat(v++),[p,m,f,g]=n.Util.normalizeRect([...n.Util.applyTransform([r,i],a),...n.Util.applyTransform([o,l],a)]),[x,b]=n.Util.singularValueDecompose2dScale(a),y=c*x,_=d*b,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",h),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",y),w.setAttributeNS(null,"height",_),w.setAttributeNS(null,"x","".concat(p)),w.setAttributeNS(null,"y","".concat(m));const S=this.svg,P=this.transformMatrix,A=this.current.fillColor,k=this.current.strokeColor,C=this.svgFactory.create(f-p,g-m);if(this.svg=C,this.transformMatrix=a,2===u){const e=n.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(s)),this.svg=S,this.transformMatrix=P,this.current.fillColor=A,this.current.strokeColor=k,w.append(C.childNodes[0]),this.defs.append(w),"url(#".concat(h,")")}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading".concat(v++),s=e[3];let a;switch(e[1]){case"axial":const s=e[4],n=e[5];a=this.svgFactory.createElement("svg:linearGradient"),a.setAttributeNS(null,"id",t),a.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),a.setAttributeNS(null,"x1",s[0]),a.setAttributeNS(null,"y1",s[1]),a.setAttributeNS(null,"x2",n[0]),a.setAttributeNS(null,"y2",n[1]);break;case"radial":const r=e[4],i=e[5],o=e[6],l=e[7];a=this.svgFactory.createElement("svg:radialGradient"),a.setAttributeNS(null,"id",t),a.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),a.setAttributeNS(null,"cx",i[0]),a.setAttributeNS(null,"cy",i[1]),a.setAttributeNS(null,"r",l),a.setAttributeNS(null,"fx",r[0]),a.setAttributeNS(null,"fy",r[1]),a.setAttributeNS(null,"fr",o);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}for(const e of s){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),a.append(t)}return this.defs.append(a),"url(#".concat(t,")");case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const s=this.current;let a=s.x,r=s.y,i=[],o=0;for(const l of e)switch(0|l){case n.OPS.rectangle:a=t[o++],r=t[o++];const e=a+t[o++],s=r+t[o++];i.push("M",p(a),p(r),"L",p(e),p(r),"L",p(e),p(s),"L",p(a),p(s),"Z");break;case n.OPS.moveTo:a=t[o++],r=t[o++],i.push("M",p(a),p(r));break;case n.OPS.lineTo:a=t[o++],r=t[o++],i.push("L",p(a),p(r));break;case n.OPS.curveTo:a=t[o+4],r=t[o+5],i.push("C",p(t[o]),p(t[o+1]),p(t[o+2]),p(t[o+3]),p(a),p(r)),o+=6;break;case n.OPS.curveTo2:i.push("C",p(a),p(r),p(t[o]),p(t[o+1]),p(t[o+2]),p(t[o+3])),a=t[o+2],r=t[o+3],o+=4;break;case n.OPS.curveTo3:a=t[o+2],r=t[o+3],i.push("C",p(t[o]),p(t[o+1]),p(a),p(r),p(a),p(r)),o+=4;break;case n.OPS.closePath:i.push("Z")}i=i.join(" "),s.path&&e.length>0&&e[0]!==n.OPS.rectangle&&e[0]!==n.OPS.moveTo?i=s.path.getAttributeNS(null,"d")+i:(s.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(s.path)),s.path.setAttributeNS(null,"d",i),s.path.setAttributeNS(null,"fill","none"),s.element=s.path,s.setCurrentPoint(a,r)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath".concat(f++),s=this.svgFactory.createElement("svg:clipPath");s.setAttributeNS(null,"id",t),s.setAttributeNS(null,"transform",m(this.transformMatrix));const a=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?a.setAttributeNS(null,"clip-rule","evenodd"):a.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,s.append(a),this.defs.append(s),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;s.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s);break;case"CA":this.setStrokeAlpha(s);break;case"ca":this.setFillAlpha(s);break;default:(0,n.warn)("Unimplemented graphic state operator ".concat(t))}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const s=this.current;let a=s.dashArray;1!==t&&a.length>0&&(a=a.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",s.strokeColor),e.setAttributeNS(null,"stroke-opacity",s.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",p(s.miterLimit)),e.setAttributeNS(null,"stroke-linecap",s.lineCap),e.setAttributeNS(null,"stroke-linejoin",s.lineJoin),e.setAttributeNS(null,"stroke-width",p(t*s.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",a.map(p).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",p(t*s.dashPhase)+"px")}eoFill(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,n.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}paintInlineImageXObject(e,t){const s=e.width,a=e.height,n=u(e,this.forceDataSchema,!!t),r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width",p(s)),r.setAttributeNS(null,"height",p(a)),this.current.element=r,this.clip("nonzero");const i=this.svgFactory.createElement("svg:image");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",p(-a)),i.setAttributeNS(null,"width",p(s)+"px"),i.setAttributeNS(null,"height",p(a)+"px"),i.setAttributeNS(null,"transform","scale(".concat(p(1/s)," ").concat(p(-1/a),")")),t?t.append(i):this._ensureTransformGroup().append(i)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,n.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const s=this.current,a=t.width,r=t.height,i=s.fillColor;s.maskId="mask".concat(g++);const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",s.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",p(a)),l.setAttributeNS(null,"height",p(r)),l.setAttributeNS(null,"fill",i),l.setAttributeNS(null,"mask","url(#".concat(s.maskId,")")),this.defs.append(o),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],s=t[3]-t[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",t[0]),a.setAttributeNS(null,"y",t[1]),a.setAttributeNS(null,"width",p(e)),a.setAttributeNS(null,"height",p(s)),this.current.element=a,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),s=this.svgFactory.createElement("svg:defs");t.append(s),this.defs=s;const a=this.svgFactory.createElement("svg:g");return a.setAttributeNS(null,"transform",m(e.transform)),t.append(a),this.svg=a,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class s{static textContent(e){const t=[],a={items:t,styles:Object.create(null)};return function e(a){var n;if(!a)return;let r=null;const i=a.name;if("#text"===i)r=a.value;else{if(!s.shouldBuildText(i))return;null!==a&&void 0!==a&&null!==(n=a.attributes)&&void 0!==n&&n.textContent?r=a.attributes.textContent:a.value&&(r=a.value)}if(null!==r&&t.push({str:r}),a.children)for(const t of a.children)e(t)}(e),a}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=s},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,n.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const{container:t,viewport:s}=e,a=getComputedStyle(t),r=a.getPropertyValue("visibility"),i=parseFloat(a.getPropertyValue("--scale-factor"));"visible"===r&&(!i||Math.abs(i-s.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const o=new d(e);return o._render(),o},t.updateTextLayer=function(e){let{container:t,viewport:s,textDivs:a,textDivProperties:r,isOffscreenCanvasSupported:i,mustRotate:l=!0,mustRescale:d=!0}=e;if(l&&(0,n.setLayerDimensions)(t,{rotation:s.rotation}),d){const e=o(0,i),t={prevFontSize:null,prevFontFamily:null,div:null,scale:s.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const s of a)t.properties=r.get(s),t.div=s,c(t)}};var a=s(1),n=s(6);const r=30,i=new Map;function o(e,t){let s;if(t&&a.FeatureTest.isOffscreenCanvasSupported)s=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,s=t.getContext("2d",{alpha:!1})}return s}function l(e,t,s){const n=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(n);const c=a.Util.transform(e._transform,t.transform);let d=Math.atan2(c[1],c[0]);const u=s[t.fontName];u.vertical&&(d+=Math.PI/2);const h=Math.hypot(c[2],c[3]),p=h*function(e,t){const s=i.get(e);if(s)return s;const a=o(r,t);a.font="".concat(r,"px ").concat(e);const n=a.measureText("");let l=n.fontBoundingBoxAscent,c=Math.abs(n.fontBoundingBoxDescent);if(l){const t=l/(l+c);return i.set(e,t),a.canvas.width=a.canvas.height=0,t}a.strokeStyle="red",a.clearRect(0,0,r,r),a.strokeText("g",0,0);let d=a.getImageData(0,0,r,r).data;c=0;for(let i=d.length-1-3;i>=0;i-=4)if(d[i]>0){c=Math.ceil(i/4/r);break}a.clearRect(0,0,r,r),a.strokeText("A",0,r),d=a.getImageData(0,0,r,r).data,l=0;for(let i=0,o=d.length;i<o;i+=4)if(d[i]>0){l=r-Math.floor(i/4/r);break}if(a.canvas.width=a.canvas.height=0,l){const t=l/(l+c);return i.set(e,t),t}return i.set(e,.8),.8}(u.fontFamily,e._isOffscreenCanvasSupported);let m,f;0===d?(m=c[4],f=c[5]-p):(m=c[4]+p*Math.sin(d),f=c[5]-p*Math.cos(d));const g="calc(var(--scale-factor)*",v=n.style;e._container===e._rootContainer?(v.left="".concat((100*m/e._pageWidth).toFixed(2),"%"),v.top="".concat((100*f/e._pageHeight).toFixed(2),"%")):(v.left="".concat(g).concat(m.toFixed(2),"px)"),v.top="".concat(g).concat(f.toFixed(2),"px)")),v.fontSize="".concat(g).concat(h.toFixed(2),"px)"),v.fontFamily=u.fontFamily,l.fontSize=h,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,e._fontInspectorEnabled&&(n.dataset.fontName=t.fontName),0!==d&&(l.angle=d*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),s=Math.abs(t.transform[3]);e!==s&&Math.max(e,s)/Math.min(e,s)>1.5&&(x=!0)}x&&(l.canvasWidth=u.vertical?t.height:t.width),e._textDivProperties.set(n,l),e._isReadableStream&&e._layoutText(n)}function c(e){const{div:t,scale:s,properties:a,ctx:n,prevFontSize:r,prevFontFamily:i}=e,{style:o}=t;let l="";if(0!==a.canvasWidth&&a.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:u}=a;r===u&&i===c||(n.font="".concat(u*s,"px ").concat(c),e.prevFontSize=u,e.prevFontFamily=c);const{width:h}=n.measureText(t.textContent);h>0&&(l="scaleX(".concat(d*s/h,")"))}0!==a.angle&&(l="rotate(".concat(a.angle,"deg) ").concat(l)),l.length>0&&(o.transform=l)}class d{constructor(e){var t;let{textContentSource:s,container:r,viewport:i,textDivs:l,textDivProperties:c,textContentItemsStr:d,isOffscreenCanvasSupported:u}=e;this._textContentSource=s,this._isReadableStream=s instanceof ReadableStream,this._container=this._rootContainer=r,this._textDivs=l||[],this._textContentItemsStr=d||[],this._isOffscreenCanvasSupported=u,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._textDivProperties=c||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:i.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,u)};const{pageWidth:h,pageHeight:p,pageX:m,pageY:f}=i.rawDims;this._transform=[1,0,0,-1,-m,f+p],this._pageWidth=h,this._pageHeight=p,(0,n.setLayerDimensions)(r,i),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const s of e)if(void 0!==s.str)this._textContentItemsStr.push(s.str),l(this,s,t);else if("beginMarkedContentProps"===s.type||"beginMarkedContent"===s.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==s.id&&this._container.setAttribute("id","".concat(s.id)),e.append(this._container)}else"endMarkedContent"===s.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,c(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=new a.PromiseCapability;let t=Object.create(null);if(this._isReadableStream){const s=()=>{this._reader.read().then(a=>{let{value:n,done:r}=a;r?e.resolve():(Object.assign(t,n.styles),this._processItems(n.items,t),s())},e.reject)};this._reader=this._textContentSource.getReader(),s()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:s}=this._textContentSource;this._processItems(t,s),e.resolve()}}e.promise.then(()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,s=e._capability;if(t.length>1e5)s.resolve();else{if(!e._isReadableStream)for(const s of t)e._layoutText(s);s.resolve()}}(this)},this._capability.reject)}}t.TextLayerRenderTask=d},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var a=s(1),n=s(4),r=s(28),i=s(33),o=s(6),l=s(34),c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakMap,x=new WeakMap,b=new WeakSet;class y{constructor(e){let{uiManager:t,pageIndex:s,div:a,accessibilityManager:n,annotationLayer:o,viewport:_,l10n:w}=e;_classPrivateMethodInitSpec(this,b),_classPrivateFieldInitSpec(this,c,void 0),_classPrivateFieldInitSpec(this,d,!1),_classPrivateFieldInitSpec(this,u,null),_classPrivateFieldInitSpec(this,h,this.pointerup.bind(this)),_classPrivateFieldInitSpec(this,p,this.pointerdown.bind(this)),_classPrivateFieldInitSpec(this,m,new Map),_classPrivateFieldInitSpec(this,f,!1),_classPrivateFieldInitSpec(this,g,!1),_classPrivateFieldInitSpec(this,v,!1),_classPrivateFieldInitSpec(this,x,void 0);const S=[r.FreeTextEditor,i.InkEditor,l.StampEditor];if(!y._initialized){y._initialized=!0;for(const e of S)e.initialize(w)}t.registerEditorTypes(S),_classPrivateFieldSet(x,this,t),this.pageIndex=s,this.div=a,_classPrivateFieldSet(c,this,n),_classPrivateFieldSet(u,this,o),this.viewport=_,_classPrivateFieldGet(x,this).addLayer(this)}get isEmpty(){return 0===_classPrivateFieldGet(m,this).size}updateToolbar(e){_classPrivateFieldGet(x,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(x,this).getMode();_assertClassBrand(b,this,P).call(this),e===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),e!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",e===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(e||_classPrivateFieldGet(x,this).getMode()===a.AnnotationEditorType.INK){if(!e)for(const e of _classPrivateFieldGet(m,this).values())if(e.isEmpty())return void e.setInBackground();_assertClassBrand(b,this,w).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){_classPrivateFieldGet(x,this).setEditingState(e)}addCommands(e){_classPrivateFieldGet(x,this).addCommands(e)}enable(){this.div.style.pointerEvents="auto";const e=new Set;for(const s of _classPrivateFieldGet(m,this).values())s.enableEditing(),s.annotationElementId&&e.add(s.annotationElementId);if(!_classPrivateFieldGet(u,this))return;const t=_classPrivateFieldGet(u,this).getEditableAnnotations();for(const s of t){if(s.hide(),_classPrivateFieldGet(x,this).isDeletedAnnotationElement(s.data.id))continue;if(e.has(s.data.id))continue;const t=this.deserialize(s);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){_classPrivateFieldSet(v,this,!0),this.div.style.pointerEvents="none";const e=new Set;for(const s of _classPrivateFieldGet(m,this).values()){var t;s.disableEditing(),s.annotationElementId&&null===s.serialize()?(null===(t=this.getEditableAnnotation(s.annotationElementId))||void 0===t||t.show(),s.remove()):e.add(s.annotationElementId)}if(_classPrivateFieldGet(u,this)){const t=_classPrivateFieldGet(u,this).getEditableAnnotations();for(const s of t){const{id:t}=s.data;e.has(t)||_classPrivateFieldGet(x,this).isDeletedAnnotationElement(t)||s.show()}}_assertClassBrand(b,this,P).call(this),this.isEmpty&&(this.div.hidden=!0),_classPrivateFieldSet(v,this,!1)}getEditableAnnotation(e){var t;return(null===(t=_classPrivateFieldGet(u,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){_classPrivateFieldGet(x,this).getActive()!==e&&_classPrivateFieldGet(x,this).setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(p,this)),this.div.addEventListener("pointerup",_classPrivateFieldGet(h,this))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(p,this)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(h,this))}attach(e){_classPrivateFieldGet(m,this).set(e.id,e);const{annotationElementId:t}=e;t&&_classPrivateFieldGet(x,this).isDeletedAnnotationElement(t)&&_classPrivateFieldGet(x,this).removeDeletedAnnotationElement(e)}detach(e){var t;_classPrivateFieldGet(m,this).delete(e.id),null===(t=_classPrivateFieldGet(c,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!_classPrivateFieldGet(v,this)&&e.annotationElementId&&_classPrivateFieldGet(x,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),_classPrivateFieldGet(x,this).removeEditor(e),e.div.contains(document.activeElement)&&setTimeout(()=>{_classPrivateFieldGet(x,this).focusMainContainer()},0),e.div.remove(),e.isAttachedToDOM=!1,_classPrivateFieldGet(g,this)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.annotationElementId&&(_classPrivateFieldGet(x,this).addDeletedAnnotationElement(e.annotationElementId),n.AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.changeParent(e),_classPrivateFieldGet(x,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),_classPrivateFieldGet(x,this).addToAnnotationStorage(e)}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:s}=document;e.div.contains(s)&&(e._focusEventsAllowed=!1,setTimeout(()=>{e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),s.focus())},0)),e._structTreeParentId=null===(t=_classPrivateFieldGet(c,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(x,this).getId()}pasteEditor(e,t){_classPrivateFieldGet(x,this).updateToolbar(e),_classPrivateFieldGet(x,this).updateMode(e);const{offsetX:s,offsetY:a}=_assertClassBrand(b,this,S).call(this),n=this.getNextId(),r=_assertClassBrand(b,this,_).call(this,_objectSpread({parent:this,id:n,x:s,y:a,uiManager:_classPrivateFieldGet(x,this),isCentered:!0},t));r&&this.add(r)}deserialize(e){var t;switch(null!==(t=e.annotationType)&&void 0!==t?t:e.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return r.FreeTextEditor.deserialize(e,this,_classPrivateFieldGet(x,this));case a.AnnotationEditorType.INK:return i.InkEditor.deserialize(e,this,_classPrivateFieldGet(x,this));case a.AnnotationEditorType.STAMP:return l.StampEditor.deserialize(e,this,_classPrivateFieldGet(x,this))}return null}addNewEditor(){_assertClassBrand(b,this,w).call(this,_assertClassBrand(b,this,S).call(this),!0)}setSelected(e){_classPrivateFieldGet(x,this).setSelected(e)}toggleSelected(e){_classPrivateFieldGet(x,this).toggleSelected(e)}isSelected(e){return _classPrivateFieldGet(x,this).isSelected(e)}unselect(e){_classPrivateFieldGet(x,this).unselect(e)}pointerup(e){const{isMac:t}=a.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&_classPrivateFieldGet(f,this)&&(_classPrivateFieldSet(f,this,!1),_classPrivateFieldGet(d,this)?_classPrivateFieldGet(x,this).getMode()!==a.AnnotationEditorType.STAMP?_assertClassBrand(b,this,w).call(this,e,!1):_classPrivateFieldGet(x,this).unselectAll():_classPrivateFieldSet(d,this,!0))}pointerdown(e){if(_classPrivateFieldGet(f,this))return void _classPrivateFieldSet(f,this,!1);const{isMac:t}=a.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;_classPrivateFieldSet(f,this,!0);const s=_classPrivateFieldGet(x,this).getActive();_classPrivateFieldSet(d,this,!s||s.isEmpty())}findNewParent(e,t,s){const a=_classPrivateFieldGet(x,this).findParent(t,s);return null!==a&&a!==this&&(a.changeParent(e),!0)}destroy(){var e;(null===(e=_classPrivateFieldGet(x,this).getActive())||void 0===e?void 0:e.parent)===this&&(_classPrivateFieldGet(x,this).commitOrRemove(),_classPrivateFieldGet(x,this).setActiveEditor(null));for(const s of _classPrivateFieldGet(m,this).values()){var t;null===(t=_classPrivateFieldGet(c,this))||void 0===t||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove()}this.div=null,_classPrivateFieldGet(m,this).clear(),_classPrivateFieldGet(x,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,(0,o.setLayerDimensions)(this.div,t);for(const s of _classPrivateFieldGet(x,this).getEditors(this.pageIndex))this.add(s);this.updateMode()}update(e){let{viewport:t}=e;_classPrivateFieldGet(x,this).commitOrRemove(),this.viewport=t,(0,o.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}function _(e){switch(_classPrivateFieldGet(x,this).getMode()){case a.AnnotationEditorType.FREETEXT:return new r.FreeTextEditor(e);case a.AnnotationEditorType.INK:return new i.InkEditor(e);case a.AnnotationEditorType.STAMP:return new l.StampEditor(e)}return null}function w(e,t){const s=this.getNextId(),a=_assertClassBrand(b,this,_).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:_classPrivateFieldGet(x,this),isCentered:t});return a&&this.add(a),a}function S(){const{x:e,y:t,width:s,height:a}=this.div.getBoundingClientRect(),n=Math.max(0,e),r=Math.max(0,t),i=(n+Math.min(window.innerWidth,e+s))/2-e,o=(r+Math.min(window.innerHeight,t+a))/2-t,[l,c]=this.viewport.rotation%180===0?[i,o]:[o,i];return{offsetX:l,offsetY:c}}function P(){_classPrivateFieldSet(g,this,!0);for(const e of _classPrivateFieldGet(m,this).values())e.isEmpty()&&e.remove();_classPrivateFieldSet(g,this,!1)}_defineProperty(y,"_initialized",!1),t.AnnotationEditorLayer=y},(e,t,s)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var n=s(1),r=s(5),i=s(4),o=s(29),l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakSet;class x extends i.AnnotationEditor{static get _keyboardManager(){const e=x.prototype,t=e=>e.isEmpty(),s=r.AnnotationEditorUIManager.TRANSLATE_SMALL,a=r.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new r.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}constructor(e){super(_objectSpread(_objectSpread({},e),{},{name:"freeTextEditor"})),_classPrivateMethodInitSpec(this,v),_classPrivateFieldInitSpec(this,l,this.editorDivBlur.bind(this)),_classPrivateFieldInitSpec(this,c,this.editorDivFocus.bind(this)),_classPrivateFieldInitSpec(this,d,this.editorDivInput.bind(this)),_classPrivateFieldInitSpec(this,u,this.editorDivKeydown.bind(this)),_classPrivateFieldInitSpec(this,h,void 0),_classPrivateFieldInitSpec(this,p,""),_classPrivateFieldInitSpec(this,m,"".concat(this.id,"-editor")),_classPrivateFieldInitSpec(this,f,void 0),_classPrivateFieldInitSpec(this,g,null),_classPrivateFieldSet(h,this,e.color||x._defaultColor||i.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(f,this,e.fontSize||x._defaultFontSize)}static initialize(e){i.AnnotationEditor.initialize(e,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case n.AnnotationEditorParamsType.FREETEXT_SIZE:x._defaultFontSize=t;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:x._defaultColor=t}}updateParams(e,t){switch(e){case n.AnnotationEditorParamsType.FREETEXT_SIZE:_assertClassBrand(v,this,b).call(this,t);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:_assertClassBrand(v,this,y).call(this,t)}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,x._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,x._defaultColor||i.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(f,this)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(h,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-x._internalPadding*e,-(x._internalPadding+_classPrivateFieldGet(f,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(u,this)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(c,this)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(l,this)),this.editorDiv.addEventListener("input",_classPrivateFieldGet(d,this)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(m,this)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(u,this)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(c,this)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(l,this)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet(d,this)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width?_assertClassBrand(v,this,A).call(this):(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=_classPrivateFieldGet(p,this),t=_classPrivateFieldSet(p,this,_assertClassBrand(v,this,_).call(this).trimEnd());if(e===t)return;const s=e=>{_classPrivateFieldSet(p,this,e),e?(_assertClassBrand(v,this,S).call(this),this._uiManager.rebuild(this),_assertClassBrand(v,this,w).call(this)):this.remove()};this.addCommands({cmd:()=>{s(t)},undo:()=>{s(e)},mustExec:!1}),_assertClassBrand(v,this,w).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){x._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(m,this)),this.enableEditing(),i.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("aria-label",e)}),i.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize="calc(".concat(_classPrivateFieldGet(f,this),"px * var(--scale-factor))"),s.color=_classPrivateFieldGet(h,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:n}=_classPrivateFieldGet(g,this);let[r,i]=this.getInitialTranslation();[r,i]=this.pageTranslationToScreen(r,i);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(n[0]-c)/o,h=t+this.height-(n[1]-d)/l;break;case 90:u=e+(n[0]-c)/o,h=t-(n[1]-d)/l,[r,i]=[i,-r];break;case 180:u=e-this.width+(n[0]-c)/o,h=t-(n[1]-d)/l,[r,i]=[-r,-i];break;case 270:u=e+(n[0]-c-this.height*l)/o,h=t+(n[1]-d-this.width*o)/l,[r,i]=[-i,r]}this.setAt(u*s,h*a,r,i)}else this.setAt(e*s,t*a,this.width*s,this.height*a);_assertClassBrand(v,this,S).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t,s){let a=null;if(e instanceof o.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:t,fontColor:s},rect:r,rotation:i,id:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=e;if(!l||0===l.length)return null;a=e={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(s),fontSize:t,value:l.join("\n"),position:c,pageIndex:d-1,rect:r,rotation:i,id:o,deleted:!1}}const r=super.deserialize(e,t,s);return _classPrivateFieldSet(f,r,e.fontSize),_classPrivateFieldSet(h,r,n.Util.makeHexColor(...e.color)),_classPrivateFieldSet(p,r,e.value),r.annotationElementId=e.id||null,_classPrivateFieldSet(g,r,a),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=x._internalPadding*this.parentScale,s=this.getRect(t,t),a=i.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(h,this)),r={annotationType:n.AnnotationEditorType.FREETEXT,color:a,fontSize:_classPrivateFieldGet(f,this),value:_classPrivateFieldGet(p,this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?r:this.annotationElementId&&!_assertClassBrand(v,this,P).call(this,r)?null:(r.id=this.annotationElementId,r)}}function b(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-_classPrivateFieldGet(f,this))*this.parentScale),_classPrivateFieldSet(f,this,e),_assertClassBrand(v,this,w).call(this)},s=_classPrivateFieldGet(f,this);this.addCommands({cmd:()=>{t(e)},undo:()=>{t(s)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function y(e){const t=_classPrivateFieldGet(h,this);this.addCommands({cmd:()=>{_classPrivateFieldSet(h,this,this.editorDiv.style.color=e)},undo:()=>{_classPrivateFieldSet(h,this,this.editorDiv.style.color=t)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function _(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const s of e)t.push(s.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}function w(){const[e,t]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,a=t.style.display;t.style.display="hidden",e.div.append(this.div),s=t.getBoundingClientRect(),t.remove(),t.style.display=a}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/t):(this.width=s.height/e,this.height=s.width/t),this.fixAndSetPosition()}function S(){if(this.editorDiv.replaceChildren(),_classPrivateFieldGet(p,this))for(const e of _classPrivateFieldGet(p,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function P(e){const{value:t,fontSize:s,color:a,rect:n,pageIndex:r}=_classPrivateFieldGet(g,this);return e.value!==t||e.fontSize!==s||e.rect.some((e,t)=>Math.abs(e-n[t])>=1)||e.color.some((e,t)=>e!==a[t])||e.pageIndex!==r}function A(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.annotationElementId)return;if(_assertClassBrand(v,this,w).call(this),!e&&(0===this.width||0===this.height))return void setTimeout(()=>_assertClassBrand(v,this,A).call(this,!0),0);const t=a._internalPadding*this.parentScale;_classPrivateFieldGet(g,this).rect=this.getRect(t,t)}a=x,_defineProperty(x,"_freeTextDefaultContent",""),_defineProperty(x,"_internalPadding",0),_defineProperty(x,"_defaultColor",null),_defineProperty(x,"_defaultFontSize",10),_defineProperty(x,"_type","freetext"),t.FreeTextEditor=x},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var a=s(1),n=s(6),r=s(3),i=s(30),o=s(31),l=s(32);const c=1e3,d=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class h{static create(e){switch(e.data.annotationType){case a.AnnotationType.LINK:return new g(e);case a.AnnotationType.TEXT:return new b(e);case a.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new _(e);case"Btn":return e.data.radioButton?new P(e):e.data.checkBox?new S(e):new A(e);case"Ch":return new k(e);case"Sig":return new w(e)}return new y(e);case a.AnnotationType.POPUP:return new C(e);case a.AnnotationType.FREETEXT:return new J(e);case a.AnnotationType.LINE:return new Z(e);case a.AnnotationType.SQUARE:return new te(e);case a.AnnotationType.CIRCLE:return new ae(e);case a.AnnotationType.POLYLINE:return new re(e);case a.AnnotationType.CARET:return new oe(e);case a.AnnotationType.INK:return new ce(e);case a.AnnotationType.POLYGON:return new ie(e);case a.AnnotationType.HIGHLIGHT:return new de(e);case a.AnnotationType.UNDERLINE:return new ue(e);case a.AnnotationType.SQUIGGLY:return new he(e);case a.AnnotationType.STRIKEOUT:return new pe(e);case a.AnnotationType.STAMP:return new me(e);case a.AnnotationType.FILEATTACHMENT:return new ve(e);default:return new m(e)}}}var p=new WeakMap;class m{constructor(e){let{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classPrivateFieldInitSpec(this,p,!1),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:s,richText:a}=e;return!!(null!==t&&void 0!==t&&t.str||null!==s&&void 0!==s&&s.str||null!==a&&void 0!==a&&a.str)}get hasPopupData(){return m._hasPopupData(this.data)}_createContainer(e){const{data:t,parent:{page:s,viewport:n}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof y||(r.tabIndex=c),r.style.zIndex=this.parent.zIndex++,this.data.popupRef&&r.setAttribute("aria-haspopup","dialog"),t.noRotate&&r.classList.add("norotate");const{pageWidth:i,pageHeight:o,pageX:l,pageY:d}=n.rawDims;if(!t.rect||this instanceof C){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,r),r}const{width:h,height:m}=u(t.rect),f=a.Util.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]);if(!e&&t.borderStyle.width>0){r.style.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,s=t.borderStyle.verticalCornerRadius;if(e>0||s>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(s,"px * var(--scale-factor))");r.style.borderRadius=t}else if(this instanceof P){const e="calc(".concat(h,"px * var(--scale-factor)) / calc(").concat(m,"px * var(--scale-factor))");r.style.borderRadius=e}switch(t.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:r.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:r.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:r.style.borderBottomStyle="solid"}const n=t.borderColor||null;n?(_classPrivateFieldSet(p,this,!0),r.style.borderColor=a.Util.makeHexColor(0|n[0],0|n[1],0|n[2])):r.style.borderWidth=0}r.style.left="".concat(100*(f[0]-l)/i,"%"),r.style.top="".concat(100*(f[1]-d)/o,"%");const{rotation:g}=t;return t.hasOwnCanvas||0===g?(r.style.width="".concat(100*h/i,"%"),r.style.height="".concat(100*m/o,"%")):this.setRotation(g,r),r}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims,{width:n,height:r}=u(this.data.rect);let i,o;e%180===0?(i=100*n/s,o=100*r/a):(i=100*r/s,o=100*n/a),t.style.width="".concat(i,"%"),t.style.height="".concat(o,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,s)=>{const a=s.detail[e],n=a[0],r=a.slice(1);s.target.style[t]=i.ColorConverters["".concat(n,"_HTML")](r),this.annotationStorage.setValue(this.data.id,{[t]:i.ColorConverters["".concat(n,"_rgb")](r)})};return(0,a.shadow)(this,"_commonActions",{display:e=>{const{display:t}=e.detail,s=t%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const a of Object.keys(t.detail)){const n=e[a]||s[a];null===n||void 0===n||n(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[a,n]of Object.entries(t)){const r=s[a];r&&(r({detail:{[a]:n},target:e}),delete t[a])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,a,n]=this.data.rect;if(1===e.length){const[,{x:r,y:i},{x:o,y:l}]=e[0];if(a===r&&n===i&&t===o&&s===l)return}const{style:r}=this.container;let i;if(_classPrivateFieldGet(p,this)){const{borderColor:e,borderWidth:t}=r;r.borderWidth=0,i=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=a-t,l=n-s,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),m="clippath_".concat(this.data.id);h.setAttribute("id",m),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(const[,{x:p,y:g},{x:v,y:x}]of e){var f;const e=c.createElement("rect"),s=(v-t)/o,a=(n-g)/l,r=(p-v)/o,d=(g-x)/l;e.setAttribute("x",s),e.setAttribute("y",a),e.setAttribute("width",r),e.setAttribute("height",d),h.append(e),null===(f=i)||void 0===f||f.push('<rect vector-effect="non-scaling-stroke" x="'.concat(s,'" y="').concat(a,'" width="').concat(r,'" height="').concat(d,'"/>'))}_classPrivateFieldGet(p,this)&&(i.push("</g></svg>')"),r.backgroundImage=i.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(m,")")}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const s=new C({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(s.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=[];if(this._fieldObjects){const n=this._fieldObjects[e];if(n)for(const{page:e,id:r,exportValues:i}of n){if(-1===e)continue;if(r===t)continue;const n="string"===typeof i?i:null,o=document.querySelector('[data-element-id="'.concat(r,'"]'));!o||d.has(o)?s.push({id:r,exportValue:n,domElement:o}):(0,a.warn)("_getElementsByName - element not allowed: ".concat(r))}return s}for(const a of document.getElementsByName(e)){const{exportValue:e}=a,n=a.getAttribute("data-element-id");n!==t&&d.has(a)&&s.push({id:n,exportValue:e,domElement:a})}return s}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}var f=new WeakSet;class g extends m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),_classPrivateMethodInitSpec(this,f),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(this._bindAttachment(s,e.attachment),a=!0):e.setOCGState?(_assertClassBrand(f,this,x).call(this,s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&_assertClassBrand(f,this,v).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),_assertClassBrand(f,this,v).call(this)}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,t.content,t.filename),!1},_assertClassBrand(f,this,v).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(t.actions)){const n=s.get(a);n&&(e[n]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),_assertClassBrand(f,this,v).call(this)}_bindResetFormAction(e,t){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),_assertClassBrand(f,this,v).call(this),!this._fieldObjects)return(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(s||(e.onclick=()=>!1));e.onclick=()=>{null===s||void 0===s||s();const{fields:e,refs:n,include:r}=t,i=[];if(0!==e.length||0!==n.length){const t=new Set(n);for(const s of e){const e=this._fieldObjects[s]||[];for(const{id:s}of e)t.add(s)}for(const e of Object.values(this._fieldObjects))for(const s of e)t.has(s.id)===r&&i.push(s)}else for(const t of Object.values(this._fieldObjects))i.push(...t);const o=this.annotationStorage,l=[];for(const t of i){const{id:e}=t;switch(l.push(e),t.type){case"text":{const s=t.defaultValue||"";o.setValue(e,{value:s});break}case"checkbox":case"radiobutton":{const s=t.defaultValue===t.exportValues;o.setValue(e,{value:s});break}case"combobox":case"listbox":{const s=t.defaultValue||"";o.setValue(e,{value:s});break}default:continue}const s=document.querySelector('[data-element-id="'.concat(e,'"]'));s&&(d.has(s)?s.dispatchEvent(new Event("resetform")):(0,a.warn)("_bindResetFormAction - element not allowed: ".concat(e)))}var c;return this.enableScripting&&(null===(c=this.linkService.eventBus)||void 0===c||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}function v(){this.container.setAttribute("data-internal-link","")}function x(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),_assertClassBrand(f,this,v).call(this)}class b extends m{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class y extends m{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){const{isWin:t,isMac:s}=a.FeatureTest.platform;return t&&e.ctrlKey||s&&e.metaKey}_setEventListener(e,t,s,a,n){s.includes("mouse")?e.addEventListener(s,e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:n(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(s,e=>{var r;if("blur"===s){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===s){if(t.focused)return;t.focused=!0}n&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:n(e)}}))})}_setEventListeners(e,t,s,a){for(const[o,l]of s){var n,r,i;("Action"===l||null!==(n=this.data.actions)&&void 0!==n&&n[l])&&("Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,a),"Focus"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Blur?"Blur"!==l||null!==(i=this.data.actions)&&void 0!==i&&i.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":a.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,r=e.style;let i;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(a.LINE_FACTOR*n))||1);i=Math.min(n,o(t/a.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);i=Math.min(n,o(e/a.LINE_FACTOR))}r.fontSize="calc(".concat(i,"px * var(--scale-factor))"),r.color=a.Util.makeHexColor(s[0],s[1],s[2]),null!==this.data.textAlignment&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class _ extends y{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,s,a){const n=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=s),n.setValue(r.id,{[a]:s})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){var a;const r=e.getValue(t,{value:this.data.fieldValue});let i=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&i.length>o&&(i=i.slice(0,o));let l=r.formattedValue||(null===(a=this.data.textContent)||void 0===a?void 0:a.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:i,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=null!==l&&void 0!==l?l:i,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",null!==l&&void 0!==l?l:i),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),d.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=c,this._setRequired(s,this.data.required),o&&(s.maxLength=o),s.addEventListener("input",a=>{e.setValue(t,{value:a.target.value}),this.setPropertyOnSiblings(s,"value",a.target.value,"value"),u.formattedValue=null}),s.addEventListener("resetform",e=>{var t;const a=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";s.value=u.userValue=a,u.formattedValue=null});let h=e=>{const{formattedValue:t}=u;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var n;s.addEventListener("focus",e=>{if(u.focused)return;const{target:t}=e;u.userValue&&(t.value=u.userValue),u.lastCommittedValue=t.value,u.commitKey=1,u.focused=!0}),s.addEventListener("updatefromsandbox",s=>{this.showElementAndHideCanvas(s.target);const a={value(s){var a;u.userValue=null!==(a=s.detail.value)&&void 0!==a?a:"",e.setValue(t,{value:u.userValue.toString()}),s.target.value=u.userValue},formattedValue(s){const{formattedValue:a}=s.detail;u.formattedValue=a,null!==a&&void 0!==a&&s.target!==document.activeElement&&(s.target.value=a),e.setValue(t,{formattedValue:a})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:s=>{var a;const{charLimit:n}=s.detail,{target:r}=s;if(0===n)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",n);let i=u.userValue;!i||i.length<=n||(i=i.slice(0,n),r.value=u.userValue=i,e.setValue(t,{value:i}),null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(a,s)}),s.addEventListener("keydown",e=>{var s;u.commitKey=1;let a=-1;if("Escape"===e.key?a=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(u.commitKey=3):a=2,-1===a)return;const{value:n}=e.target;u.lastCommittedValue!==n&&(u.lastCommittedValue=n,u.userValue=n,null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:a,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const a=h;h=null,s.addEventListener("blur",e=>{if(!u.focused||!e.relatedTarget)return;u.focused=!1;const{value:s}=e.target;var n;u.userValue=s,u.lastCommittedValue!==s&&(null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:u.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),a(e)}),null!==(n=this.data.actions)&&void 0!==n&&n.Keystroke&&s.addEventListener("beforeinput",e=>{var s;u.lastCommittedValue=null;const{data:a,target:n}=e,{value:r,selectionStart:i,selectionEnd:o}=n;let l=i,c=o;switch(e.inputType){case"deleteWordBackward":{const e=r.substring(0,i).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=r.substring(i).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":i===o&&(l-=1);break;case"deleteContentForward":i===o&&(c+=1)}e.preventDefault(),null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,change:a||"",willCommit:!1,selStart:l,selEnd:c}})}),this._setEventListeners(s,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(h&&s.addEventListener("blur",h),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;s.classList.add("comb"),s.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell";return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class w extends y{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class S extends y{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let a=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;"string"===typeof a&&(a="Off"!==a,e.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const n=document.createElement("input");return d.add(n),n.setAttribute("data-element-id",s),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="checkbox",n.name=t.fieldName,a&&n.setAttribute("checked",!0),n.setAttribute("exportValue",t.exportValue),n.tabIndex=c,n.addEventListener("change",a=>{const{name:n,checked:r}=a.target;for(const i of this._getElementsByName(n,s)){const s=r&&i.exportValue===t.exportValue;i.domElement&&(i.domElement.checked=s),e.setValue(i.id,{value:s})}e.setValue(s,{value:r})}),n.addEventListener("resetform",e=>{const s=t.defaultFieldValue||"Off";e.target.checked=s===t.exportValue}),this.enableScripting&&this.hasJSActions&&(n.addEventListener("updatefromsandbox",t=>{const a={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(s,{value:t.target.checked})}};this._dispatchEventFromSandbox(a,t)}),this._setEventListeners(n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class P extends y{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let a=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof a&&(a=a!==t.buttonValue,e.setValue(s,{value:a}));const n=document.createElement("input");if(d.add(n),n.setAttribute("data-element-id",s),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="radio",n.name=t.fieldName,a&&n.setAttribute("checked",!0),n.tabIndex=c,n.addEventListener("change",t=>{const{name:a,checked:n}=t.target;for(const r of this._getElementsByName(a,s))e.setValue(r.id,{value:!1});e.setValue(s,{value:n})}),n.addEventListener("resetform",e=>{const s=t.defaultFieldValue;e.target.checked=null!==s&&void 0!==s&&s===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;n.addEventListener("updatefromsandbox",t=>{const n={value:t=>{const n=a===t.detail.value;for(const a of this._getElementsByName(t.target.name)){const t=n&&a.id===s;a.domElement&&(a.domElement.checked=t),e.setValue(a.id,{value:t})}}};this._dispatchEventFromSandbox(n,t)}),this._setEventListeners(n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class A extends g{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class k extends y{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");d.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=c;let n=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const s of a.options)s.selected=s.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,s.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),n=!1),a.append(e)}let r=null;if(n){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),a.prepend(e),r=()=>{e.remove(),a.removeEventListener("input",r),r=null},a.addEventListener("input",r)}const i=e=>{const t=e?"value":"textContent",{options:s,multiple:n}=a;return n?Array.prototype.filter.call(s,e=>e.selected).map(e=>e[t]):-1===s.selectedIndex?null:s[s.selectedIndex][t]};let o=i(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",s=>{const n={value(s){var n;null===(n=r)||void 0===n||n();const l=s.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of a.options)e.selected=c.has(e.value);e.setValue(t,{value:i(!0)}),o=i(!1)},multipleSelection(e){a.multiple=!0},remove(s){const n=a.options,r=s.detail.remove;n[r].selected=!1,a.remove(r),n.length>0&&-1===Array.prototype.findIndex.call(n,e=>e.selected)&&(n[0].selected=!0),e.setValue(t,{value:i(!0),items:l(s)}),o=i(!1)},clear(s){for(;0!==a.length;)a.remove(0);e.setValue(t,{value:null,items:[]}),o=i(!1)},insert(s){const{index:n,displayValue:r,exportValue:c}=s.detail.insert,d=a.children[n],u=document.createElement("option");u.textContent=r,u.value=c,d?d.before(u):a.append(u),e.setValue(t,{value:i(!0),items:l(s)}),o=i(!1)},items(s){const{items:n}=s.detail;for(;0!==a.length;)a.remove(0);for(const e of n){const{displayValue:t,exportValue:s}=e,n=document.createElement("option");n.textContent=t,n.value=s,a.append(n)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:i(!0),items:l(s)}),o=i(!1)},indices(s){const a=new Set(s.detail.indices);for(const e of s.target.options)e.selected=a.has(e.index);e.setValue(t,{value:i(!0)}),o=i(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(n,s)}),a.addEventListener("input",s=>{var a;const n=i(!0);e.setValue(t,{value:n}),s.preventDefault(),null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,changeEx:n,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):a.addEventListener("input",function(s){e.setValue(t,{value:i(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class C extends m{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:m._hasPopupData(t)}),this.elements=s}render(){this.container.classList.add("popupAnnotation");const e=new q({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(e=>"".concat(a.AnnotationPrefix).concat(e)).join(",")),this.container}}var F=new WeakMap,E=new WeakMap,N=new WeakMap,j=new WeakMap,T=new WeakMap,M=new WeakMap,R=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,O=new WeakMap,G=new WeakMap,B=new WeakMap,W=new WeakMap,z=new WeakMap,U=new WeakMap,H=new WeakMap,V=new WeakSet;class q{constructor(e){let{container:t,color:s,elements:a,titleObj:r,modificationDate:i,contentsObj:o,richText:l,parent:c,rect:d,parentRect:u,open:h}=e;_classPrivateMethodInitSpec(this,V),_classPrivateFieldInitSpec(this,F,null),_classPrivateFieldInitSpec(this,E,_assertClassBrand(V,this,K).bind(this)),_classPrivateFieldInitSpec(this,N,_assertClassBrand(V,this,Q).bind(this)),_classPrivateFieldInitSpec(this,j,_assertClassBrand(V,this,Y).bind(this)),_classPrivateFieldInitSpec(this,T,_assertClassBrand(V,this,X).bind(this)),_classPrivateFieldInitSpec(this,M,null),_classPrivateFieldInitSpec(this,R,null),_classPrivateFieldInitSpec(this,D,null),_classPrivateFieldInitSpec(this,I,null),_classPrivateFieldInitSpec(this,L,null),_classPrivateFieldInitSpec(this,O,null),_classPrivateFieldInitSpec(this,G,!1),_classPrivateFieldInitSpec(this,B,null),_classPrivateFieldInitSpec(this,W,null),_classPrivateFieldInitSpec(this,z,null),_classPrivateFieldInitSpec(this,U,null),_classPrivateFieldInitSpec(this,H,!1),_classPrivateFieldSet(R,this,t),_classPrivateFieldSet(U,this,r),_classPrivateFieldSet(D,this,o),_classPrivateFieldSet(z,this,l),_classPrivateFieldSet(L,this,c),_classPrivateFieldSet(M,this,s),_classPrivateFieldSet(W,this,d),_classPrivateFieldSet(O,this,u),_classPrivateFieldSet(I,this,a);const p=n.PDFDateString.toDateObject(i);p&&_classPrivateFieldSet(F,this,c.l10n.get("annotation_date_string",{date:p.toLocaleDateString(),time:p.toLocaleTimeString()})),this.trigger=a.flatMap(e=>e.getElementsToTriggerPopup());for(const n of this.trigger)n.addEventListener("click",_classPrivateFieldGet(T,this)),n.addEventListener("mouseenter",_classPrivateFieldGet(j,this)),n.addEventListener("mouseleave",_classPrivateFieldGet(N,this)),n.classList.add("popupTriggerArea");for(const n of a){var m;null===(m=n.container)||void 0===m||m.addEventListener("keydown",_classPrivateFieldGet(E,this))}_classPrivateFieldGet(R,this).hidden=!0,h&&_assertClassBrand(V,this,X).call(this)}render(){if(_classPrivateFieldGet(B,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:n,pageY:r}}}=_classPrivateFieldGet(L,this),i=_classPrivateFieldSet(B,this,document.createElement("div"));if(i.className="popup",_classPrivateFieldGet(M,this)){const e=i.style.outlineColor=a.Util.makeHexColor(..._classPrivateFieldGet(M,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))i.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{const e=.7;i.style.backgroundColor=a.Util.makeHexColor(..._classPrivateFieldGet(M,this).map(t=>Math.floor(e*(255-t)+t)))}}const o=document.createElement("span");o.className="header";const c=document.createElement("h1");if(o.append(c),({dir:c.dir,str:c.textContent}=_classPrivateFieldGet(U,this)),i.append(o),_classPrivateFieldGet(F,this)){const e=document.createElement("span");e.classList.add("popupDate"),_classPrivateFieldGet(F,this).then(t=>{e.textContent=t}),o.append(e)}const d=_classPrivateFieldGet(D,this),u=_classPrivateFieldGet(z,this);if(null===u||void 0===u||!u.str||null!==d&&void 0!==d&&d.str&&d.str!==u.str){const e=this._formatContents(d);i.append(e)}else l.XfaLayer.render({xfaHtml:u.html,intent:"richText",div:i}),i.lastChild.classList.add("richText","popupContent");let h=!!_classPrivateFieldGet(O,this),p=_classPrivateFieldGet(h?O:W,this);for(const l of _classPrivateFieldGet(I,this))if(!p||null!==a.Util.intersect(l.data.rect,p)){p=l.data.rect,h=!0;break}const m=a.Util.normalizeRect([p[0],e[3]-p[1]+e[1],p[2],e[3]-p[3]+e[1]]),f=h?p[2]-p[0]+5:0,g=m[0]+f,v=m[1],{style:x}=_classPrivateFieldGet(R,this);x.left="".concat(100*(g-n)/t,"%"),x.top="".concat(100*(v-r)/s,"%"),_classPrivateFieldGet(R,this).append(i)}_formatContents(e){let{str:t,dir:s}=e;const a=document.createElement("p");a.classList.add("popupContent"),a.dir=s;const n=t.split(/(?:\r\n?|\n)/);for(let r=0,i=n.length;r<i;++r){const e=n[r];a.append(document.createTextNode(e)),r<i-1&&a.append(document.createElement("br"))}return a}forceHide(){_classPrivateFieldSet(H,this,this.isVisible),_classPrivateFieldGet(H,this)&&(_classPrivateFieldGet(R,this).hidden=!0)}maybeShow(){_classPrivateFieldGet(H,this)&&(_classPrivateFieldSet(H,this,!1),_classPrivateFieldGet(R,this).hidden=!1)}get isVisible(){return!1===_classPrivateFieldGet(R,this).hidden}}function K(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&_classPrivateFieldGet(G,this))&&_assertClassBrand(V,this,X).call(this)}function X(){_classPrivateFieldSet(G,this,!_classPrivateFieldGet(G,this)),_classPrivateFieldGet(G,this)?(_assertClassBrand(V,this,Y).call(this),_classPrivateFieldGet(R,this).addEventListener("click",_classPrivateFieldGet(T,this)),_classPrivateFieldGet(R,this).addEventListener("keydown",_classPrivateFieldGet(E,this))):(_assertClassBrand(V,this,Q).call(this),_classPrivateFieldGet(R,this).removeEventListener("click",_classPrivateFieldGet(T,this)),_classPrivateFieldGet(R,this).removeEventListener("keydown",_classPrivateFieldGet(E,this)))}function Y(){_classPrivateFieldGet(B,this)||this.render(),this.isVisible?_classPrivateFieldGet(G,this)&&_classPrivateFieldGet(R,this).classList.add("focused"):(_classPrivateFieldGet(R,this).hidden=!1,_classPrivateFieldGet(R,this).style.zIndex=parseInt(_classPrivateFieldGet(R,this).style.zIndex)+1e3)}function Q(){_classPrivateFieldGet(R,this).classList.remove("focused"),!_classPrivateFieldGet(G,this)&&this.isVisible&&(_classPrivateFieldGet(R,this).hidden=!0,_classPrivateFieldGet(R,this).style.zIndex=parseInt(_classPrivateFieldGet(R,this).style.zIndex)-1e3)}class J extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=J;var $=new WeakMap;class Z extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,$,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:s}=u(e.rect),a=this.svgFactory.create(t,s,!0),n=_classPrivateFieldSet($,this,this.svgFactory.createElement("svg:line"));return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),a.append(n),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet($,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ee=new WeakMap;class te extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,ee,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:s}=u(e.rect),a=this.svgFactory.create(t,s,!0),n=e.borderStyle.width,r=_classPrivateFieldSet(ee,this,this.svgFactory.createElement("svg:rect"));return r.setAttribute("x",n/2),r.setAttribute("y",n/2),r.setAttribute("width",t-n),r.setAttribute("height",s-n),r.setAttribute("stroke-width",n||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(ee,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var se=new WeakMap;class ae extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,se,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:s}=u(e.rect),a=this.svgFactory.create(t,s,!0),n=e.borderStyle.width,r=_classPrivateFieldSet(se,this,this.svgFactory.createElement("svg:ellipse"));return r.setAttribute("cx",t/2),r.setAttribute("cy",s/2),r.setAttribute("rx",t/2-n/2),r.setAttribute("ry",s/2-n/2),r.setAttribute("stroke-width",n||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(se,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ne=new WeakMap;class re extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,ne,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:s}=u(e.rect),a=this.svgFactory.create(t,s,!0);let n=[];for(const i of e.vertices){const t=i.x-e.rect[0],s=e.rect[3]-i.y;n.push(t+","+s)}n=n.join(" ");const r=_classPrivateFieldSet(ne,this,this.svgFactory.createElement(this.svgElementName));return r.setAttribute("points",n),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(ne,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class ie extends re{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oe extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var le=new WeakMap;class ce extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,le,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:s}=u(e.rect),a=this.svgFactory.create(t,s,!0);for(const n of e.inkLists){let t=[];for(const a of n){const s=a.x-e.rect[0],n=e.rect[3]-a.y;t.push("".concat(s,",").concat(n))}t=t.join(" ");const s=this.svgFactory.createElement(this.svgElementName);_classPrivateFieldGet(le,this).push(s),s.setAttribute("points",t),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),a.append(s)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(le,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}t.InkAnnotationElement=ce;class de extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ue extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class he extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class pe extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class me extends m{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=me;var fe=new WeakMap,ge=new WeakSet;class ve extends m{constructor(e){var t;super(e,{isRenderable:!0}),_classPrivateMethodInitSpec(this,ge),_classPrivateFieldInitSpec(this,fe,null);const{filename:s,content:a}=this.data.file;this.filename=(0,n.getFilenameFromUrl)(s,!0),this.content=a,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,filename:s,content:a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let s;t.hasAppearance||0===t.fillAlpha?s=document.createElement("div"):(s=document.createElement("img"),s.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(s.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),s.addEventListener("dblclick",_assertClassBrand(ge,this,xe).bind(this)),_classPrivateFieldSet(fe,this,s);const{isMac:n}=a.FeatureTest.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(n?e.metaKey:e.ctrlKey)&&_assertClassBrand(ge,this,xe).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return _classPrivateFieldGet(fe,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function xe(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}var be=new WeakMap,ye=new WeakMap,_e=new WeakMap,we=new WeakSet;function Se(e,t){var s;const n=e.firstChild||e;n.id="".concat(a.AnnotationPrefix).concat(t),this.div.append(e),null===(s=_classPrivateFieldGet(be,this))||void 0===s||s.moveElementInDOM(this.div,e,n,!1)}function Pe(){if(!_classPrivateFieldGet(ye,this))return;const e=this.div;for(const[t,s]of _classPrivateFieldGet(ye,this)){const a=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!a)continue;const{firstChild:n}=a;n?"CANVAS"===n.nodeName?n.replaceWith(s):n.before(s):a.append(s)}_classPrivateFieldGet(ye,this).clear()}t.AnnotationLayer=class{constructor(e){let{div:t,accessibilityManager:s,annotationCanvasMap:a,l10n:n,page:r,viewport:i}=e;_classPrivateMethodInitSpec(this,we),_classPrivateFieldInitSpec(this,be,null),_classPrivateFieldInitSpec(this,ye,null),_classPrivateFieldInitSpec(this,_e,new Map),this.div=t,_classPrivateFieldSet(be,this,s),_classPrivateFieldSet(ye,this,a),this.l10n=n,this.page=r,this.viewport=i,this.zIndex=0,this.l10n||(this.l10n=o.NullL10n)}async render(e){const{annotations:t}=e,s=this.div;(0,n.setLayerDimensions)(s,this.viewport);const i=new Map,o={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new n.DOMSVGFactory,annotationStorage:e.annotationStorage||new r.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const n of t){if(n.noHTML)continue;const e=n.annotationType===a.AnnotationType.POPUP;if(e){const e=i.get(n.id);if(!e)continue;o.elements=e}else{const{width:e,height:t}=u(n.rect);if(e<=0||t<=0)continue}o.data=n;const t=h.create(o);if(!t.isRenderable)continue;if(!e&&n.popupRef){const e=i.get(n.popupRef);e?e.push(t):i.set(n.popupRef,[t])}t.annotationEditorType>0&&_classPrivateFieldGet(_e,this).set(t.data.id,t);const s=t.render();n.hidden&&(s.style.visibility="hidden"),_assertClassBrand(we,this,Se).call(this,s,n.id)}_assertClassBrand(we,this,Pe).call(this),await this.l10n.translate(s)}update(e){let{viewport:t}=e;const s=this.div;this.viewport=t,(0,n.setLayerDimensions)(s,{rotation:t.rotation}),_assertClassBrand(we,this,Pe).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(_classPrivateFieldGet(_e,this).values())}getEditableAnnotation(e){return _classPrivateFieldGet(_e,this).get(e)}}},(e,t)=>{function s(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function a(e){return Math.max(0,Math.min(255,255*e))}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,s,a,n]=e;return["G",1-Math.min(1,.3*t+.59*a+.11*s+n)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=a(t),[t,t,t]}static G_HTML(e){let[t]=e;const a=s(t);return"#".concat(a).concat(a).concat(a)}static RGB_G(e){let[t,s,a]=e;return["G",.3*t+.59*s+.11*a]}static RGB_rgb(e){return e.map(a)}static RGB_HTML(e){return"#".concat(e.map(s).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,s,a,n]=e;return["RGB",1-Math.min(1,t+n),1-Math.min(1,a+n),1-Math.min(1,s+n)]}static CMYK_rgb(e){let[t,s,n,r]=e;return[a(1-Math.min(1,t+r)),a(1-Math.min(1,n+r)),a(1-Math.min(1,s+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,s,a]=e;const n=1-t,r=1-s,i=1-a;return["CMYK",n,r,i,Math.min(n,r,i)]}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=a;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function a(e,t){switch(e){case"find_match_count":e="find_match_count[".concat(1===t.total?"one":"other","]");break;case"find_match_count_limit":e="find_match_count_limit[".concat(1===t.limit?"one":"other","]")}return s[e]||""}s.print_progress_percent="{{progress}}%";const n={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,t){return t?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(e,s)=>s in t?t[s]:"{{"+s+"}}"):e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:a(e,t),t)},async translate(e){}};t.NullL10n=n},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var a=s(25);t.XfaLayer=class{static setupStorage(e,t,s,a,n){const r=a.getValue(t,{value:null});switch(s.name){case"textarea":if(null!==r.value&&(e.textContent=r.value),"print"===n)break;e.addEventListener("input",e=>{a.setValue(t,{value:e.target.value})});break;case"input":if("radio"===s.attributes.type||"checkbox"===s.attributes.type){if(r.value===s.attributes.xfaOn?e.setAttribute("checked",!0):r.value===s.attributes.xfaOff&&e.removeAttribute("checked"),"print"===n)break;e.addEventListener("change",e=>{a.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==r.value&&e.setAttribute("value",r.value),"print"===n)break;e.addEventListener("input",e=>{a.setValue(t,{value:e.target.value})})}break;case"select":if(null!==r.value){e.setAttribute("value",r.value);for(const e of s.children)e.attributes.value===r.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const s=e.target.options,n=-1===s.selectedIndex?"":s[s.selectedIndex].value;a.setValue(t,{value:n})})}}static setAttributes(e){let{html:t,element:s,storage:a=null,intent:n,linkService:r}=e;const{attributes:i}=s,o=t instanceof HTMLAnchorElement;"radio"===i.type&&(i.name="".concat(i.name,"-").concat(n));for(const[l,c]of Object.entries(i))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&r.addLinkAttributes(t,i.href,i.newWindow),a&&i.dataId&&this.setupStorage(t,i.dataId,s,a)}static render(e){const t=e.annotationStorage,s=e.linkService,n=e.xfaHtml,r=e.intent||"display",i=document.createElement(n.name);n.attributes&&this.setAttributes({html:i,element:n,intent:r,linkService:s});const o=[[n,-1,i]],l=e.div;if(l.append(i),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");l.style.transform=t}"richText"!==r&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){var d;const[e,n,i]=o.at(-1);if(n+1===e.children.length){o.pop();continue}const l=e.children[++o.at(-1)[1]];if(null===l)continue;const{name:u}=l;if("#text"===u){const e=document.createTextNode(l.value);c.push(e),i.append(e);continue}const h=null!==l&&void 0!==l&&null!==(d=l.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(l.attributes.xmlns,u):document.createElement(u);if(i.append(h),l.attributes&&this.setAttributes({html:h,element:l,storage:t,intent:r,linkService:s}),l.children&&l.children.length>0)o.push([l,-1,h]);else if(l.value){const e=document.createTextNode(l.value);a.XfaText.shouldBuildText(u)&&c.push(e),h.append(e)}}for(const a of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))a.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}},(e,t,s)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var n=s(1),r=s(4),i=s(29),o=s(6),l=s(5),c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakMap,x=new WeakMap,b=new WeakMap,y=new WeakMap,_=new WeakMap,w=new WeakMap,S=new WeakSet;class P extends r.AnnotationEditor{constructor(e){super(_objectSpread(_objectSpread({},e),{},{name:"inkEditor"})),_classPrivateMethodInitSpec(this,S),_classPrivateFieldInitSpec(this,c,0),_classPrivateFieldInitSpec(this,d,0),_classPrivateFieldInitSpec(this,u,this.canvasPointermove.bind(this)),_classPrivateFieldInitSpec(this,h,this.canvasPointerleave.bind(this)),_classPrivateFieldInitSpec(this,p,this.canvasPointerup.bind(this)),_classPrivateFieldInitSpec(this,m,this.canvasPointerdown.bind(this)),_classPrivateFieldInitSpec(this,f,new Path2D),_classPrivateFieldInitSpec(this,g,!1),_classPrivateFieldInitSpec(this,v,!1),_classPrivateFieldInitSpec(this,x,!1),_classPrivateFieldInitSpec(this,b,null),_classPrivateFieldInitSpec(this,y,0),_classPrivateFieldInitSpec(this,_,0),_classPrivateFieldInitSpec(this,w,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e){r.AnnotationEditor.initialize(e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(e,t){switch(e){case n.AnnotationEditorParamsType.INK_THICKNESS:P._defaultThickness=t;break;case n.AnnotationEditorParamsType.INK_COLOR:P._defaultColor=t;break;case n.AnnotationEditorParamsType.INK_OPACITY:P._defaultOpacity=t/100}}updateParams(e,t){switch(e){case n.AnnotationEditorParamsType.INK_THICKNESS:_assertClassBrand(S,this,A).call(this,t);break;case n.AnnotationEditorParamsType.INK_COLOR:_assertClassBrand(S,this,k).call(this,t);break;case n.AnnotationEditorParamsType.INK_OPACITY:_assertClassBrand(S,this,C).call(this,t)}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,P._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,P._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*P._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||P._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||P._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:P._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(_assertClassBrand(S,this,G).call(this),_assertClassBrand(S,this,B).call(this)),this.isAttachedToDOM||(this.parent.add(this),_assertClassBrand(S,this,W).call(this)),_assertClassBrand(S,this,Q).call(this)))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(b,this).disconnect(),_classPrivateFieldSet(b,this,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,s=this.width*e,a=this.height*t;this.setDimensions(s,a)}enableEditMode(){_classPrivateFieldGet(g,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(m,this)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(m,this)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(g,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(g,this,!0),this.div.classList.add("disabled"),_assertClassBrand(S,this,Q).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!_classPrivateFieldGet(g,this)&&(this.setInForeground(),e.preventDefault(),"mouse"!==e.type&&this.div.focus(),_assertClassBrand(S,this,N).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),_assertClassBrand(S,this,j).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),_assertClassBrand(S,this,O).call(this,e)}canvasPointerleave(e){_assertClassBrand(S,this,O).call(this,e)}get isResizable(){return!this.isEmpty()&&_classPrivateFieldGet(g,this)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),r.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(e=>{var t;return null===(t=this.div)||void 0===t?void 0:t.setAttribute("aria-label",e)});const[s,a,n,i]=_assertClassBrand(S,this,F).call(this);if(this.setAt(s,a,0,0),this.setDims(n,i),_assertClassBrand(S,this,G).call(this),this.width){const[s,a]=this.parentDimensions;this.setAspectRatio(this.width*s,this.height*a),this.setAt(e*s,t*a,this.width*s,this.height*a),_classPrivateFieldSet(x,this,!0),_assertClassBrand(S,this,W).call(this),this.setDims(this.width*s,this.height*a),_assertClassBrand(S,this,L).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _assertClassBrand(S,this,B).call(this),this.div}setDimensions(e,t){const s=Math.round(e),a=Math.round(t);if(_classPrivateFieldGet(y,this)===s&&_classPrivateFieldGet(_,this)===a)return;_classPrivateFieldSet(y,this,s),_classPrivateFieldSet(_,this,a),this.canvas.style.visibility="hidden";const[n,r]=this.parentDimensions;this.width=e/n,this.height=t/r,this.fixAndSetPosition(),_classPrivateFieldGet(g,this)&&_assertClassBrand(S,this,z).call(this,e,t),_assertClassBrand(S,this,W).call(this),_assertClassBrand(S,this,L).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,s){if(e instanceof i.InkAnnotationElement)return null;const a=super.deserialize(e,t,s);a.thickness=e.thickness,a.color=n.Util.makeHexColor(...e.color),a.opacity=e.opacity;const[o,l]=a.pageDimensions,u=a.width*o,h=a.height*l,p=a.parentScale,m=e.thickness/2;_classPrivateFieldSet(g,a,!0),_classPrivateFieldSet(y,a,Math.round(u)),_classPrivateFieldSet(_,a,Math.round(h));const{paths:f,rect:v,rotation:x}=e;for(let{bezier:n}of f){n=q.call(P,n,v,x);const e=[];a.paths.push(e);let t=p*(n[0]-m),s=p*(n[1]-m);for(let a=2,i=n.length;a<i;a+=6){const r=p*(n[a]-m),i=p*(n[a+1]-m),o=p*(n[a+2]-m),l=p*(n[a+3]-m),c=p*(n[a+4]-m),d=p*(n[a+5]-m);e.push([[t,s],[r,i],[o,l],[c,d]]),t=c,s=d}const r=_assertClassBrand(P,this,H).call(this,e);a.bezierPath2D.push(r)}const b=_assertClassBrand(S,a,X).call(a);return _classPrivateFieldSet(d,a,Math.max(r.AnnotationEditor.MIN_SIZE,b[2]-b[0])),_classPrivateFieldSet(c,a,Math.max(r.AnnotationEditor.MIN_SIZE,b[3]-b[1])),_assertClassBrand(S,a,z).call(a,u,h),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=r.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:_assertClassBrand(S,this,K).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function A(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,_assertClassBrand(S,this,Q).call(this)},undo:()=>{this.thickness=t,_assertClassBrand(S,this,Q).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function k(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,_assertClassBrand(S,this,L).call(this)},undo:()=>{this.color=t,_assertClassBrand(S,this,L).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function C(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,_assertClassBrand(S,this,L).call(this)},undo:()=>{this.opacity=t,_assertClassBrand(S,this,L).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function F(){const{parentRotation:e,parentDimensions:[t,s]}=this;switch(e){case 90:return[0,s,s,t];case 180:return[t,s,t,s];case 270:return[t,0,s,t];default:return[0,0,t,s]}}function E(){const{ctx:e,color:t,opacity:s,thickness:a,parentScale:n,scaleFactor:r}=this;e.lineWidth=a*n/r,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat((0,l.opacityToHex)(s))}function N(e,t){var s;this.canvas.addEventListener("contextmenu",o.noContextMenu),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(h,this)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(u,this)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(p,this)),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(m,this)),this.isEditing=!0,_classPrivateFieldGet(x,this)||(_classPrivateFieldSet(x,this,!0),_assertClassBrand(S,this,W).call(this),this.thickness||(this.thickness=a._defaultThickness),this.color||(this.color=a._defaultColor||r.AnnotationEditor._defaultLineColor),null!==(s=this.opacity)&&void 0!==s||(this.opacity=a._defaultOpacity)),this.currentPath.push([e,t]),_classPrivateFieldSet(v,this,!1),_assertClassBrand(S,this,E).call(this),_classPrivateFieldSet(w,this,()=>{_assertClassBrand(S,this,R).call(this),_classPrivateFieldGet(w,this)&&window.requestAnimationFrame(_classPrivateFieldGet(w,this))}),window.requestAnimationFrame(_classPrivateFieldGet(w,this))}function j(e,t){const[s,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&t===a)return;const n=this.currentPath;let r=_classPrivateFieldGet(f,this);if(n.push([e,t]),_classPrivateFieldSet(v,this,!0),n.length<=2)return r.moveTo(...n[0]),void r.lineTo(e,t);3===n.length&&(_classPrivateFieldSet(f,this,r=new Path2D),r.moveTo(...n[0])),_assertClassBrand(S,this,D).call(this,r,...n.at(-3),...n.at(-2),e,t)}function T(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);_classPrivateFieldGet(f,this).lineTo(...e)}function M(e,t){let s;if(_classPrivateFieldSet(w,this,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),_assertClassBrand(S,this,j).call(this,e,t),_assertClassBrand(S,this,T).call(this),1!==this.currentPath.length)s=_assertClassBrand(S,this,I).call(this);else{const a=[e,t];s=[[a,a.slice(),a.slice(),a]]}const a=_classPrivateFieldGet(f,this),n=this.currentPath;this.currentPath=[],_classPrivateFieldSet(f,this,new Path2D),this.addCommands({cmd:()=>{this.allRawPaths.push(n),this.paths.push(s),this.bezierPath2D.push(a),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_assertClassBrand(S,this,G).call(this),_assertClassBrand(S,this,B).call(this)),_assertClassBrand(S,this,Q).call(this))},mustExec:!0})}function R(){if(!_classPrivateFieldGet(v,this))return;_classPrivateFieldSet(v,this,!1);Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),t=e.map(e=>e[0]),s=e.map(e=>e[1]),{ctx:a}=(Math.min(...t),Math.max(...t),Math.min(...s),Math.max(...s),this);a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const n of this.bezierPath2D)a.stroke(n);a.stroke(_classPrivateFieldGet(f,this)),a.restore()}function D(e,t,s,a,n,r,i){const o=(t+a)/2,l=(s+n)/2,c=(a+r)/2,d=(n+i)/2;e.bezierCurveTo(o+2*(a-o)/3,l+2*(n-l)/3,c+2*(a-c)/3,d+2*(n-d)/3,c,d)}function I(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let s,[a,n]=e[0];for(s=1;s<e.length-2;s++){const[r,i]=e[s],[o,l]=e[s+1],c=(r+o)/2,d=(i+l)/2,u=[a+2*(r-a)/3,n+2*(i-n)/3],h=[c+2*(r-c)/3,d+2*(i-d)/3];t.push([[a,n],u,h,[c,d]]),[a,n]=[c,d]}const[r,i]=e[s],[o,l]=e[s+1],c=[a+2*(r-a)/3,n+2*(i-n)/3],d=[o+2*(r-o)/3,l+2*(i-l)/3];return t.push([[a,n],c,d,[o,l]]),t}function L(){if(this.isEmpty())return void _assertClassBrand(S,this,U).call(this);_assertClassBrand(S,this,E).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),_assertClassBrand(S,this,U).call(this);for(const s of this.bezierPath2D)t.stroke(s)}function O(e){this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(h,this)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(u,this)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(p,this)),this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(m,this)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",o.noContextMenu)},10),_assertClassBrand(S,this,M).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function G(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",r.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(e=>{var t;return null===(t=this.canvas)||void 0===t?void 0:t.setAttribute("aria-label",e)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function B(){_classPrivateFieldSet(b,this,new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),_classPrivateFieldGet(b,this).observe(this.div)}function W(){if(!_classPrivateFieldGet(x,this))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),_assertClassBrand(S,this,U).call(this)}function z(e,t){const s=_assertClassBrand(S,this,Y).call(this),a=(e-s)/_classPrivateFieldGet(d,this),n=(t-s)/_classPrivateFieldGet(c,this);this.scaleFactor=Math.min(a,n)}function U(){const e=_assertClassBrand(S,this,Y).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function H(e){const t=new Path2D;for(let s=0,a=e.length;s<a;s++){const[a,n,r,i]=e[s];0===s&&t.moveTo(...a),t.bezierCurveTo(n[0],n[1],r[0],r[1],i[0],i[1])}return t}function V(e,t,s){const[a,n,r,i]=t;switch(s){case 0:for(let t=0,s=e.length;t<s;t+=2)e[t]+=a,e[t+1]=i-e[t+1];break;case 90:for(let t=0,s=e.length;t<s;t+=2){const s=e[t];e[t]=e[t+1]+a,e[t+1]=s+n}break;case 180:for(let t=0,s=e.length;t<s;t+=2)e[t]=r-e[t],e[t+1]+=n;break;case 270:for(let t=0,s=e.length;t<s;t+=2){const s=e[t];e[t]=r-e[t+1],e[t+1]=i-s}break;default:throw new Error("Invalid rotation")}return e}function q(e,t,s){const[a,n,r,i]=t;switch(s){case 0:for(let t=0,s=e.length;t<s;t+=2)e[t]-=a,e[t+1]=i-e[t+1];break;case 90:for(let t=0,s=e.length;t<s;t+=2){const s=e[t];e[t]=e[t+1]-n,e[t+1]=s-a}break;case 180:for(let t=0,s=e.length;t<s;t+=2)e[t]=r-e[t],e[t+1]-=n;break;case 270:for(let t=0,s=e.length;t<s;t+=2){const s=e[t];e[t]=i-e[t+1],e[t+1]=r-s}break;default:throw new Error("Invalid rotation")}return e}function K(e,t,s,n){const r=[],i=this.thickness/2,o=e*t+i,l=e*s+i;for(const c of this.paths){const t=[],s=[];for(let a=0,n=c.length;a<n;a++){const[r,i,d,u]=c[a],h=e*r[0]+o,p=e*r[1]+l,m=e*i[0]+o,f=e*i[1]+l,g=e*d[0]+o,v=e*d[1]+l,x=e*u[0]+o,b=e*u[1]+l;0===a&&(t.push(h,p),s.push(h,p)),t.push(m,f,g,v,x,b),s.push(m,f),a===n-1&&s.push(x,b)}r.push({bezier:V.call(a,t,n,this.rotation),points:V.call(a,s,n,this.rotation)})}return r}function X(){let e=1/0,t=-1/0,s=1/0,a=-1/0;for(const r of this.paths)for(const[i,o,l,c]of r){const r=n.Util.bezierBoundingBox(...i,...o,...l,...c);e=Math.min(e,r[0]),s=Math.min(s,r[1]),t=Math.max(t,r[2]),a=Math.max(a,r[3])}return[e,s,t,a]}function Y(){return _classPrivateFieldGet(g,this)?Math.ceil(this.thickness*this.parentScale):0}function Q(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!_classPrivateFieldGet(g,this))return void _assertClassBrand(S,this,L).call(this);const t=_assertClassBrand(S,this,X).call(this),s=_assertClassBrand(S,this,Y).call(this);_classPrivateFieldSet(d,this,Math.max(r.AnnotationEditor.MIN_SIZE,t[2]-t[0])),_classPrivateFieldSet(c,this,Math.max(r.AnnotationEditor.MIN_SIZE,t[3]-t[1]));const a=Math.ceil(s+_classPrivateFieldGet(d,this)*this.scaleFactor),n=Math.ceil(s+_classPrivateFieldGet(c,this)*this.scaleFactor),[i,o]=this.parentDimensions;this.width=a/i,this.height=n/o,this.setAspectRatio(a,n);const l=this.translationX,u=this.translationY;this.translationX=-t[0],this.translationY=-t[1],_assertClassBrand(S,this,W).call(this),_assertClassBrand(S,this,L).call(this),_classPrivateFieldSet(y,this,a),_classPrivateFieldSet(_,this,n),this.setDims(a,n);const h=e?s/this.scaleFactor/2:0;this.translate(l-this.translationX-h,u-this.translationY-h)}a=P,_defineProperty(P,"_defaultColor",null),_defineProperty(P,"_defaultOpacity",1),_defineProperty(P,"_defaultThickness",1),_defineProperty(P,"_type","ink"),t.InkEditor=P},(e,t,s)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var n=s(1),r=s(4),i=s(6),o=s(29),l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakMap,x=new WeakSet;class b extends r.AnnotationEditor{constructor(e){super(_objectSpread(_objectSpread({},e),{},{name:"stampEditor"})),_classPrivateMethodInitSpec(this,x),_classPrivateFieldInitSpec(this,l,null),_classPrivateFieldInitSpec(this,c,null),_classPrivateFieldInitSpec(this,d,null),_classPrivateFieldInitSpec(this,u,null),_classPrivateFieldInitSpec(this,h,null),_classPrivateFieldInitSpec(this,p,null),_classPrivateFieldInitSpec(this,m,null),_classPrivateFieldInitSpec(this,f,null),_classPrivateFieldInitSpec(this,g,!1),_classPrivateFieldInitSpec(this,v,!1),_classPrivateFieldSet(u,this,e.bitmapUrl),_classPrivateFieldSet(h,this,e.bitmapFile)}static initialize(e){r.AnnotationEditor.initialize(e)}static get supportedTypes(){return(0,n.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>"image/".concat(e)))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,t;_classPrivateFieldGet(c,this)&&(_classPrivateFieldSet(l,this,null),this._uiManager.imageManager.deleteId(_classPrivateFieldGet(c,this)),null===(e=_classPrivateFieldGet(p,this))||void 0===e||e.remove(),_classPrivateFieldSet(p,this,null),null===(t=_classPrivateFieldGet(m,this))||void 0===t||t.disconnect(),_classPrivateFieldSet(m,this,null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(_classPrivateFieldGet(c,this)&&_assertClassBrand(x,this,w).call(this),this.isAttachedToDOM||this.parent.add(this))):_classPrivateFieldGet(c,this)&&_assertClassBrand(x,this,w).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_classPrivateFieldGet(d,this)||_classPrivateFieldGet(l,this)||_classPrivateFieldGet(u,this)||_classPrivateFieldGet(h,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,_classPrivateFieldGet(l,this)?_assertClassBrand(x,this,S).call(this):_assertClassBrand(x,this,w).call(this),this.width){const[s,a]=this.parentDimensions;this.setAt(e*s,t*a,this.width*s,this.height*a)}return this.div}static deserialize(e,t,s){if(e instanceof o.StampAnnotationElement)return null;const a=super.deserialize(e,t,s),{rect:n,bitmapUrl:r,bitmapId:i,isSvg:l,accessibilityData:d}=e;i&&s.imageManager.isValidId(i)?_classPrivateFieldSet(c,a,i):_classPrivateFieldSet(u,a,r),_classPrivateFieldSet(g,a,l);const[h,p]=a.pageDimensions;return a.width=(n[2]-n[0])/h,a.height=(n[3]-n[1])/p,d&&(a.altTextData=d),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const s={annotationType:n.AnnotationEditorType.STAMP,bitmapId:_classPrivateFieldGet(c,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_classPrivateFieldGet(g,this),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=_assertClassBrand(x,this,C).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:a,altText:r}=this.altTextData;if(!a&&r&&(s.accessibilityData={type:"Figure",alt:r}),null===t)return s;t.stamps||(t.stamps=new Map);const i=_classPrivateFieldGet(g,this)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(t.stamps.has(_classPrivateFieldGet(c,this))){if(_classPrivateFieldGet(g,this)){const e=t.stamps.get(_classPrivateFieldGet(c,this));i>e.area&&(e.area=i,e.serialized.bitmap.close(),e.serialized.bitmap=_assertClassBrand(x,this,C).call(this,!1))}}else t.stamps.set(_classPrivateFieldGet(c,this),{area:i,serialized:s}),s.bitmap=_assertClassBrand(x,this,C).call(this,!1);return s}}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(_classPrivateFieldSet(l,this,e.bitmap),t||(_classPrivateFieldSet(c,this,e.id),_classPrivateFieldSet(g,this,e.isSvg)),_assertClassBrand(x,this,S).call(this)):this.remove()}function _(){_classPrivateFieldSet(d,this,null),this._uiManager.enableWaiting(!1),_classPrivateFieldGet(p,this)&&this.div.focus()}function w(){if(_classPrivateFieldGet(c,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(_classPrivateFieldGet(c,this)).then(e=>_assertClassBrand(x,this,y).call(this,e,!0)).finally(()=>_assertClassBrand(x,this,_).call(this));if(_classPrivateFieldGet(u,this)){const e=_classPrivateFieldGet(u,this);return _classPrivateFieldSet(u,this,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet(d,this,this._uiManager.imageManager.getFromUrl(e).then(e=>_assertClassBrand(x,this,y).call(this,e)).finally(()=>_assertClassBrand(x,this,_).call(this)))}if(_classPrivateFieldGet(h,this)){const e=_classPrivateFieldGet(h,this);return _classPrivateFieldSet(h,this,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet(d,this,this._uiManager.imageManager.getFromFile(e).then(e=>_assertClassBrand(x,this,y).call(this,e)).finally(()=>_assertClassBrand(x,this,_).call(this)))}const e=document.createElement("input");e.type="file",e.accept=a.supportedTypesStr,_classPrivateFieldSet(d,this,new Promise(t=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);_assertClassBrand(x,this,y).call(this,t)}else this.remove();t()}),e.addEventListener("cancel",()=>{this.remove(),t()})}).finally(()=>_assertClassBrand(x,this,_).call(this))),e.click()}function S(){const{div:e}=this;let{width:t,height:s}=_classPrivateFieldGet(l,this);const[a,n]=this.pageDimensions,r=.75;if(this.width)t=this.width*a,s=this.height*n;else if(t>r*a||s>r*n){const e=Math.min(r*a/t,r*n/s);t*=e,s*=e}const[i,o]=this.parentDimensions;this.setDims(t*i/a,s*o/n),this._uiManager.enableWaiting(!1);const c=_classPrivateFieldSet(p,this,document.createElement("canvas"));e.append(c),e.hidden=!1,_assertClassBrand(x,this,k).call(this,t,s),_assertClassBrand(x,this,F).call(this),_classPrivateFieldGet(v,this)||(this.parent.addUndoableEditor(this),_classPrivateFieldSet(v,this,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}function P(e,t){var s;const[a,n]=this.parentDimensions;this.width=e/a,this.height=t/n,this.setDims(e,t),null!==(s=this._initialOptions)&&void 0!==s&&s.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==_classPrivateFieldGet(f,this)&&clearTimeout(_classPrivateFieldGet(f,this)),_classPrivateFieldSet(f,this,setTimeout(()=>{_classPrivateFieldSet(f,this,null),_assertClassBrand(x,this,k).call(this,e,t)},200))}function A(e,t){const{width:s,height:a}=_classPrivateFieldGet(l,this);let n=s,r=a,i=_classPrivateFieldGet(l,this);for(;n>2*e||r>2*t;){const s=n,a=r;n>2*e&&(n=n>=16384?Math.floor(n/2)-1:Math.ceil(n/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(n,r);o.getContext("2d").drawImage(i,0,0,s,a,0,0,n,r),i=o.transferToImageBitmap()}return i}function k(e,t){e=Math.ceil(e),t=Math.ceil(t);const s=_classPrivateFieldGet(p,this);if(!s||s.width===e&&s.height===t)return;s.width=e,s.height=t;const a=_classPrivateFieldGet(g,this)?_classPrivateFieldGet(l,this):_assertClassBrand(x,this,A).call(this,e,t),n=s.getContext("2d");n.filter=this._uiManager.hcmFilter,n.drawImage(a,0,0,a.width,a.height,0,0,e,t)}function C(e){if(e){if(_classPrivateFieldGet(g,this)){const e=this._uiManager.imageManager.getSvgUrl(_classPrivateFieldGet(c,this));if(e)return e}const e=document.createElement("canvas");return({width:e.width,height:e.height}=_classPrivateFieldGet(l,this)),e.getContext("2d").drawImage(_classPrivateFieldGet(l,this),0,0),e.toDataURL()}if(_classPrivateFieldGet(g,this)){const[e,t]=this.pageDimensions,s=Math.round(this.width*e*i.PixelsPerInch.PDF_TO_CSS_UNITS),a=Math.round(this.height*t*i.PixelsPerInch.PDF_TO_CSS_UNITS),n=new OffscreenCanvas(s,a);return n.getContext("2d").drawImage(_classPrivateFieldGet(l,this),0,0,_classPrivateFieldGet(l,this).width,_classPrivateFieldGet(l,this).height,0,0,s,a),n.transferToImageBitmap()}return structuredClone(_classPrivateFieldGet(l,this))}function F(){_classPrivateFieldSet(m,this,new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&_assertClassBrand(x,this,P).call(this,t.width,t.height)})),_classPrivateFieldGet(m,this).observe(this.div)}a=b,_defineProperty(b,"_type","stamp"),t.StampEditor=b}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return r.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return i.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return n.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return n.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var t=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),n=__w_pdfjs_require__(26),r=__w_pdfjs_require__(27),i=__w_pdfjs_require__(5),o=__w_pdfjs_require__(29),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=root.pdfjsLib=factory()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__webpack_require__),s.exports}var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(43),t=__webpack_require__(391);function s(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function r(e,t,s){return(t=n(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach(function(t){r(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}const l=["sri"],c=["page"],d=["page","matches"],u=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],p=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function f(){return w(function(e,t){let{pathname:s,search:a,hash:n}=e.location;return b("",{pathname:s,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:y(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function g(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return o(o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:s,key:t&&t.key||a||Math.random().toString(36).substring(2,10)})}function y(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function _(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function w(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:n=document.defaultView,v5Compat:r=!1}=a,i=n.history,l="POP",c=null,d=u();function u(){return(i.state||{idx:null}).idx}function h(){l="POP";let e=u(),t=null==e?null:e-d;d=e,c&&c({action:l,location:f.location,delta:t})}function p(e){return S(e)}null==d&&(d=0,i.replaceState(o(o({},i.state),{},{idx:d}),""));let f={get action(){return l},get location(){return e(n,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(m,h),c=e,()=>{n.removeEventListener(m,h),c=null}},createHref:e=>t(n,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let a=b(f.location,e,t);s&&s(a,e),d=u()+1;let o=x(a,d),h=f.createHref(a);try{i.pushState(o,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;n.location.assign(h)}r&&c&&c({action:l,location:f.location,delta:1})},replace:function(e,t){l="REPLACE";let a=b(f.location,e,t);s&&s(a,e),d=u();let n=x(a,d),o=f.createHref(a);i.replaceState(n,"",o),r&&c&&c({action:l,location:f.location,delta:0})},go:e=>i.go(e)};return f}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s="http://localhost";"undefined"!==typeof window&&(s="null"!==window.location.origin?window.location.origin:window.location.href),g(s,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:y(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}new WeakMap;function P(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function A(e,t,s,a){let n=B(("string"===typeof t?_(t):t).pathname||"/",s);if(null==n)return null;let r=k(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let i=null;for(let o=0;null==i&&o<r.length;++o){let e=G(n);i=I(r[o],e,a)}return i}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(a)&&i)return;g(l.relativePath.startsWith(a),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(a.length)}let c=V([a,l.relativePath]),d=s.concat(l);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),k(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:D(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!==(s=e.path)&&void 0!==s&&s.includes("?"))for(let a of C(e.path))r(e,t,!0,a);else r(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[s,...a]=t,n=s.endsWith("?"),r=s.replace(/\?$/,"");if(0===a.length)return n?[r,""]:[r];let i=C(a.join("/")),o=[];return o.push(...i.map(e=>""===e?r:[r,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var F=/^:[\w-]+$/,E=3,N=2,j=1,T=10,M=-2,R=e=>"*"===e;function D(e,t){let s=e.split("/"),a=s.length;return s.some(R)&&(a+=M),t&&(a+=N),s.filter(e=>!R(e)).reduce((e,t)=>e+(F.test(t)?E:""===t?j:T),a)}function I(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,n={},r="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===r?t:t.slice(r.length)||"/",d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&s&&!a[a.length-1].route.index&&(d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:V([r,d.pathname]),pathnameBase:q(V([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=V([r,d.pathnameBase]))}return i}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=O(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let r=n[0],i=r.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((e,t,s)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=o[s]||"";i=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[s];return e[a]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:i,pattern:e}}function O(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(a.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function G(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&"/"!==a?null:e.slice(s)||"/"}function W(e,t,s,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(s,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function U(e){let t=z(e);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function H(e,t,s){let a,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?a=_(e):(a=o({},e),g(!a.pathname||!a.pathname.includes("?"),W("?","pathname","search",a)),g(!a.pathname||!a.pathname.includes("#"),W("#","pathname","hash",a)),g(!a.search||!a.search.includes("#"),W("#","search","hash",a)));let r,i=""===e||""===a.pathname,l=i?"/":a.pathname;if(null==l)r=s;else{let e=t.length-1;if(!n&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:s,search:a="",hash:n=""}="string"===typeof e?_(e):e,r=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:r,search:K(a),hash:X(n)}}(a,r),d=l&&"/"!==l&&l.endsWith("/"),u=(i||"."===l)&&s.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var V=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Y(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],J=(new Set(Q),["GET",...Q]);new Set(J),Symbol("ResetLoaderData");var $=e.createContext(null);$.displayName="DataRouter";var Z=e.createContext(null);Z.displayName="DataRouterState";var ee=e.createContext(!1);var te=e.createContext({isTransitioning:!1});te.displayName="ViewTransition";var se=e.createContext(new Map);se.displayName="Fetchers";var ae=e.createContext(null);ae.displayName="Await";var ne=e.createContext(null);ne.displayName="Navigation";var re=e.createContext(null);re.displayName="Location";var ie=e.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var oe=e.createContext(null);oe.displayName="RouteError";function le(){return null!=e.useContext(re)}function ce(){return g(le(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(re).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ue(t){e.useContext(ne).static||e.useLayoutEffect(t)}function he(){let{isDataRoute:t}=e.useContext(ie);return t?function(){let{router:t}=_e("useNavigate"),s=Se("useNavigate"),a=e.useRef(!1);ue(()=>{a.current=!0});let n=e.useCallback(async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(a.current,de),a.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,o({fromRouteId:s},n)))},[t,s]);return n}():function(){g(le(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext($),{basename:s,navigator:a}=e.useContext(ne),{matches:n}=e.useContext(ie),{pathname:r}=ce(),i=JSON.stringify(U(n)),o=e.useRef(!1);ue(()=>{o.current=!0});let l=e.useCallback(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(o.current,de),!o.current)return;if("number"===typeof e)return void a.go(e);let l=H(e,JSON.parse(i),r,"path"===n.relative);null==t&&"/"!==s&&(l.pathname="/"===l.pathname?s:V([s,l.pathname])),(n.replace?a.replace:a.push)(l,n.state,n)},[s,a,i,r,t]);return l}()}e.createContext(null);function pe(t){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:a}=e.useContext(ie),{pathname:n}=ce(),r=JSON.stringify(U(a));return e.useMemo(()=>H(t,JSON.parse(r),n,"path"===s),[t,r,n,s])}function me(t,s,a,n,r){g(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=e.useContext(ne),{matches:l}=e.useContext(ie),c=l[l.length-1],d=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";ke(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=ce();if(s){var x;let e="string"===typeof s?_(s):s;g("/"===h||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let b=m.pathname||"/",y=b;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=P(t,{pathname:y});v(p||null!=w,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),v(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=be(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:V([h,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:V([h,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,a,n,r);return s&&S?e.createElement(re.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},S):S}function fe(){let t=Pe(),s=Y(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:i},"ErrorBoundary")," or"," ",e.createElement("code",{style:i},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},s),a?e.createElement("pre",{style:r},a):null,o)}var ge=e.createElement(fe,null),ve=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?e.createElement(ie.Provider,{value:this.props.routeContext},e.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(t){let{routeContext:s,match:a,children:n}=t,r=e.useContext($);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),e.createElement(ie.Provider,{value:s},n)}function be(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!a)return null;if(a.errors)t=a.matches;else{if(0!==s.length||a.initialized||!(a.matches.length>0))return null;t=a.matches}}let r=t,i=null===a||void 0===a?void 0:a.errors;if(null!=i){let e=r.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));g(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let o=!1,l=-1;if(a)for(let e=0;e<r.length;e++){let t=r[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:s}=a,n=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!s||void 0===s[t.route.id]);if(t.route.lazy||n){o=!0,r=l>=0?r.slice(0,l+1):[r[0]];break}}}return r.reduceRight((t,c,d)=>{let u,h=!1,p=null,m=null;a&&(u=i&&c.route.id?i[c.route.id]:void 0,p=c.route.errorElement||ge,o&&(l<0&&0===d?(ke("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===d&&(h=!0,m=c.route.hydrateFallbackElement||null)));let f=s.concat(r.slice(0,d+1)),g=()=>{let s;return s=u?p:h?m:c.route.Component?e.createElement(c.route.Component,null):c.route.element?c.route.element:t,e.createElement(xe,{match:c,routeContext:{outlet:t,matches:f,isDataRoute:null!=a},children:s})};return a&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?e.createElement(ve,{location:a.location,revalidation:a.revalidation,component:p,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:n}):g()},null)}function ye(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _e(t){let s=e.useContext($);return g(s,ye(t)),s}function we(t){let s=e.useContext(Z);return g(s,ye(t)),s}function Se(t){let s=function(t){let s=e.useContext(ie);return g(s,ye(t)),s}(t),a=s.matches[s.matches.length-1];return g(a.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),a.route.id}function Pe(){var t;let s=e.useContext(oe),a=we("useRouteError"),n=Se("useRouteError");return void 0!==s?s:null===(t=a.errors)||void 0===t?void 0:t[n]}var Ae={};function ke(e,t,s){t||Ae[e]||(Ae[e]=!0,v(!1,s))}var Ce={};function Fe(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:s,state:a,unstable_onError:n}=e;return me(t,void 0,a,n,s)});function Ee(t){let{to:s,replace:a,state:n,relative:r}=t;g(le(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=e.useContext(ne);v(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=e.useContext(ie),{pathname:l}=ce(),c=he(),d=H(s,U(o),l,"path"===r),u=JSON.stringify(d);return e.useEffect(()=>{c(JSON.parse(u),{replace:a,state:n,relative:r})},[c,u,r,a,n]),null}function Ne(e){g(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function je(t){let{basename:s="/",children:a=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}=t;g(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof n&&(n=_(n));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:m="default"}=n,f=e.useMemo(()=>{let e=B(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:p,key:m},navigationType:r}},[l,d,u,h,p,m,r]);return v(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:e.createElement(ne.Provider,{value:c},e.createElement(re.Provider,{children:a,value:f}))}function Te(e){let{children:t,location:s}=e;return me(Me(t),s)}e.Component;function Me(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];return e.Children.forEach(t,(t,n)=>{if(!e.isValidElement(t))return;let r=[...s,n];if(t.type===e.Fragment)return void a.push.apply(a,Me(t.props.children,r));g(t.type===Ne,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),g(!t.props.index||!t.props.children,"An index route cannot have child routes.");let i={id:t.props.id||r.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=Me(t.props.children,r)),a.push(i)}),a}var Re="get",De="application/x-www-form-urlencoded";function Ie(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Oe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ge(e){return null==e||Oe.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function Be(e,t){let s,a,n,r,i;if(Ie(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");a=i?B(i,t):null,s=e.getAttribute("method")||Re,n=Ge(e.getAttribute("enctype"))||De,r=new FormData(e)}else if(function(e){return Ie(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ie(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(a=o?B(o,t):null,s=e.getAttribute("formmethod")||i.getAttribute("method")||Re,n=Ge(e.getAttribute("formenctype"))||Ge(i.getAttribute("enctype"))||De,r=new FormData(i,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:s,value:a}=e;if("image"===s){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,a)}}else{if(Ie(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Re,a=null,n=De,i=e}var o;return r&&"text/plain"===n&&(i=r,r=void 0),{action:a,method:s.toLowerCase(),encType:n,formData:r,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function We(e){return{__html:e}}function ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ue(e,t,s){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(s):t&&"/"===B(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(s):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(s),a}async function He(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ve(e){return null!=e&&"string"===typeof e.page}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ke(e,t,s,a,n,r){let i=(e,t)=>!s[t]||e.route.id!==s[t].route.id,o=(e,t)=>{var a;return s[t].pathname!==e.pathname||(null===(a=s[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&s[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===r?t.filter((t,r)=>{let l=a.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,r)||o(t,r))return!0;if(t.route.shouldRevalidate){var c;let a=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:(null===(c=s[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function Xe(e,t){let{includeHydrateFallback:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let n=[a.module];return a.clientActionModule&&(n=n.concat(a.clientActionModule)),a.clientLoaderModule&&(n=n.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(n=n.concat(a.hydrateFallbackModule)),a.imports&&(n=n.concat(a.imports)),n}).flat(1),[...new Set(a)];var a}function Ye(e,t){let s=new Set,a=new Set(t);return e.reduce((e,n)=>{if(t&&!Ve(n)&&"script"===n.as&&n.href&&a.has(n.href))return e;let r=JSON.stringify(function(e){let t={},s=Object.keys(e).sort();for(let a of s)t[a]=e[a];return t}(n));return s.has(r)||(s.add(r),e.push({key:r,link:n})),e},[])}function Qe(e,t){return"lazy"===e.mode&&!0===t}function Je(){let t=e.useContext($);return ze(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $e(){let t=e.useContext(Z);return ze(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ze=e.createContext(void 0);function et(){let t=e.useContext(Ze);return ze(t,"You must render this element inside a <HydratedRouter> element"),t}function tt(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function st(e,t,s){if(s&&!it)return[e[0]];if(t){let s=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,s+1)}return e}Ze.displayName="FrameworkContext";function at(t){let{page:a}=t,n=s(t,c),{router:r}=Je(),i=e.useMemo(()=>P(r.routes,a,r.basename),[r.routes,a,r.basename]);return i?e.createElement(rt,o({page:a,matches:i},n)):null}function nt(t){let{manifest:s,routeModules:a}=et(),[n,r]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,s){return Ye((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await He(a,s);return e.links?e.links():[]}return[]}))).flat(1).filter(qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?o(o({},e),{},{rel:"prefetch",as:"style"}):o(o({},e),{},{rel:"prefetch"})))}(t,s,a).then(t=>{e||r(t)}),()=>{e=!0}},[t,s,a]),n}function rt(t){let{page:a,matches:n}=t,r=s(t,d),i=ce(),{manifest:l,routeModules:c}=et(),{basename:u}=Je(),{loaderData:h,matches:p}=$e(),m=e.useMemo(()=>Ke(a,n,p,l,i,"data"),[a,n,p,l,i]),f=e.useMemo(()=>Ke(a,n,p,l,i,"assets"),[a,n,p,l,i]),g=e.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach(s=>{var a;let n=l.routes[s.route.id];n&&n.hasLoader&&(!m.some(e=>e.route.id===s.route.id)&&s.route.id in h&&null!==(a=c[s.route.id])&&void 0!==a&&a.shouldRevalidate||n.hasClientLoader?t=!0:e.add(s.route.id))}),0===e.size)return[];let s=Ue(a,u,"data");return t&&e.size>0&&s.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[u,h,i,l,m,n,a,c]),v=e.useMemo(()=>Xe(f,l),[f,l]),x=nt(f);return e.createElement(e.Fragment,null,g.map(t=>e.createElement("link",o({key:t,rel:"prefetch",as:"fetch",href:t},r))),v.map(t=>e.createElement("link",o({key:t,rel:"modulepreload",href:t},r))),x.map(t=>{let{key:s,link:a}=t;return e.createElement("link",o({key:s,nonce:r.nonce},a))}))}var it=!1;function ot(t){let{manifest:a,serverHandoffString:n,isSpaMode:r,renderMeta:i,routeDiscovery:c,ssr:d}=et(),{router:u,static:h,staticContext:p}=Je(),{matches:m}=$e(),f=e.useContext(ee),g=Qe(c,d);i&&(i.didRenderScripts=!0);let v=st(m,null,r);e.useEffect(()=>{it=!0},[]);let x=e.useMemo(()=>{var r;if(f)return null;let i=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(r=a.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(a.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(a.url)),";\n").concat(v.map((e,t)=>{let s="route".concat(t),n=a.routes[e.route.id];ze(n,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=n,d=[...r?[{module:r,varName:"".concat(s,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(s,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(s,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(s,"_HydrateFallback")}]:[],{module:c,varName:"".concat(s,"_main")}];return 1===d.length?"import * as ".concat(s," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(s," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:a}=e,n=s(e,l),r=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(i.pop();i.length>0;)c.push("/".concat(i.join("/"))),i.pop();c.forEach(e=>{let s=P(t.routes,e,t.basename);s&&s.forEach(e=>r.add(e.route.id))});let d=[...r].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return o(o({},n),{},{routes:d,sri:!!a||void 0})}(a,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(a.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",o(o({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(i),type:void 0})),e.createElement("script",o(o({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(c),type:"module",async:!0})))},[]),b=it||f?[]:(y=a.entry.imports.concat(Xe(v,a,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let _="object"===typeof a.sri?a.sri:{};return Fe(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),it||f?null:e.createElement(e.Fragment,null,"object"===typeof a.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}}):null,g?null:e.createElement("link",{rel:"modulepreload",href:a.url,crossOrigin:t.crossOrigin,integrity:_[a.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:a.entry.module,crossOrigin:t.crossOrigin,integrity:_[a.entry.module],suppressHydrationWarning:!0}),b.map(s=>e.createElement("link",{key:s,rel:"modulepreload",href:s,crossOrigin:t.crossOrigin,integrity:_[s],suppressHydrationWarning:!0})),x)}function lt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function ct(t){let{error:s,isOutsideRemixApp:a}=t;console.error(s);let n,r=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Y(s))return e.createElement(dt,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},s.status," ",s.statusText),r);if(s instanceof Error)n=s;else{let e=null==s?"Unknown Error":"object"===typeof s&&"toString"in s?s.toString():JSON.stringify(s);n=new Error(e)}return e.createElement(dt,{title:"Application Error!",isOutsideRemixApp:a},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),r)}function dt(t){var s;let{title:a,renderScripts:n,isOutsideRemixApp:r,children:i}=t,{routeModules:o}=et();return null!==(s=o.root)&&void 0!==s&&s.Layout&&!r?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,a)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?e.createElement(ot,null):null)))}var ut="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ut&&(window.__reactRouterVersion="7.8.2")}catch(va){}function ht(t){let{basename:s,children:a,window:n}=t,r=e.useRef();null==r.current&&(r.current=f({window:n,v5Compat:!0}));let i=r.current,[o,l]=e.useState({action:i.action,location:i.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>i.listen(c),[i,c]),e.createElement(je,{basename:s,children:a,location:o.location,navigationType:o.action,navigator:i})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=e.forwardRef(function(t,a){let n,{onClick:r,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:p,target:m,to:f,preventScrollReset:x,viewTransition:b}=t,_=s(t,u),{basename:w}=e.useContext(ne),S="string"===typeof f&&pt.test(f),P=!1;if("string"===typeof f&&S&&(n=f,ut))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),s=B(t.pathname,w);t.origin===e.origin&&null!=s?f=s+t.search+t.hash:P=!0}catch(va){v(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let A=function(t){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=e.useContext(ne),{hash:r,pathname:i,search:o}=pe(t,{relative:s}),l=i;return"/"!==a&&(l="/"===i?a:V([a,i])),n.createHref({pathname:l,search:o,hash:r})}(f,{relative:c}),[k,C,F]=function(t,s){let a=e.useContext(Ze),[n,r]=e.useState(!1),[i,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=s,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(n){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[n]);let m=()=>{r(!0)},f=()=>{r(!1),o(!1)};return a?"intent"!==t?[i,p,{}]:[i,p,{onFocus:tt(l,m),onBlur:tt(c,f),onMouseEnter:tt(d,m),onMouseLeave:tt(u,f),onTouchStart:tt(h,m)}]:[!1,p,{}]}(l,_),E=function(t){let{target:s,replace:a,state:n,preventScrollReset:r,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),d=pe(t,{relative:i});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,s)){e.preventDefault();let s=void 0!==a?a:y(c)===y(d);l(t,{replace:s,state:n,preventScrollReset:r,relative:i,viewTransition:o})}},[c,l,d,a,n,s,t,r,i,o])}(f,{replace:h,state:p,target:m,preventScrollReset:x,relative:c,viewTransition:b});let N=e.createElement("a",o(o(o({},_),F),{},{href:n||A,onClick:P||d?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:lt(a,C),target:m,"data-discover":S||"render"!==i?void 0:"true"}));return k&&!S?e.createElement(e.Fragment,null,N,e.createElement(at,{page:A})):N});mt.displayName="Link",e.forwardRef(function(t,a){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:c,to:d,viewTransition:u,children:p}=t,m=s(t,h),f=pe(d,{relative:m.relative}),v=ce(),x=e.useContext(Z),{navigator:b,basename:y}=e.useContext(ne),_=null!=x&&function(t){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.useContext(te);g(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=vt("useViewTransitionState"),r=pe(t,{relative:s});if(!a.isTransitioning)return!1;let i=B(a.currentLocation.pathname,n)||a.currentLocation.pathname,o=B(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=L(r.pathname,o)||null!=L(r.pathname,i)}(f)&&!0===u,w=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,S=v.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(S=S.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&y&&(P=B(P,y)||P);const A="/"!==w&&w.endsWith("/")?w.length-1:w.length;let k,C=S===w||!l&&S.startsWith(w)&&"/"===S.charAt(A),F=null!=P&&(P===w||!l&&P.startsWith(w)&&"/"===P.charAt(w.length)),E={isActive:C,isPending:F,isTransitioning:_},N=C?n:void 0;k="function"===typeof i?i(E):[i,C?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let j="function"===typeof c?c(E):c;return e.createElement(mt,o(o({},m),{},{"aria-current":N,className:k,ref:a,style:j,to:d,viewTransition:u}),"function"===typeof p?p(E):p)}).displayName="NavLink";var ft=e.forwardRef((t,a)=>{let{discover:n="render",fetcherKey:r,navigate:i,reloadDocument:l,replace:c,state:d,method:u=Re,action:h,onSubmit:m,relative:f,preventScrollReset:v,viewTransition:x}=t,b=s(t,p),_=yt(),w=function(t){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:a}=e.useContext(ne),n=e.useContext(ie);g(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),i=o({},pe(t||".",{relative:s})),l=ce();if(null==t){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let s=e.toString();i.search=s?"?".concat(s):""}}t&&"."!==t||!r.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==a&&(i.pathname="/"===i.pathname?a:V([a,i.pathname]));return y(i)}(h,{relative:f}),S="get"===u.toLowerCase()?"get":"post",P="string"===typeof h&&pt.test(h);return e.createElement("form",o(o({ref:a,method:S,action:w,onSubmit:l?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,s=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;_(t||e.currentTarget,{fetcherKey:r,method:s,navigate:i,replace:c,state:d,relative:f,preventScrollReset:v,viewTransition:x})}},b),{},{"data-discover":P||"render"!==n?void 0:"true"}))});function gt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(t){let s=e.useContext($);return g(s,gt(t)),s}ft.displayName="Form";var xt=0,bt=()=>"__".concat(String(++xt),"__");function yt(){let{router:t}=vt("useSubmit"),{basename:s}=e.useContext(ne),a=Se("useRouteId");return e.useCallback(async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:r,method:i,encType:o,formData:l,body:c}=Be(e,s);if(!1===n.navigate){let e=n.fetcherKey||bt();await t.fetch(e,a,n.action||r,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||i,formEncType:n.encType||o,flushSync:n.flushSync})}else await t.navigate(n.action||r,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||i,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[t,s,a])}var _t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wt=["color","size","strokeWidth","absoluteStrokeWidth","children"];var St=(t,a)=>{const n=(0,e.forwardRef)((n,r)=>{let{color:i="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:u}=n,h=s(n,wt);return(0,e.createElement)("svg",o(o({ref:r},_t),{},{width:l,height:l,stroke:i,strokeWidth:d?24*Number(c)/Number(l):c,className:"lucide lucide-".concat((p=t,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},h),[...a.map(t=>{let[s,a]=t;return(0,e.createElement)(s,a)}),...(Array.isArray(u)?u:[u])||[]]);var p});return n.displayName="".concat(t),n};const Pt=St("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),At=St("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),kt=St("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Ct=St("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ft=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Et=St("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var Nt=__webpack_require__(579);function jt(){const t=ce(),[s,a]=(0,e.useState)(!1),n="/"===t.pathname,r="/comprehensive"===t.pathname,i="/metrics/definitions"===t.pathname,o="/metrics"===t.pathname||t.pathname.startsWith("/metrics")&&!i;return(0,Nt.jsx)("nav",{className:"bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 shadow-2xl border-b-4 border-red-600 mb-4 sm:mb-8",children:(0,Nt.jsxs)("div",{className:"w-full max-w-full sm:max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:[(0,Nt.jsx)("div",{className:"hidden lg:block",children:(0,Nt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 pr-2 sm:pr-8",children:[(0,Nt.jsx)("div",{className:"bg-white rounded-lg p-2 sm:p-3 shadow-lg",children:(0,Nt.jsx)("img",{src:"/KWbug.png",alt:"WKI Kenworth Logo",className:"h-8 sm:h-12 w-auto"})}),(0,Nt.jsx)("a",{href:"https://paccar.decisiv.net/",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-lg p-2 sm:p-3 shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:scale-105",children:(0,Nt.jsx)("img",{src:"/Decisiv-Logo.svg",alt:"Decisiv Logo",className:"h-8 sm:h-12 w-auto"})}),(0,Nt.jsxs)("div",{className:"text-white font-bold",children:[(0,Nt.jsx)("div",{className:"text-base sm:text-xl text-red-400",children:"WKI Service Management"}),(0,Nt.jsx)("div",{className:"text-xs sm:text-sm text-slate-300",children:"The Worlds Best!"})]})]}),(0,Nt.jsxs)("div",{className:"flex flex-col space-y-2 sm:space-y-3",children:[(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[(0,Nt.jsxs)(mt,{to:"/",className:"flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 ".concat(n?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg shadow-red-500/25":"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white border border-slate-600"),children:[(0,Nt.jsx)(Pt,{size:20}),(0,Nt.jsx)("span",{children:"Workflow"})]}),(0,Nt.jsxs)(mt,{to:"/metrics",className:"flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 ".concat(o?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg shadow-red-500/25":"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white border border-slate-600"),children:[(0,Nt.jsx)(At,{size:20}),(0,Nt.jsx)("span",{children:"Metrics"})]}),(0,Nt.jsxs)(mt,{to:"/comprehensive",className:"flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 ".concat(r?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg shadow-red-500/25":"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white border border-slate-600"),children:[(0,Nt.jsx)(kt,{size:20}),(0,Nt.jsx)("span",{children:"Detailed"})]}),(0,Nt.jsxs)(mt,{to:"/metrics/definitions",className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 border-2 ".concat(i?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg shadow-blue-500/25 border-blue-500":"bg-slate-800 text-slate-300 hover:bg-blue-600 hover:text-white border-blue-500/50 hover:border-blue-400 dark:bg-slate-800 dark:text-slate-300"),children:[(0,Nt.jsx)(Ct,{size:18}),(0,Nt.jsx)("span",{className:"text-sm font-semibold",children:"Metrics Guide"})]})]}),(0,Nt.jsx)("div",{className:"flex justify-end"})]})]})}),(0,Nt.jsxs)("div",{className:"lg:hidden",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Nt.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:(0,Nt.jsx)("img",{src:"/KWbug.png",alt:"WKI Kenworth Logo",className:"h-5 w-auto"})}),(0,Nt.jsxs)("div",{className:"text-white font-bold",children:[(0,Nt.jsx)("div",{className:"text-xs text-red-400",children:"WKI Service"}),(0,Nt.jsx)("div",{className:"text-[10px] text-slate-300",children:"Management"})]})]}),(0,Nt.jsx)("button",{onClick:()=>a(!s),className:"p-2 text-white hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle mobile menu",children:s?(0,Nt.jsx)(Ft,{size:20}):(0,Nt.jsx)(Et,{size:20})})]}),s&&(0,Nt.jsx)("div",{className:"mt-2 pb-2 border-t border-slate-700",children:(0,Nt.jsxs)("div",{className:"flex flex-col space-y-1 mt-2",children:[(0,Nt.jsxs)(mt,{to:"/",onClick:()=>a(!1),className:"flex items-center space-x-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ".concat(n?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg":"text-slate-300 hover:bg-slate-700 hover:text-white"),children:[(0,Nt.jsx)(Pt,{size:20}),(0,Nt.jsx)("span",{children:"Workflow"})]}),(0,Nt.jsxs)(mt,{to:"/metrics",onClick:()=>a(!1),className:"flex items-center space-x-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ".concat(o?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg":"text-slate-300 hover:bg-slate-700 hover:text-white"),children:[(0,Nt.jsx)(At,{size:20}),(0,Nt.jsx)("span",{children:"Metrics Dashboard"})]}),(0,Nt.jsxs)(mt,{to:"/comprehensive",onClick:()=>a(!1),className:"flex items-center space-x-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ".concat(r?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg":"text-slate-300 hover:bg-slate-700 hover:text-white"),children:[(0,Nt.jsx)(kt,{size:20}),(0,Nt.jsx)("span",{children:"Detailed Workflow"})]}),(0,Nt.jsxs)(mt,{to:"/metrics/definitions",onClick:()=>a(!1),className:"flex items-center space-x-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 border border-blue-500/50 ".concat(i?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg border-blue-500":"text-slate-300 hover:bg-blue-600 hover:text-white hover:border-blue-400"),children:[(0,Nt.jsx)(Ct,{size:20}),(0,Nt.jsx)("span",{children:"Metrics Guide"})]}),(0,Nt.jsx)("div",{className:"pt-2 mt-2 border-t border-slate-700",children:(0,Nt.jsxs)("a",{href:"https://paccar.decisiv.net/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 px-4 py-3 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-all duration-200",children:[(0,Nt.jsx)("div",{className:"bg-white rounded p-1",children:(0,Nt.jsx)("img",{src:"/Decisiv-Logo.svg",alt:"Decisiv Logo",className:"h-4 w-auto"})}),(0,Nt.jsx)("span",{children:"Decisiv Portal"})]})})]})})]})]})})}const Tt=[{title:"Case Created\n& Truck Arrives Onsite",id:"case-created",roles:["service-advisor"],isQAB:!0,actionButton:"CHECK-IN"},{title:"Create RO\nfrom Decisiv Case",id:"create-ro",roles:["service-advisor"]},{title:"Update Case\nwith Lines & Parts",id:"update-case",roles:["service-advisor","parts-staff","technician"]},{title:"Send Initial\nEstimate to Customer",id:"send-estimate",roles:["service-advisor"],hasETR:!0,etrType:"required"},{title:"Customer Approves\nEstimate",id:"approve-estimate",roles:["service-advisor"],isQAB:!0,actionButton:"REQUEST APPROVAL"},{title:"Parts Picked or\nOrdered for RO",id:"parts-picked",roles:["parts-staff"]},{title:"Repair in\nProcess",id:"repair-process",roles:["technician"],hasETR:!0,etrType:"update"},{title:"Technician Story\nWrite Up",id:"tech-writeup",roles:["technician"]},{title:"Service Advisor\nAdmin Work",id:"admin-work",roles:["service-advisor"]},{title:"Notify Customer\nRepair is Complete",id:"notify-customer",roles:["service-advisor"],hasETR:!0,etrType:"update"},{title:"Invoice\nCustomer",id:"invoice-customer",roles:["service-advisor","service-clerk"]},{title:"Truck Departs\nService Location",id:"truck-departs",roles:["service-advisor"],isQAB:!0,actionButton:"ASSET READY"}],Mt=[{id:"all",name:"All Roles"},{id:"service-advisor",name:"Service Advisors"},{id:"parts-staff",name:"Parts Staff"},{id:"technician",name:"Foremen/Technicians"},{id:"service-clerk",name:"Service Clerk"}];function Rt(){const[t,s]=(0,e.useState)("all"),[a,n]=(0,e.useState)(null),r=e=>"all"===t||e.roles.includes(t)?"opacity-100":"opacity-30";return(0,Nt.jsxs)("div",{className:"w-full max-w-6xl lg:max-w-7xl xl:max-w-8xl bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl shadow-2xl border border-slate-200 p-2 sm:p-4 md:p-8 flex flex-col gap-6 sm:gap-8 mx-auto",children:[(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-4 sm:p-6 shadow-lg gap-2",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"WKI Service Management Process"}),(0,Nt.jsx)("p",{className:"text-red-100 font-semibold text-lg",children:"Start Every Repair Order in Decisiv"})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Nt.jsx)("div",{className:"bg-white rounded-lg p-3 shadow-lg",children:(0,Nt.jsx)("img",{src:"/kenworth_logo-header.png",alt:"Kenworth Logo",className:"h-12 w-auto"})}),(0,Nt.jsx)("a",{href:"https://paccar.decisiv.net/",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-lg p-3 shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:scale-105",children:(0,Nt.jsx)("img",{src:"/Decisiv-Logo.svg",alt:"Decisiv Logo",className:"h-12 w-auto"})})]})]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 mb-4 sm:mb-6 justify-center bg-slate-800 rounded-xl p-2 sm:p-4 shadow-lg",children:[(0,Nt.jsx)("span",{className:"text-slate-300 font-semibold mr-2 self-center",children:"Filter by Role:"}),Mt.map(e=>(0,Nt.jsx)("button",{onClick:()=>s(e.id),className:"px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg ".concat(t===e.id?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-red-500/25":"bg-gradient-to-r from-slate-200 to-slate-300 text-slate-800 hover:from-slate-300 hover:to-slate-400 border border-slate-400"),children:e.name},e.id))]}),(0,Nt.jsx)("div",{className:"flex justify-center -mb-2",children:(0,Nt.jsx)("img",{src:"/Workflowtruck.png",alt:"WKI Service Management Process Workflow",className:"max-w-full h-auto rounded-lg shadow-lg max-h-40 sm:max-h-72 md:max-h-96"})}),(0,Nt.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,Nt.jsx)("div",{className:"w-full flex justify-center",children:(0,Nt.jsx)("div",{className:"flex w-full max-w-5xl lg:max-w-6xl xl:max-w-7xl 2xl:max-w-8xl overflow-x-auto sm:overflow-x-visible scrollbar-thin scrollbar-thumb-slate-400 scrollbar-track-slate-200 justify-between md:justify-center items-end z-10 mb-6 gap-2 sm:gap-0 px-1 sm:px-0 mx-auto",style:{WebkitOverflowScrolling:"touch",margin:"0 auto"},children:Tt.map((e,t)=>(0,Nt.jsxs)("div",{className:"flex flex-col items-center min-w-[7rem] sm:w-32 transition-all duration-300 relative ".concat(r(e)),onMouseEnter:()=>n(e.id),onMouseLeave:()=>n(null),children:[a===e.id&&(0,Nt.jsxs)("div",{className:"absolute -top-24 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white p-3 rounded-lg shadow-xl z-50 min-w-48 text-center animate-fade-in",children:[(0,Nt.jsx)("div",{className:"text-sm font-semibold mb-1",children:e.title.replace("\n"," ")}),(0,Nt.jsxs)("div",{className:"text-xs text-slate-300 mb-2",children:["Roles: ",e.roles.map(e=>(e=>e.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase()))(e)).join(", ")]}),e.isQAB&&(0,Nt.jsx)("div",{className:"text-xs bg-yellow-400 text-black px-2 py-1 rounded font-bold",children:"QAB Checkpoint"}),e.hasETR&&(0,Nt.jsx)("div",{className:"text-xs bg-yellow-500 text-black px-2 py-1 rounded font-bold mt-1",children:"required"===e.etrType?"ETR Required":"ETR Check/Update"}),e.actionButton&&(0,Nt.jsxs)("div",{className:"text-xs bg-blue-500 text-white px-2 py-1 rounded mt-1",children:["Action: ",e.actionButton]}),(0,Nt.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-slate-800"})]}),(0,Nt.jsx)("button",{onClick:()=>{return t=e.id,void console.log("Clicked step: ".concat(t));var t},className:"bg-gradient-to-br from-slate-100 to-slate-200 border-2 border-slate-300 rounded-xl px-2 py-2 sm:px-4 sm:py-3 text-center text-[0.7rem] sm:text-xs font-bold whitespace-pre-line shadow-lg mb-2 transition-all duration-300 hover:shadow-xl hover:scale-110 transform hover:border-red-400 hover:from-red-50 hover:to-red-100 ".concat(a===e.id?"bg-gradient-to-br from-red-100 to-red-200 border-red-500 shadow-xl scale-110 text-red-800":"text-slate-800"),children:e.title}),e.isQAB&&(0,Nt.jsxs)("div",{className:"mt-2 flex flex-col items-center",children:[(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-full w-12 h-12 flex items-center justify-center font-bold text-white text-lg border-2 border-red-700 shadow-lg transition-all duration-300 hover:shadow-red-500/50 ".concat(a===e.id?"scale-125 shadow-red-500/50":""),children:"QAB"}),(0,Nt.jsx)("div",{className:"h-4"})]}),e.hasETR&&(0,Nt.jsxs)("div",{className:"".concat(e.isQAB?"":"mt-2"," flex flex-col items-center"),children:[(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full w-12 h-12 flex items-center justify-center font-bold text-black text-lg border-2 border-yellow-600 shadow-lg transition-all duration-300 hover:shadow-yellow-500/50 ".concat(a===e.id?"scale-125 shadow-yellow-500/50":""),children:"ETR"}),(0,Nt.jsx)("div",{className:"h-4"})]}),e.actionButton&&(0,Nt.jsx)("button",{onClick:()=>console.log("Action: ".concat(e.actionButton," for ").concat(e.id)),className:"bg-gradient-to-r from-slate-700 to-slate-800 text-white px-4 py-2 rounded-lg font-bold text-xs shadow-lg mt-2 transition-all duration-300 hover:from-slate-800 hover:to-slate-900 hover:scale-105 border border-slate-600 hover:shadow-xl ".concat(a===e.id?"from-slate-800 to-slate-900 scale-105 shadow-xl":""),children:e.actionButton})]},e.id))})}),(0,Nt.jsx)("div",{className:"w-full flex justify-center",children:(0,Nt.jsx)("div",{className:"h-2 bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 rounded-full z-0 relative shadow-inner min-w-0 max-w-6xl lg:max-w-7xl xl:max-w-8xl w-full mx-auto",children:(0,Nt.jsx)("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-red-600 to-transparent rounded-full transition-all duration-500 shadow-lg opacity-50",style:{width:"30%"}})})}),(0,Nt.jsxs)("div",{className:"flex w-full max-w-6xl lg:max-w-7xl xl:max-w-8xl mx-auto justify-between text-slate-700 font-bold text-xs sm:text-sm",style:{marginTop:"1%"},children:[(0,Nt.jsx)("span",{className:"bg-slate-200 px-2 py-1 rounded-full shadow ml-4 sm:ml-20",children:"Triage Time Begins"}),(0,Nt.jsx)("span",{className:"bg-slate-200 px-2 py-1 rounded-full shadow mr-4 sm:mr-0",children:"Dwell Time Ends"})]})]}),(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 mt-6 sm:mt-8",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-4 sm:p-8 flex-1 flex flex-col justify-center items-center shadow-2xl border border-red-700",children:[(0,Nt.jsx)("h3",{className:"text-lg sm:text-2xl font-bold text-white mb-2 sm:mb-4 drop-shadow-lg",children:"Kenworth Goals"}),(0,Nt.jsx)("div",{className:"text-red-100 font-bold text-base sm:text-xl mb-1 sm:mb-2",children:"Triage: 2 Hours or less"}),(0,Nt.jsx)("div",{className:"text-red-100 font-bold text-base sm:text-xl",children:"Dwell: 3 Days or less"})]}),(0,Nt.jsxs)("div",{className:"flex-1 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-3 sm:p-6 shadow-xl border border-slate-300",children:[(0,Nt.jsx)("h3",{className:"text-lg sm:text-2xl font-bold mb-2 sm:mb-4 text-slate-800 border-b border-slate-400 pb-1 sm:pb-2",children:"Remember Every Case Needs:"}),(0,Nt.jsxs)("ul",{className:"list-none text-slate-700 text-xs sm:text-sm grid grid-cols-1 md:grid-cols-2 gap-x-2 sm:gap-x-4 gap-y-1 sm:gap-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"Primary Email Contact"})]}),(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"Follow Up Time"})]}),(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"Case-Level Complaint"})]}),(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"Accurate Estimate Approvals"})]}),(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"Quick Action Button Usage"})]}),(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"Every Case Updated Twice Daily"})]}),(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"ETR- Estimated Time to Repair Populated and Maintained"})]}),(0,Nt.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Nt.jsx)("span",{children:"Export and Repair Order # from DBS"})]})]})]})]})]})}const Dt=St("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),It=St("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Lt=St("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Ot=St("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Gt=[{title:"Case Created\n& Truck Arrives Onsite",id:"case-created",roles:["service-advisor"],isQAB:!0,actionButton:"CHECK-IN",phase:"check-in",description:"Initial case creation and truck arrival"},{title:"Create RO\nfrom Decisiv Case",id:"create-ro",roles:["service-advisor"],phase:"check-in",description:"Generate repair order from Decisiv case details"},{title:"Initial Vehicle\nInspection",id:"initial-inspection",roles:["service-advisor","technician"],phase:"check-in",description:"Complete preliminary vehicle assessment"},{title:"Update Case\nwith Lines & Parts",id:"update-case",roles:["service-advisor","parts-staff","technician"],phase:"check-in",description:"Add repair lines and parts to case - technicians request line additions, coordinate with foremen and parts staff"},{title:"Detailed\nDiagnostic",id:"diagnostic",roles:["technician"],phase:"diagnose",description:"Comprehensive system diagnostics"},{title:"Root Cause\nAnalysis",id:"root-cause",roles:["technician"],phase:"diagnose",description:"Identify underlying issues"},{title:"Create Initial\nEstimate",id:"create-estimate",roles:["service-advisor"],phase:"diagnose",description:"Generate cost estimate"},{title:"Send Initial\nEstimate to Customer",id:"send-estimate",roles:["service-advisor"],phase:"diagnose",description:"Customer estimate approval request"},{title:"Customer Approves\nEstimate",id:"approve-estimate",roles:["service-advisor"],isQAB:!0,actionButton:"REQUEST APPROVAL",phase:"diagnose",description:"Customer authorization received"},{title:"Parts Availability\nCheck",id:"parts-check",roles:["parts-staff"],phase:"repair",description:"Verify parts inventory"},{title:"Parts Picked or\nOrdered for RO",id:"parts-picked",roles:["parts-staff"],phase:"repair",description:"Parts procurement process"},{title:"Work Assignment\n& Scheduling",id:"work-assignment",roles:["service-advisor","technician"],phase:"repair",description:"Assign technician and schedule work"},{title:"Repair Work\nIn Process",id:"repair-process",roles:["technician"],phase:"repair",description:"Active repair operations"},{title:"Quality Control\nInspection",id:"qc-inspection",roles:["technician"],phase:"repair",description:"Post-repair quality check"},{title:"Additional Work\nApproval (if needed)",id:"additional-work",roles:["service-advisor"],phase:"repair",description:"Customer approval for extra work"},{title:"Final Repair\nVerification",id:"final-verification",roles:["technician"],phase:"repair",description:"Confirm all repairs complete"},{title:"Technician Story\nWrite Up",id:"tech-writeup",roles:["technician"],phase:"repair",description:"Document repair details"},{title:"Service Advisor\nAdmin Work",id:"admin-work",roles:["service-advisor"],phase:"closeout",description:"Administrative tasks and documentation"},{title:"Warranty Processing\n(if applicable)",id:"warranty-process",roles:["service-clerk"],phase:"closeout",description:"Process warranty claims"},{title:"Final Invoice\nPreparation",id:"invoice-prep",roles:["service-advisor"],phase:"closeout",description:"Prepare customer invoice"},{title:"Customer\nNotification",id:"notify-customer",roles:["service-advisor"],phase:"closeout",description:"Notify customer repair complete"},{title:"Invoice\nCustomer",id:"invoice-customer",roles:["service-advisor","service-clerk"],phase:"closeout",description:"Send final invoice"},{title:"Payment\nProcessing",id:"payment",roles:["service-advisor"],phase:"closeout",description:"Process customer payment"},{title:"Final Walk-Around\n& Documentation",id:"final-walkaround",roles:["service-advisor"],phase:"closeout",description:"Complete final inspection"},{title:"Truck Departs\nService Location",id:"truck-departs",roles:["service-advisor"],isQAB:!0,actionButton:"ASSET READY",phase:"closeout",description:"Vehicle ready for departure"}],Bt=[{id:"all",name:"All Roles"},{id:"service-advisor",name:"Service Advisors"},{id:"parts-staff",name:"Parts Staff"},{id:"technician",name:"Foremen/Technicians"},{id:"service-clerk",name:"Service Clerk"}],Wt={"check-in":"from-blue-500 to-blue-600",diagnose:"from-orange-500 to-orange-600",repair:"from-green-500 to-green-600",closeout:"from-purple-500 to-purple-600"},zt={"check-in":Dt,diagnose:It,repair:Lt,closeout:Ot};function Ut(){const[t,s]=(0,e.useState)("all"),[a,n]=(0,e.useState)(null),r=e=>e.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase()),i=e=>"all"===t||e.roles.includes(t)?"opacity-100":"opacity-30",o=["check-in","diagnose","repair","closeout"],l={"check-in":"Check-In",diagnose:"Diagnose",repair:"Repair",closeout:"Close Out"};return(0,Nt.jsxs)("div",{className:"w-full max-w-7xl bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl shadow-2xl border border-slate-200 p-8 flex flex-col gap-8 mx-auto",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-2 bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 shadow-lg",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Comprehensive Service Management Workflow"}),(0,Nt.jsx)("p",{className:"text-red-100 font-semibold text-lg",children:"Detailed Process Flow for Complete Service Operations"})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Nt.jsx)("div",{className:"bg-white rounded-lg p-3 shadow-lg",children:(0,Nt.jsx)("img",{src:"/kenworth_logo-header.png",alt:"Kenworth Logo",className:"h-12 w-auto"})}),(0,Nt.jsx)("a",{href:"https://paccar.decisiv.net/",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-lg p-3 shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:scale-105",children:(0,Nt.jsx)("img",{src:"/Decisiv-Logo.svg",alt:"Decisiv Logo",className:"h-12 w-auto"})})]})]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6 justify-center bg-slate-800 rounded-xl p-4 shadow-lg",children:[(0,Nt.jsx)("span",{className:"text-slate-300 font-semibold mr-2 self-center",children:"Filter by Role:"}),Bt.map(e=>(0,Nt.jsx)("button",{onClick:()=>s(e.id),className:"px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 ".concat(t===e.id?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg shadow-red-500/25":"bg-slate-600 text-slate-200 hover:bg-slate-500 border border-slate-500"),children:e.name},e.id))]}),(0,Nt.jsx)("div",{className:"space-y-12",children:o.map(e=>{const t=zt[e],s=(e=>Gt.filter(t=>t.phase===e))(e);return(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("div",{className:"bg-gradient-to-r ".concat(Wt[e]," rounded-xl p-4 mb-6 shadow-lg"),children:(0,Nt.jsxs)("div",{className:"flex items-center gap-3 text-white",children:[(0,Nt.jsx)(t,{size:28}),(0,Nt.jsxs)("h2",{className:"text-2xl font-bold",children:[l[e]," Phase"]}),(0,Nt.jsxs)("div",{className:"ml-auto text-sm bg-white/20 px-3 py-1 rounded-full",children:[s.length," steps"]})]})}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map((e,t)=>(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-lg border-2 transition-all duration-300 hover:shadow-xl ".concat(i(e)," ").concat(a===e.id?"border-red-400 transform scale-105":"border-slate-200"),onMouseEnter:()=>n(e.id),onMouseLeave:()=>n(null),children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-sm font-bold text-slate-800 mb-2 leading-tight",children:e.title}),e.description&&(0,Nt.jsx)("div",{className:"text-xs text-slate-600 mb-3 leading-relaxed",children:e.description}),(0,Nt.jsxs)("div",{className:"text-xs text-slate-500 mb-3",children:[(0,Nt.jsx)("div",{className:"text-xs text-slate-600 font-semibold mb-1",children:"Role Responsible:"}),e.roles.map(e=>(0,Nt.jsx)("span",{className:"inline-block bg-slate-100 text-slate-700 px-2 py-1 rounded mr-1 mb-1",children:r(e)},e))]})]}),e.isQAB&&(0,Nt.jsx)("div",{className:"absolute -top-3 -right-3",children:(0,Nt.jsx)("div",{className:"bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xs font-bold shadow-lg border-2 border-white",children:"QAB"})}),e.actionButton&&(0,Nt.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-200",children:(0,Nt.jsx)("button",{className:"w-full bg-gradient-to-r from-slate-700 to-slate-800 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:from-slate-600 hover:to-slate-700 transition-all shadow-lg",children:e.actionButton})})]}),t<s.length-1&&(0,Nt.jsx)("div",{className:"hidden lg:block absolute top-1/2 -right-3 w-6 h-0.5 bg-slate-300 transform -translate-y-1/2 z-10"})]},e.id))}),"closeout"!==e&&(0,Nt.jsx)("div",{className:"flex justify-center my-8",children:(0,Nt.jsx)("div",{className:"bg-slate-400 w-1 h-12 rounded-full"})})]},e)})}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 rounded-xl p-6 shadow-lg",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-white mb-4 drop-shadow-lg",children:"Workflow Summary"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Nt.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-red-400",children:Gt.length}),(0,Nt.jsx)("div",{className:"text-sm text-slate-300",children:"Total Steps"})]}),(0,Nt.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-red-400",children:Gt.filter(e=>e.isQAB).length}),(0,Nt.jsx)("div",{className:"text-sm text-slate-300",children:"QAB Checkpoints"})]}),(0,Nt.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-red-400",children:o.length}),(0,Nt.jsx)("div",{className:"text-sm text-slate-300",children:"Process Phases"})]}),(0,Nt.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-red-400",children:Bt.length-1}),(0,Nt.jsx)("div",{className:"text-sm text-slate-300",children:"Role Types"})]})]})]})]})}const Ht=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Vt=St("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),qt=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Kt=St("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Xt=[{id:"service-advisor",title:"Service Advisor",description:"ETR compliance, QAB usage, and PACCAR communication standards",icon:(0,Nt.jsx)(Ht,{size:32}),color:"bg-gradient-to-br from-red-600 to-red-700",path:"/metrics/service-advisor"},{id:"parts-staff",title:"Parts Staff",description:"Parts status discipline, downtime attribution, and PACCAR Vision compliance",icon:(0,Nt.jsx)(Vt,{size:32}),color:"bg-gradient-to-br from-red-600 to-red-700",path:"/metrics/parts-staff"},{id:"technician",title:"Foremen/Technicians",description:"Repair status discipline, PremierCare compliance, and ATR accuracy",icon:(0,Nt.jsx)(Lt,{size:32}),color:"bg-gradient-to-br from-red-600 to-red-700",path:"/metrics/technician"}],Yt=[{id:"wichita",title:"Wichita",description:"View performance metrics and scorecard data for Wichita location",icon:(0,Nt.jsx)(At,{size:32}),color:"bg-gradient-to-br from-blue-600 to-blue-700",path:"/metrics/wichita"},{id:"emporia",title:"Emporia",description:"View performance metrics and scorecard data for Emporia location",icon:(0,Nt.jsx)(At,{size:32}),color:"bg-gradient-to-br from-green-600 to-green-700",path:"/metrics/emporia"},{id:"dodge-city",title:"Dodge City",description:"View performance metrics and scorecard data for Dodge City location",icon:(0,Nt.jsx)(At,{size:32}),color:"bg-gradient-to-br from-purple-600 to-purple-700",path:"/metrics/dodge-city"},{id:"liberal",title:"Liberal",description:"View performance metrics and scorecard data for Liberal location",icon:(0,Nt.jsx)(At,{size:32}),color:"bg-gradient-to-br from-orange-600 to-orange-700",path:"/metrics/liberal"}];function Qt(){const[t,s]=(0,e.useState)("role"),a=he(),n="role"===t?Xt:Yt;return(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"text-center mb-12",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4",children:"PACCAR Dealer Performance Metrics"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300 mb-6",children:"role"===t?"Choose your role to see how your actions impact PACCAR dealer performance standards":"Select a location to view current performance metrics and scorecard data"}),(0,Nt.jsx)("div",{className:"flex justify-center mb-6",children:(0,Nt.jsxs)("div",{className:"bg-slate-800 p-1 rounded-lg border border-slate-700",children:[(0,Nt.jsx)("button",{onClick:()=>s("role"),className:"px-6 py-2 rounded-md font-medium transition-all ".concat("role"===t?"bg-red-600 text-white shadow-lg":"text-slate-400 hover:text-white"),children:"By Role"}),(0,Nt.jsx)("button",{onClick:()=>s("location"),className:"px-6 py-2 rounded-md font-medium transition-all ".concat("location"===t?"bg-red-600 text-white shadow-lg":"text-slate-400 hover:text-white"),children:"By Location"})]})}),(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-red-900/20 to-red-800/20 border border-red-500/30 rounded-lg p-4 inline-block backdrop-blur-sm",children:(0,Nt.jsx)("p",{className:"text-red-300 font-semibold",children:"role"===t?"Core metrics PACCAR tracks in Decisiv for WKI dealer performance":"Location-specific performance data from uploaded monthly scorecards"})}),(0,Nt.jsxs)("div",{className:"mt-8 flex flex-wrap justify-center gap-4",children:[(0,Nt.jsxs)(mt,{to:"/metrics/definitions",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-blue-500/25",children:[(0,Nt.jsx)(At,{className:"w-5 h-5 mr-2"}),"View Metrics Definitions & Guide"]}),(0,Nt.jsxs)(mt,{to:"/scorecard-manager",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-medium rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-green-500/25",children:[(0,Nt.jsx)(qt,{className:"w-5 h-5 mr-2"}),"Upload Monthly Scorecards"]}),(0,Nt.jsxs)(mt,{to:"/metrics/campaigns",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg hover:shadow-purple-500/25",children:[(0,Nt.jsx)(At,{className:"w-5 h-5 mr-2"}),"Campaign Completion Metrics"]}),(0,Nt.jsxs)(mt,{to:"/location-metrics",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg hover:shadow-purple-500/25",children:[(0,Nt.jsx)(Kt,{className:"w-5 h-5 mr-2"}),"View Location Performance"]})]})]}),(0,Nt.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:n.map(e=>(0,Nt.jsxs)("button",{onClick:()=>{return t=e.path,void a(t);var t},className:"group bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl shadow-2xl p-8 hover:shadow-red-500/25 hover:shadow-2xl transition-all duration-500 hover:scale-105 border border-slate-700 hover:border-red-500/50 flex flex-col items-center text-center",children:[(0,Nt.jsx)("div",{className:"".concat(e.color," w-16 h-16 rounded-full flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform duration-300 shadow-lg group-hover:shadow-red-500/50"),children:e.icon}),(0,Nt.jsx)("div",{className:"w-full flex justify-center mb-4",children:(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-white group-hover:text-red-400 transition-colors text-center px-2 leading-tight",children:e.title})}),(0,Nt.jsx)("p",{className:"text-slate-300 leading-relaxed mb-6",children:e.description}),(0,Nt.jsx)("div",{className:"text-red-400 font-semibold group-hover:text-red-300 flex items-center justify-center",children:"role"===t?"View My Impact \u2192":"View Location Metrics \u2192"})]},e.id))}),(0,Nt.jsxs)("div",{className:"mt-12 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 rounded-lg p-6 text-center border border-slate-700 shadow-lg",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Key Performance Areas"}),(0,Nt.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-slate-300",children:[(0,Nt.jsx)("span",{className:"bg-slate-700 px-3 py-1 rounded-full border border-slate-600 hover:border-red-500/50 transition-colors",children:"Triage Time"}),(0,Nt.jsx)("span",{className:"bg-slate-700 px-3 py-1 rounded-full border border-slate-600 hover:border-red-500/50 transition-colors",children:"Dwell Time"}),(0,Nt.jsx)("span",{className:"bg-slate-700 px-3 py-1 rounded-full border border-slate-600 hover:border-red-500/50 transition-colors",children:"Customer Satisfaction"}),(0,Nt.jsx)("span",{className:"bg-slate-700 px-3 py-1 rounded-full border border-slate-600 hover:border-red-500/50 transition-colors",children:"First-Time Fix Rate"}),(0,Nt.jsx)("span",{className:"bg-slate-700 px-3 py-1 rounded-full border border-slate-600 hover:border-red-500/50 transition-colors",children:"Parts Availability"}),(0,Nt.jsx)("span",{className:"bg-slate-700 px-3 py-1 rounded-full border border-slate-600 hover:border-red-500/50 transition-colors",children:"Communication Quality"})]})]})]})}const Jt=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$t=St("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Zt=St("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),es=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ts=St("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ss=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),as=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ns=St("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),rs=St("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),is=St("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),os=[{id:"dwell-time",name:"Dwell Time",category:"Operational Efficiency",description:"Average time customers spend waiting for service completion. Measured in hours from service start to completion.",calculation:"Extracted from monthly scorecard PDF data. Represents average hours per service case across all completed work.",target:"Less than 2.5 hours for optimal efficiency",impact:"Primary customer satisfaction metric. Longer dwell times lead to customer dissatisfaction and potential business loss.",workflowConnection:"Spans entire service process: Check-in through Service Completion and Vehicle Release",improvementTips:["Streamline diagnostic procedures to reduce initial assessment time","Ensure parts availability before starting work","Cross-train technicians to handle multiple service types","Implement appointment scheduling to better distribute workload"],roleResponsible:["Service Advisor","Technician","Parts Staff"],icon:(0,Nt.jsx)(Jt,{size:24}),unit:"hours"},{id:"triage-time",name:"Triage Time",category:"Operational Efficiency",description:"Time required to perform initial service assessment and diagnosis. Critical for setting customer expectations.",calculation:"Average time from vehicle check-in to completed initial diagnosis. Measured in minutes.",target:"Less than 15 minutes for quick assessment",impact:"Sets the tone for entire service experience. Fast triage leads to accurate estimates and better customer confidence.",workflowConnection:"First critical step: Vehicle Arrival through Initial Diagnosis and Estimate Creation",improvementTips:["Pre-stage diagnostic tools and equipment","Train technicians on systematic diagnostic approaches","Use standardized checklists for common issues","Maintain organized workspace for efficiency"],roleResponsible:["Technician","Service Advisor"],icon:(0,Nt.jsx)($t,{size:24}),unit:"minutes"},{id:"case-volume",name:"Case Volume",category:"Capacity Management",description:"Total number of service cases handled during the reporting period. Indicates service capacity utilization.",calculation:"Count of all completed and in-progress service cases during the monthly reporting period.",target:"Consistent workload management to optimize capacity",impact:"Reflects service department capacity and demand. Too high may indicate understaffing, too low may indicate inefficiency.",workflowConnection:"Encompasses all service activities from initial contact through case closure",improvementTips:["Monitor case flow patterns to identify peak periods","Balance workload across available technicians","Track case complexity to better estimate resource needs","Implement scheduling systems to smooth demand"],roleResponsible:["Service Manager","Service Advisor"],icon:(0,Nt.jsx)(At,{size:24}),unit:"cases"},{id:"customer-satisfaction",name:"Customer Satisfaction",category:"Customer Experience",description:"Customer satisfaction score based on service experience surveys and feedback. May be measured on different scales.",calculation:"Average score from customer satisfaction surveys. Can be percentage-based or rating scale (e.g., 1-5).",target:"Above 4.5/5.0 or 95% satisfaction rate",impact:"Directly impacts customer retention, referrals, and business reputation. Critical for long-term business success.",workflowConnection:"Influenced by all touchpoints: Initial Contact through Service Completion and Follow-up",improvementTips:["Follow up with customers after service completion","Address complaints quickly and professionally","Train staff on customer service excellence","Implement feedback systems to capture improvement opportunities"],roleResponsible:["Service Advisor","Service Manager","All Staff"],icon:(0,Nt.jsx)(Ht,{size:24}),unit:"rating"},{id:"etr-compliance",name:"ETR Compliance",category:"Customer Experience",description:"Estimated Time of Repair accuracy and compliance. Measures how well initial time estimates match actual completion times.",calculation:"Percentage of cases where actual completion time matches initial estimate within acceptable variance.",target:"Greater than 85% accuracy in time estimates",impact:"Builds customer trust and enables better planning. Poor ETR accuracy leads to customer dissatisfaction.",workflowConnection:"Set during initial diagnosis and tracked through service completion",improvementTips:["Use historical data to improve estimate accuracy","Account for parts availability in estimates","Include buffer time for unexpected complications","Update customers when estimates change"],roleResponsible:["Service Advisor","Technician"],icon:(0,Nt.jsx)(Dt,{size:24}),unit:"percentage"},{id:"first-time-fix",name:"First Time Fix Rate",category:"Quality",description:"Percentage of service issues resolved correctly on the first attempt without requiring return visits.",calculation:"Number of cases resolved on first attempt divided by total cases, expressed as percentage.",target:"Greater than 85% first-time resolution",impact:"Reduces rework costs, improves customer satisfaction, and demonstrates technical competency.",workflowConnection:"Measured from service completion through follow-up period to confirm resolution",improvementTips:["Invest in technician training and certification","Use proper diagnostic procedures before starting repairs","Ensure quality parts and materials are used","Implement quality control checks before vehicle release"],roleResponsible:["Technician","Service Manager"],icon:(0,Nt.jsx)(Lt,{size:24}),unit:"percentage"}],ls=["All Categories","Operational Efficiency","Customer Experience","Capacity Management","Quality"];function cs(){const[t,s]=(0,e.useState)("All Categories"),[a,n]=(0,e.useState)(null),r="All Categories"===t?os:os.filter(e=>e.category===t),i=(()=>{const e=localStorage.getItem("wki-scorecards");if(!e)return null;const t=JSON.parse(e);if(0===t.length)return null;const s=t.sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())[0];return null===s||void 0===s?void 0:s.metrics})(),o=(e,t)=>{if(!t)return null;const s=parseFloat(t);if(isNaN(s))return null;switch(e){case"dwell-time":return s<2.5?"good":s<4?"warning":"critical";case"triage-time":return s<15?"good":s<30?"warning":"critical";case"customer-satisfaction":return s>10?s>=95?"good":s>=90?"warning":"critical":s>=4.5?"good":s>=4?"warning":"critical";case"etr-compliance":case"first-time-fix":return s>=85?"good":s>=75?"warning":"critical";default:return null}},l=e=>{switch(e){case"good":return(0,Nt.jsx)(Dt,{size:16,className:"text-green-400"});case"warning":return(0,Nt.jsx)(It,{size:16,className:"text-yellow-400"});case"critical":return(0,Nt.jsx)(Zt,{size:16,className:"text-red-400"});default:return null}};return(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsxs)(mt,{to:"/metrics",className:"inline-flex items-center text-red-400 hover:text-red-300 mb-4 transition-colors",children:[(0,Nt.jsx)(es,{size:20,className:"mr-2"}),"Back to Metrics"]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 shadow-lg mb-6",children:[(0,Nt.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center",children:[(0,Nt.jsx)(At,{size:32,className:"mr-3"}),"Service Performance Metrics Guide"]}),(0,Nt.jsx)("p",{className:"text-red-100 text-lg",children:"Understanding key performance metrics for service excellence"})]}),i&&(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-6 mb-8 border border-slate-700",children:[(0,Nt.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[(0,Nt.jsx)(ts,{size:20,className:"mr-2 text-green-400"}),"Current Performance Overview"]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Nt.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("span",{className:"text-slate-300 text-sm",children:"Dwell Time"}),l(o("dwell-time",i.dwellTime))]}),(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white",children:[i.dwellTime||"N/A"," hrs"]})]}),(0,Nt.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("span",{className:"text-slate-300 text-sm",children:"Triage Time"}),l(o("triage-time",i.triageTime))]}),(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white",children:[i.triageTime||"N/A"," min"]})]}),(0,Nt.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("span",{className:"text-slate-300 text-sm",children:"Cases"}),(0,Nt.jsx)(At,{size:16,className:"text-blue-400"})]}),(0,Nt.jsx)("div",{className:"text-2xl font-bold text-white",children:i.cases||"N/A"})]}),(0,Nt.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("span",{className:"text-slate-300 text-sm",children:"Satisfaction"}),l(o("customer-satisfaction",i.satisfaction))]}),(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white",children:[i.satisfaction||"N/A",i.satisfaction&&(parseFloat(i.satisfaction)>10?"%":"/5")]})]})]})]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-3 mb-8 justify-center bg-slate-800 rounded-xl p-4 shadow-lg",children:[(0,Nt.jsx)("span",{className:"text-slate-300 font-semibold mr-2 self-center",children:"Filter by Category:"}),ls.map(e=>(0,Nt.jsx)("button",{onClick:()=>s(e),className:"px-4 py-2 rounded-lg font-medium transition-all transform hover:scale-105 ".concat(t===e?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg shadow-red-500/25":"bg-slate-600 text-slate-200 hover:bg-slate-500 border border-slate-500"),children:e},e))]})]}),(0,Nt.jsx)("div",{className:"space-y-6",children:r.map(e=>{return(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl shadow-xl border border-slate-700 overflow-hidden",children:[(0,Nt.jsxs)("button",{onClick:()=>{return t=e.id,void n(a===t?null:t);var t},className:"w-full p-6 text-left hover:bg-slate-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500/50",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-red-600 to-red-700 w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg",children:e.icon}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:e.name}),(0,Nt.jsx)("span",{className:"text-sm font-medium ".concat((t=e.category,{"Operational Efficiency":"text-blue-400","Customer Experience":"text-green-400",Quality:"text-purple-400","Capacity Management":"text-orange-400","Financial Performance":"text-yellow-400"}[t]||"text-slate-400")),children:e.category})]})]}),(0,Nt.jsx)("div",{className:"text-slate-400",children:a===e.id?(0,Nt.jsx)(ss,{size:24}):(0,Nt.jsx)(as,{size:24})})]}),(0,Nt.jsx)("p",{className:"text-slate-300 mt-3 text-lg",children:e.description})]}),a===e.id&&(0,Nt.jsx)("div",{className:"px-6 pb-6 border-t border-slate-700",children:(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 pt-6",children:[(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("h4",{className:"text-lg font-semibold text-red-400 mb-2 flex items-center",children:[(0,Nt.jsx)(ns,{size:16,className:"mr-2"}),"How It's Calculated"]}),(0,Nt.jsx)("p",{className:"text-slate-300 bg-slate-800 p-3 rounded-lg border border-slate-600",children:e.calculation})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("h4",{className:"text-lg font-semibold text-red-400 mb-2 flex items-center",children:[(0,Nt.jsx)($t,{size:16,className:"mr-2"}),"Target Performance"]}),(0,Nt.jsx)("p",{className:"text-slate-300 bg-slate-800 p-3 rounded-lg border border-slate-600",children:e.target})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("h4",{className:"text-lg font-semibold text-red-400 mb-2 flex items-center",children:[(0,Nt.jsx)(rs,{size:16,className:"mr-2"}),"Role Responsible"]}),(0,Nt.jsx)("div",{className:"flex flex-wrap gap-2",children:e.roleResponsible.map(e=>(0,Nt.jsx)("span",{className:"bg-red-600/20 text-red-300 px-3 py-1 rounded-full text-sm font-medium border border-red-500/30",children:e},e))})]})]}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("h4",{className:"text-lg font-semibold text-red-400 mb-2 flex items-center",children:[(0,Nt.jsx)(ts,{size:16,className:"mr-2"}),"Business Impact"]}),(0,Nt.jsx)("p",{className:"text-slate-300 bg-slate-800 p-3 rounded-lg border border-slate-600",children:e.impact})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("h4",{className:"text-lg font-semibold text-red-400 mb-2 flex items-center",children:[(0,Nt.jsx)(Vt,{size:16,className:"mr-2"}),"Workflow Connection"]}),(0,Nt.jsx)("p",{className:"text-slate-300 bg-slate-800 p-3 rounded-lg border border-slate-600",children:e.workflowConnection})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("h4",{className:"text-lg font-semibold text-red-400 mb-2 flex items-center",children:[(0,Nt.jsx)(is,{size:16,className:"mr-2"}),"Improvement Tips"]}),(0,Nt.jsx)("ul",{className:"space-y-2",children:e.improvementTips.map((e,t)=>(0,Nt.jsxs)("li",{className:"text-slate-300 flex items-start",children:[(0,Nt.jsx)("span",{className:"text-red-400 mr-2 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-sm",children:e})]},t))})]})]})]})})]},e.id);var t})}),(0,Nt.jsxs)("div",{className:"mt-12 bg-gradient-to-r from-slate-800 to-slate-900 rounded-xl p-8 shadow-2xl border border-slate-700",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 text-center flex items-center justify-center",children:[(0,Nt.jsx)($t,{size:24,className:"mr-2 text-red-400"}),"Key Takeaways"]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"bg-red-600/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)($t,{size:32,className:"text-red-400"})}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Interconnected Metrics"}),(0,Nt.jsx)("p",{className:"text-slate-300 text-sm",children:"All metrics work together - improving one positively impacts others"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"bg-red-600/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)(Ht,{size:32,className:"text-red-400"})}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Team Collaboration"}),(0,Nt.jsx)("p",{className:"text-slate-300 text-sm",children:"Success requires coordination across all roles in the workflow"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"bg-red-600/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)(ts,{size:32,className:"text-red-400"})}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Continuous Improvement"}),(0,Nt.jsx)("p",{className:"text-slate-300 text-sm",children:"Regular monitoring and optimization drives sustained performance gains"})]})]})]})]})}const ds=[],us=[{metric:"ETR Management",actions:["Set ETR within PremierCare 2-hour window","Include ETR on all posted estimates","Update ETR proactively when scope changes","Monitor Vision favorites for ETR Overdue cases"]},{metric:"Daily Updates",actions:["Implement daily case review protocols","Contact customers within 24-hour window minimum","Use automated reminders for update schedules","Monitor Vision Extended Update favorite"]},{metric:"QAB Usage",actions:["Use CHECK-IN button immediately when truck arrives","Click REQUEST APPROVAL for all estimates (auto-sets follow-up)","Mark ASSET READY when repairs complete","Use ASSET RELEASED to set ATR and complete case"]}];function hs(){const e=e=>{switch(e){case"good":return"text-green-400 bg-gradient-to-br from-slate-800 to-slate-900 border-green-500/50";case"warning":return"text-yellow-400 bg-gradient-to-br from-slate-800 to-slate-900 border-yellow-500/50";case"critical":return"text-red-400 bg-gradient-to-br from-slate-800 to-slate-900 border-red-500/50";default:return"text-slate-300 bg-gradient-to-br from-slate-800 to-slate-900 border-slate-600"}},t=e=>{switch(e){case"good":return"\u2705";case"warning":return"\u26a0\ufe0f";case"critical":return"\ud83d\udd34";default:return"\ud83d\udcca"}};return(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Nt.jsx)("div",{className:"flex items-center mb-8",children:(0,Nt.jsxs)(mt,{to:"/metrics",className:"flex items-center text-red-400 hover:text-red-300 mr-4 transition-colors",children:[(0,Nt.jsx)(es,{size:20,className:"mr-2"}),"Back to Role Selection"]})}),(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-2",children:"Service Advisor Impact Dashboard"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300",children:"Your role drives customer satisfaction and operational efficiency"})]}),0===ds.length&&(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center mb-8",children:[(0,Nt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"No Service Advisor Data Available"}),(0,Nt.jsx)("p",{className:"text-slate-300 mb-6",children:"Service Advisor metrics will be available once W370 Service Scorecard data is uploaded and processed."})]}),ds.length>0&&(0,Nt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:ds.map((s,a)=>(0,Nt.jsxs)("div",{className:"rounded-lg border-2 p-6 shadow-2xl hover:shadow-red-500/25 transition-all duration-300 hover:scale-105 ".concat(e(s.status)),children:[(0,Nt.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Nt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("div",{className:"text-white",children:s.icon}),(0,Nt.jsx)("span",{className:"text-2xl",children:t(s.status)})]})}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:s.title}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:s.value}),(0,Nt.jsxs)("span",{className:"text-sm text-slate-400",children:["Target: ",s.target]})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:s.description}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:s.impact})]})]})]},a))}),ds.length>0&&(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-lg shadow-2xl border border-slate-700 p-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83c\udfaf Action Items to Improve Your Metrics"}),(0,Nt.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:us.map((e,t)=>(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2",children:e.metric}),(0,Nt.jsx)("ul",{className:"space-y-2",children:e.actions.map((e,t)=>(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:e})]},t))})]},t))})]}),(0,Nt.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-red-900/30 to-red-800/30 rounded-lg p-6 border border-red-500/50 backdrop-blur-sm",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-red-300 mb-4",children:"\ud83d\udca1 How Service Advisors Drive Dealer Success"}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 text-sm text-slate-300",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2 text-white",children:"Customer Experience Impact"}),(0,Nt.jsxs)("ul",{className:"space-y-1",children:[(0,Nt.jsx)("li",{children:"\u2022 Fast triage = Higher customer satisfaction scores"}),(0,Nt.jsx)("li",{children:"\u2022 Regular communication = Improved trust and retention"}),(0,Nt.jsx)("li",{children:"\u2022 Accurate estimates = Reduced complaints and rework"})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2 text-white",children:"Operational Impact"}),(0,Nt.jsxs)("ul",{className:"space-y-1",children:[(0,Nt.jsx)("li",{children:"\u2022 QAB usage = Better workflow tracking and efficiency"}),(0,Nt.jsx)("li",{children:"\u2022 Quick approvals = Reduced dwell time and costs"}),(0,Nt.jsx)("li",{children:"\u2022 Proactive coordination = Higher first-time fix rates"})]})]})]})]})]})]})}function ps(){return(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Nt.jsx)("div",{className:"flex items-center mb-8",children:(0,Nt.jsxs)(mt,{to:"/metrics",className:"flex items-center text-red-400 hover:text-red-300 mr-4 transition-colors",children:[(0,Nt.jsx)(es,{size:20,className:"mr-2"}),"Back to Role Selection"]})}),(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-2",children:"Parts Staff PACCAR Metrics"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300",children:"Your parts status discipline directly impacts PACCAR dealer performance tracking"})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-green-500/50 p-6 shadow-2xl hover:shadow-green-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(Vt,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u2705"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Parts Status Discipline"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"88%"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: > 95%"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Proper use of Hold (parts), Parts Ordered, B.O. statuses"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"PACCAR downtime attribution accuracy"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-yellow-500/50 p-6 shadow-2xl hover:shadow-yellow-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(Jt,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u26a0\ufe0f"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Parts Impact Tracking"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"24 hrs"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: < 12 hrs"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Average parts acquisition time for repairs"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"Parts delays tracked separately in PACCAR analysis"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-green-500/50 p-6 shadow-2xl hover:shadow-green-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(Jt,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u2705"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Parts Picking Time"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"12 min"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: < 15 min"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Average time to locate and pull parts"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"Technician Efficiency & Workflow"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-yellow-500/50 p-6 shadow-2xl hover:shadow-yellow-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(ts,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u26a0\ufe0f"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Order Accuracy"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"88%"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: > 95%"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Percentage of parts orders without errors"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"Rework Prevention & Customer Trust"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-green-500/50 p-6 shadow-2xl hover:shadow-green-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(It,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u2705"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Proactive Ordering"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"87%"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: > 85%"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Percentage of critical parts ordered proactively"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"Downtime Prevention & Planning"})]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-lg shadow-2xl border border-slate-700 p-8 mb-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83c\udfaf Action Items to Improve Your Metrics"}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2",children:"Parts Availability"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Monitor inventory levels daily"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Set automatic reorder points"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Review historical usage patterns"})]})]})]}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2",children:"Order Accuracy"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Double-check part numbers before ordering"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Use barcode scanning when possible"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Verify compatibility with technicians"})]})]})]}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2",children:"Picking Efficiency"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Organize parts by frequency of use"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Batch similar orders together"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Maintain clear labeling system"})]})]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-red-900/30 to-red-800/30 rounded-lg p-6 border border-red-500/50 backdrop-blur-sm",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-red-300 mb-4",children:"\ud83d\udca1 How Parts Staff Drive Dealer Success"}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 text-sm text-slate-300",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2 text-white",children:"Operational Impact"}),(0,Nt.jsxs)("ul",{className:"space-y-1",children:[(0,Nt.jsx)("li",{children:"\u2022 High availability = Reduced truck dwell time"}),(0,Nt.jsx)("li",{children:"\u2022 Fast picking = Better technician productivity"}),(0,Nt.jsx)("li",{children:"\u2022 Accurate orders = Fewer delays and customer complaints"})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2 text-white",children:"Financial Impact"}),(0,Nt.jsxs)("ul",{className:"space-y-1",children:[(0,Nt.jsx)("li",{children:"\u2022 Proactive ordering = Better inventory turnover"}),(0,Nt.jsx)("li",{children:"\u2022 Reduced errors = Lower return/exchange costs"}),(0,Nt.jsx)("li",{children:"\u2022 Efficient processes = Lower labor costs"})]})]})]})]})]})}function ms(){return(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Nt.jsx)("div",{className:"flex items-center mb-8",children:(0,Nt.jsxs)(mt,{to:"/metrics",className:"flex items-center text-red-400 hover:text-red-300 mr-4 transition-colors",children:[(0,Nt.jsx)(es,{size:20,className:"mr-2"}),"Back to Role Selection"]})}),(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-2",children:"Technician PACCAR Metrics"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300",children:"Your repair quality and QAB usage directly impact PACCAR dealer performance"})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-green-500/50 p-6 shadow-2xl hover:shadow-green-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(Dt,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u2705"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Repair Status Discipline"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"92%"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: > 95%"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Proper status progression and QAB usage"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"Accurate case tracking for PACCAR compliance"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-yellow-500/50 p-6 shadow-2xl hover:shadow-yellow-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(Jt,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u26a0\ufe0f"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"PremierCare Compliance"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"89%"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: 100%"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"2-hour diagnosis + ETR completion rate"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"PACCAR Gold ExpressLane requirement"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-green-500/50 p-6 shadow-2xl hover:shadow-green-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(Lt,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u2705"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"ATR Accuracy"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"4.2 hrs"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: Match ETR"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Actual Time to Repair vs estimated time"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"ETR accuracy and customer trust"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-green-500/50 p-6 shadow-2xl hover:shadow-green-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)($t,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u2705"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Diagnostic Accuracy"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"96%"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: > 95%"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Percentage of accurate problem identification"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"Repair Efficiency & Parts Costs"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg border-2 border-green-500/50 p-6 shadow-2xl hover:shadow-green-500/25 transition-all duration-300 hover:scale-105",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)(Lt,{size:24,className:"text-white"}),(0,Nt.jsx)("span",{className:"text-2xl",children:"\u2705"})]}),(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Safety Compliance"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:"100%"}),(0,Nt.jsx)("span",{className:"text-sm text-slate-400",children:"Target: 100%"})]}),(0,Nt.jsx)("p",{className:"text-sm text-slate-300",children:"Adherence to safety protocols and procedures"}),(0,Nt.jsxs)("div",{className:"mt-3 p-2 bg-slate-700/50 rounded text-xs border border-slate-600",children:[(0,Nt.jsx)("strong",{className:"text-red-400",children:"Impact:"})," ",(0,Nt.jsx)("span",{className:"text-slate-300",children:"Workplace Safety & Legal Compliance"})]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-lg shadow-2xl border border-slate-700 p-8 mb-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83c\udfaf Action Items to Improve Your Metrics"}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2",children:"Diagnostic Skills"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Follow systematic diagnostic procedures"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Use proper diagnostic tools and software"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Document findings thoroughly in case notes"})]})]})]}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2",children:"Quality Control"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Perform thorough post-repair testing"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Double-check torque specifications"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Complete final inspection checklists"})]})]})]}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-red-400 border-b border-red-500/50 pb-2",children:"Efficiency"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Organize tools and workspace efficiently"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Plan repair sequences to minimize downtime"})]}),(0,Nt.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,Nt.jsx)("span",{className:"text-red-500 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-slate-300",children:"Coordinate with Service Advisors proactively"})]})]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-red-900/30 to-red-800/30 rounded-lg p-6 border border-red-500/50 backdrop-blur-sm",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-red-300 mb-4",children:"\ud83d\udca1 How Technicians Drive Dealer Success"}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 text-sm text-slate-300",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2 text-white",children:"Quality Impact"}),(0,Nt.jsxs)("ul",{className:"space-y-1",children:[(0,Nt.jsx)("li",{children:"\u2022 High first-time fix rate = Improved customer confidence"}),(0,Nt.jsx)("li",{children:"\u2022 Accurate diagnostics = Reduced unnecessary parts costs"}),(0,Nt.jsx)("li",{children:"\u2022 Quality workmanship = Higher customer satisfaction scores"})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2 text-white",children:"Efficiency Impact"}),(0,Nt.jsxs)("ul",{className:"space-y-1",children:[(0,Nt.jsx)("li",{children:"\u2022 Fast, accurate repairs = Lower dwell time"}),(0,Nt.jsx)("li",{children:"\u2022 Proper procedures = Reduced liability and rework"}),(0,Nt.jsx)("li",{children:"\u2022 Good communication = Smoother workflow coordination"})]})]})]})]})]})}const fs=St("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),gs=St("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),vs=St("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),xs=(0,e.createContext)(void 0);function bs(t){let{children:s}=t;const[a,n]=(0,e.useState)(()=>localStorage.getItem("theme")||"auto"),[r,i]=(0,e.useState)("dark");(0,e.useEffect)(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{i("auto"===a?e.matches?"dark":"light":a)};if(t(),"auto"===a)return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[a]),(0,e.useEffect)(()=>{localStorage.setItem("theme",a),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r)},[a,r]);return(0,Nt.jsx)(xs.Provider,{value:{theme:a,actualTheme:r,setTheme:e=>{n(e)}},children:s})}const ys=[{value:"light",label:"Light",icon:(0,Nt.jsx)(fs,{size:16})},{value:"dark",label:"Dark",icon:(0,Nt.jsx)(gs,{size:16})},{value:"auto",label:"Auto",icon:(0,Nt.jsx)(vs,{size:16})}];function _s(){const{theme:t,setTheme:s}=function(){const t=(0,e.useContext)(xs);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t}();return(0,Nt.jsx)("div",{className:"fixed bottom-4 sm:bottom-6 right-2 sm:right-6 z-50 flex items-center space-x-1 bg-slate-800/90 backdrop-blur-md rounded-lg p-1 shadow-lg border border-slate-700/50",children:ys.map(e=>(0,Nt.jsxs)("button",{onClick:()=>s(e.value),className:"flex items-center space-x-1 px-2 sm:px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(t===e.value?"bg-white text-slate-800 shadow-md dark:bg-slate-600 dark:text-white":"text-slate-300 hover:text-white hover:bg-slate-600/50"),title:"Switch to ".concat(e.label.toLowerCase()," theme"),"aria-label":"Switch to ".concat(e.label.toLowerCase()," theme"),children:[e.icon,(0,Nt.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.value))})}const ws=St("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ss=St("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),Ps=St("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),As=St("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),ks=St("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Cs=[{id:"decisiv-portal",title:"Decisiv Portal",description:"Access Decisiv case management system",url:"https://paccar.decisiv.net/",icon:(0,Nt.jsx)(ws,{size:16}),category:"workflow",isExternal:!0},{id:"vision-dashboards",title:"Vision - Decisiv Dashboards",description:"Advanced analytics and reporting dashboards",url:"https://vision.decisivapps.com/",icon:(0,Nt.jsx)(Vt,{size:16}),category:"technical",isExternal:!0},{id:"canto-scorecard",title:"Canto - Dealer Scorecard",description:"Dealer scorecard documents and resources",url:"https://kenworth.canto.com/w/WichitaKenworth/album/SVDGV?display=curatedView&viewIndex=1&referenceTo=&from=thumbnail",icon:(0,Nt.jsx)(Lt,{size:16}),category:"technical",isExternal:!0},{id:"decisiv-training-portal",title:"Decisiv Training Portal",description:"Decisiv system training courses and certifications",url:"https://bca-training.net/kenworthdealertraining/launchseries/56D55CDB-8CE5-44F3-9BC6-BF60D21459F4",icon:(0,Nt.jsx)(Ht,{size:16}),category:"training",isExternal:!0},{id:"workflow-guide",title:"Service Workflow Guide",description:"Complete workflow procedures and best practices",url:"/metrics/definitions",icon:(0,Nt.jsx)(Ss,{size:16}),category:"workflow"}],Fs={workflow:"from-blue-500 to-blue-600",technical:"from-green-500 to-green-600",training:"from-purple-500 to-purple-600",policy:"from-orange-500 to-orange-600"},Es={workflow:"Workflow",technical:"Technical",training:"Training",policy:"Policy"};function Ns(){const[t,s]=(0,e.useState)(!1),[a,n]=(0,e.useState)("all"),r="all"===a?Cs:Cs.filter(e=>e.category===a);return(0,Nt.jsxs)("div",{className:"lg:w-full",children:[(0,Nt.jsx)("button",{onClick:()=>s(!t),className:"w-full p-2 xl:p-3 flex items-center justify-center hover:bg-slate-700/50 transition-colors duration-200 relative lg:rounded-lg","aria-label":t?"Minimize Quick Links":"Expand Quick Links",children:t?(0,Nt.jsxs)("div",{className:"flex items-center lg:flex-col lg:space-y-1",children:[(0,Nt.jsx)("span",{className:"text-xs font-semibold text-slate-200 mr-2 lg:mr-0 lg:mb-1",children:"Quick Links"}),(0,Nt.jsx)(as,{className:"w-4 h-4 xl:w-5 xl:h-5 text-slate-300 lg:hidden"}),(0,Nt.jsx)(Ps,{className:"w-4 h-4 xl:w-5 xl:h-5 text-slate-300 hidden lg:block"})]}):(0,Nt.jsxs)("div",{className:"flex items-center lg:flex-col lg:space-y-1",children:[(0,Nt.jsx)("span",{className:"text-xs font-semibold text-slate-300 mr-2 lg:mr-0 lg:mb-1",children:"Quick Links"}),(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(As,{className:"w-4 h-4 xl:w-5 xl:h-5 text-yellow-400 animate-bounce lg:mb-1"}),(0,Nt.jsx)(Ps,{className:"w-3 h-3 xl:w-4 xl:h-4 text-slate-300 ml-1 lg:ml-0"})]})]})}),t&&(0,Nt.jsxs)("div",{className:"lg:fixed lg:top-1/2 lg:right-4 lg:-translate-y-1/2 w-full lg:w-80 xl:w-96 p-3 xl:p-4 lg:bg-slate-900 lg:border lg:border-slate-700 lg:rounded-lg lg:shadow-2xl lg:z-40 max-h-96 lg:max-h-[80vh] overflow-hidden",children:[(0,Nt.jsxs)("div",{className:"mb-3 xl:mb-4 hidden lg:block",children:[(0,Nt.jsxs)("h3",{className:"text-base xl:text-lg font-bold text-slate-100 mb-1 xl:mb-2 flex items-center",children:["Quick Links",(0,Nt.jsx)(ks,{className:"w-4 h-4 xl:w-5 xl:h-5 ml-2 text-red-400"})]}),(0,Nt.jsx)("p",{className:"text-xs text-slate-400",children:"Reference Documents & Tools"})]}),(0,Nt.jsx)("div",{className:"mb-3 xl:mb-4",children:(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,Nt.jsx)("button",{onClick:()=>n("all"),className:"px-2 py-1 text-xs rounded-md font-medium transition-colors duration-200 ".concat("all"===a?"bg-red-600 text-white":"bg-slate-700/50 text-slate-300 hover:bg-slate-600"),children:"All"}),Object.entries(Es).map(e=>{let[t,s]=e;return(0,Nt.jsx)("button",{onClick:()=>n(t),className:"px-2 py-1 text-xs rounded-md font-medium transition-colors duration-200 ".concat(a===t?"bg-red-600 text-white":"bg-slate-700/50 text-slate-300 hover:bg-slate-600"),children:s},t)})]})}),(0,Nt.jsx)("div",{className:"space-y-2 max-h-60 lg:max-h-80 xl:max-h-96 overflow-y-auto",children:r.length>0?r.map(e=>(0,Nt.jsx)("button",{onClick:()=>(e=>{e.isExternal?window.open(e.url,"_blank","noopener,noreferrer"):window.location.href=e.url})(e),className:"w-full p-2 xl:p-3 text-left bg-slate-800/50 hover:bg-slate-700/50 rounded-lg transition-all duration-200 hover:scale-105 group border border-slate-700/50 hover:border-slate-600",children:(0,Nt.jsxs)("div",{className:"flex items-start space-x-2 xl:space-x-3",children:[(0,Nt.jsx)("div",{className:"p-1.5 xl:p-2 rounded-md bg-gradient-to-r ".concat(Fs[e.category]," text-white flex-shrink-0"),children:e.icon}),(0,Nt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Nt.jsx)("h4",{className:"text-xs xl:text-sm font-semibold text-white group-hover:text-red-400 transition-colors truncate",children:e.title}),e.isExternal&&(0,Nt.jsx)(ws,{className:"w-3 h-3 text-slate-400 flex-shrink-0"})]}),(0,Nt.jsx)("p",{className:"text-xs text-slate-400 mt-1 line-clamp-2",children:e.description})]})]})},e.id)):(0,Nt.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,Nt.jsx)(ks,{className:"w-12 h-12 text-slate-600 mx-auto mb-2"}),(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"No documents found"})]})}),(0,Nt.jsx)("div",{className:"mt-4 pt-3 border-t border-slate-700/50 hidden lg:block",children:(0,Nt.jsxs)("p",{className:"text-xs text-slate-500 text-center",children:[r.length," reference",1!==r.length?"s":""," available"]})})]})]})}function js(){return(0,Nt.jsx)("footer",{className:"bg-slate-900 border-t border-slate-700 mt-12",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-3 mb-6 md:mb-0",children:[(0,Nt.jsx)("div",{className:"bg-white rounded-lg p-2 shadow-lg",children:(0,Nt.jsx)("img",{src:"/KWbug.png",alt:"WKI Kenworth Logo",className:"h-8 w-auto"})}),(0,Nt.jsxs)("div",{className:"text-white",children:[(0,Nt.jsx)("div",{className:"font-bold text-red-400",children:"WKI Service Management"}),(0,Nt.jsxs)("div",{className:"text-xs text-slate-300",children:["\xa9 ",(new Date).getFullYear()," All rights reserved"]})]})]}),(0,Nt.jsx)("div",{className:"text-center md:text-right",children:(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-red-900/20 to-red-800/20 border border-red-500/30 rounded-lg p-4 backdrop-blur-sm max-w-md",children:[(0,Nt.jsx)("div",{className:"text-red-300 font-semibold text-sm mb-2",children:"\ud83d\udd12 WKI Proprietary Application"}),(0,Nt.jsx)("div",{className:"text-slate-300 text-xs leading-relaxed",children:"This application is proprietary to WKI and contains confidential business information. Unauthorized access, use, or distribution is strictly prohibited."})]})})]}),(0,Nt.jsx)("div",{className:"border-t border-slate-700 mt-6 pt-6",children:(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between text-xs text-slate-400",children:[(0,Nt.jsx)("div",{className:"mb-2 md:mb-0",children:"Built for PACCAR Dealer Performance Excellence"}),(0,Nt.jsxs)("div",{className:"flex space-x-4",children:[(0,Nt.jsx)("span",{children:"Service Management System"}),(0,Nt.jsx)("span",{children:"\u2022"}),(0,Nt.jsx)("span",{children:"Decisiv Integration"}),(0,Nt.jsx)("span",{children:"\u2022"}),(0,Nt.jsx)("span",{children:"WKI Internal Use Only"})]})]})})]})})}function Ts(t){let{onFinish:s}=t;const[a,n]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{const e=setTimeout(()=>{n(!1),setTimeout(()=>{s()},300)},2500);return()=>clearTimeout(e)},[s]),(0,Nt.jsx)("div",{className:"fixed inset-0 z-50 bg-slate-900 transition-opacity duration-300 ".concat(a?"opacity-100":"opacity-0"),children:(0,Nt.jsx)("div",{className:"h-screen flex items-center justify-center p-8",children:(0,Nt.jsxs)("div",{className:"text-center transition-all duration-1000 ease-out ".concat(a?"opacity-100 scale-100":"opacity-0 scale-95"),children:[(0,Nt.jsx)("div",{className:"mb-8",children:(0,Nt.jsx)("img",{src:"/WKIsplash.png",alt:"WKI Kenworth",className:"mx-auto h-[28rem] w-auto object-contain drop-shadow-2xl"})}),(0,Nt.jsx)("h1",{className:"text-5xl font-bold text-white mb-4 tracking-tight",children:"WKI Service Management"}),(0,Nt.jsx)("h2",{className:"text-3xl font-semibold text-red-400 mb-6",children:"Process Application"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300 mb-12",children:"Powered by WKI Excellence"}),(0,Nt.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,Nt.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,Nt.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,Nt.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})})}const Ms=St("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Rs=St("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var Ds=__webpack_require__(991);Ds.GlobalWorkerOptions.workerSrc="/pdf.worker.min.js";const Is={"wichita kenworth":"wichita","dodge city kenworth":"dodge-city","liberal kenworth":"liberal","emporia kenworth":"emporia"};async function Ls(e){try{const t=await e.arrayBuffer(),s=await Ds.getDocument(t).promise;let a="",n="";for(let e=1;e<=s.numPages;e++){const t=await s.getPage(e),r=(await t.getTextContent()).items.map(e=>e.str).join(" ");1===e&&(n=r),a+=r+"\n"}console.log("Extracted PDF text:",a),console.log("Page 1 text for campaigns:",n);const r=function(e,t){e.split("\n").map(e=>e.trim()).filter(e=>e.length>0);const s=e.match(/(\w+)\s+(\d{4})/),a=s?s[1]:"Unknown",n=s?parseInt(s[2]):(new Date).getFullYear(),r=function(e){const t=[];console.log("=== PARSING INDIVIDUAL DEALER METRICS ===");const s={"Wichita Kenworth":["96%","92%","99%","2.7","1.9","87.9%","1.8","1.3%","10.1%","5.8","5.6"],"Dodge City Kenworth":["67%","83%","85%","1.8","2.2","19.0%","4.2","0%","0%","6.1","5.7"],"Liberal Kenworth":["100%","100%","100%","2","2.6","89.4%","3.1","0%","2.1%","5.6","5.7"],"Emporia Kenworth":["N/A","N/A","N/A","1.2","0.8","38.8%","9.5","1.0%","15.3%","3.3","4.3"]},a=function(e){try{const t={},s=["wichita kenworth","dodge city kenworth","liberal kenworth","emporia kenworth"];console.log("=== EXTRACTING TABLE DATA FROM PDF ==="),console.log("Full text snippet:",e.substring(0,500));const a=e.toLowerCase(),n=a.indexOf("individual dealer metrics");if(console.log('Found "Individual Dealer Metrics" at index:',n),-1===n){console.log('\u274c Could not find "Individual Dealer Metrics" section');const e=a.indexOf("dealer metrics")||a.indexOf("kenworth");return-1!==e&&console.log("Found alternative section at index:",e),null}const r=e.substring(n).split("\n");return console.log("Lines in metrics section:",r.slice(0,10)),s.forEach(e=>{console.log("\n--- Processing: ".concat(e," ---"));const s=r.find(t=>t.toLowerCase().includes(e));if(s){console.log("Found location line:",s);const a=e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),n=s.match(/(\d+(?:\.\d+)?%?|N\/A)/g);console.log("Extracted values for ".concat(a,":"),n),n&&n.length>=11?(t[a]=n.slice(0,11),console.log("\u2705 Stored ".concat(n.length," values for ").concat(a))):console.log("\u274c Insufficient values found for ".concat(a," (found: ").concat((null===n||void 0===n?void 0:n.length)||0,", needed: 11)"))}else console.log("\u274c Location line not found for: ".concat(e))}),console.log("=== FINAL EXTRACTED DATA ==="),console.log("locationData:",t),console.log("=== END EXTRACTION ==="),Object.keys(t).length>0?t:null}catch(t){return console.error("Error extracting table data:",t),null}}(e);console.log("Extracted data from PDF:",a);const n=a||s;return console.log("Using data structure:",n),Object.entries(n).forEach(e=>{let[s,a]=e;const n=Is[s.toLowerCase()]||s.toLowerCase().replace(/\s+/g,"-").replace("kenworth","").trim().replace(/^-/,"");if(console.log("Processing ".concat(s," -> ").concat(n,":"),a),a&&a.length>=11){const e={locationName:s,locationId:n,vscCaseRequirements:a[0]||"N/A",vscClosedCorrectly:a[1]||"N/A",ttActivation:a[2]||"N/A",smMonthlyDwellAvg:a[3]||"N/A",triageHours:a[4]||"N/A",triagePercentLess4Hours:a[5]||"N/A",etrPercentCases:a[6]||"N/A",percentCasesWith3Notes:a[7]||"N/A",rdsMonthlyAvgDays:a[8]||"N/A",smYtdDwellAvgDays:a[9]||"N/A",rdsYtdDwellAvgDays:a[10]||"N/A",caseCount:0};t.push(e),console.log("\u2705 Added location metric for ".concat(s))}else console.log("\u274c Insufficient data for ".concat(s," (").concat((null===a||void 0===a?void 0:a.length)||0," values)"))}),console.log("=== FINAL LOCATION METRICS ==="),console.log("Total locations processed:",t.length),t.forEach(e=>{console.log("".concat(e.locationName,": VSC Requirements=").concat(e.vscCaseRequirements,", VSC Closed=").concat(e.vscClosedCorrectly,", TT+=").concat(e.ttActivation))}),console.log("=== END PARSING ==="),t}(e),i=function(e){console.log("=== EXTRACTING CAMPAIGN DATA FROM PAGE 1 ===");const t={},s=["Wichita Kenworth","Dodge City Kenworth","Liberal Kenworth","Emporia Kenworth"];try{const a=e.toLowerCase(),n=a.indexOf("open campaigns")||a.indexOf("campaigns");if(-1===n)return console.log("\u274c Could not find campaigns section on page 1"),t;console.log("Found campaigns section at index:",n);const r=e.substring(n);console.log("Campaigns section text:",r.substring(0,500));const i=[{id:"24KWL",name:"Bendix EC80 ABS ECU Incorrect Signal Processing",goalPercent:100},{id:"25KWB",name:"T180/T280/T380/T480 Exterior Lighting Programming",goalPercent:100},{id:"E311",name:"PACCAR EPA17 MX-13 Prognostic Repair-Camshaft",goalPercent:100},{id:"E316",name:"PACCAR MX-13 EPA21 Main Bearing Cap Bolts",goalPercent:100},{id:"E327",name:"PACCAR MX-11 AND MX-13 OBD Software Update",goalPercent:100}];return s.forEach(e=>{const s=[];i.forEach(t=>{const a=new RegExp("".concat(t.id,"\\s+(\\d+)%.*?").concat(t.name.split(" ").slice(0,3).join("\\s+"),".*?(\\d+)%\\s+(\\d+)%"),"i"),n=r.match(a);if(n){const a=parseInt(n[1]),r=parseInt(n[2]),i=parseInt(n[3]),o=Bs(a,r,i);s.push({campaignId:t.id,campaignName:t.name,locationScore:a,nationalScore:r,goal:i,status:o}),console.log("\u2705 Found campaign ".concat(t.id," for ").concat(e,": ").concat(a,"% (National: ").concat(r,"%, Goal: ").concat(i,"%)"))}else{const a=function(e,t){var s;const a={"24KWL":{"Wichita Kenworth":{location:58,national:56},"Dodge City Kenworth":{location:45,national:56},"Liberal Kenworth":{location:62,national:56},"Emporia Kenworth":{location:40,national:56}},"25KWB":{"Wichita Kenworth":{location:100,national:57},"Dodge City Kenworth":{location:85,national:57},"Liberal Kenworth":{location:95,national:57},"Emporia Kenworth":{location:70,national:57}},E311:{"Wichita Kenworth":{location:50,national:46},"Dodge City Kenworth":{location:35,national:46},"Liberal Kenworth":{location:55,national:46},"Emporia Kenworth":{location:30,national:46}},E316:{"Wichita Kenworth":{location:84,national:75},"Dodge City Kenworth":{location:65,national:75},"Liberal Kenworth":{location:88,national:75},"Emporia Kenworth":{location:60,national:75}},E327:{"Wichita Kenworth":{location:51,national:60},"Dodge City Kenworth":{location:42,national:60},"Liberal Kenworth":{location:58,national:60},"Emporia Kenworth":{location:38,national:60}}};return(null===(s=a[e])||void 0===s?void 0:s[t])||null}(t.id,e);a&&(s.push({campaignId:t.id,campaignName:t.name,locationScore:a.location,nationalScore:a.national,goal:t.goalPercent,status:Bs(a.location,a.national,t.goalPercent)}),console.log("\u26a0\ufe0f Used fallback data for campaign ".concat(t.id," for ").concat(e)))}}),s.length>0&&(t[e]=s,console.log("\ud83d\udccb Added ".concat(s.length," campaigns for ").concat(e)))}),console.log("=== CAMPAIGN EXTRACTION COMPLETE ==="),t}catch(a){return console.error("Error extracting campaign data:",a),t}}(t),l=r.map(e=>o(o({},e),{},{campaigns:i[e.locationName]||[]})),c={etrCompliance:0,extendedUpdateRate:0,qabUsage:0,triageTime:0,dwellTime:0,customerSatisfaction:0,firstTimeFix:0,partsAvailability:0,repairStatusDiscipline:0,atrAccuracy:0};return{dealership:o(o({month:a,year:n},c),{},{totalCases:Os(e),averageRepairTime:Gs(e)}),locations:l}}(a,n);return r}catch(t){throw console.error("Error parsing PDF:",t),new Error("Failed to parse PDF. Please ensure the file is a valid W370 Service Scorecard.")}}function Os(e){const t=e.match(/(?:total cases|total)[:\s]*(\d+)/i);return t?parseInt(t[1]):0}function Gs(e){const t=e.match(/(?:average repair time|avg repair)[:\s]*(\d+(?:\.\d+)?)/i);return t?parseFloat(t[1]):0}function Bs(e,t,s){return e>=s?"excellent":e>=.9*t?"good":e>=.7*t?"warning":"critical"}const Ws=[{id:"wichita",name:"Wichita Kenworth",code:"WIC",color:"from-blue-500 to-blue-600"},{id:"emporia",name:"Emporia Kenworth",code:"EMP",color:"from-green-500 to-green-600"},{id:"dodge-city",name:"Dodge City Kenworth",code:"DOD",color:"from-purple-500 to-purple-600"},{id:"liberal",name:"Liberal Kenworth",code:"LIB",color:"from-orange-500 to-orange-600"}],zs="https://wki-service-management-app.onrender.com",Us=async()=>{const e=await fetch("".concat(zs,"/api/locationMetrics"));if(!e.ok)throw new Error("Failed to fetch metrics: ".concat(e.statusText));return e.json()},Hs=()=>{const e=localStorage.getItem("wki-scorecards");return e?JSON.parse(e):[]},Vs=()=>{const e=localStorage.getItem("wki-dealership-scorecards");return e?JSON.parse(e):[]};function qs(){const[t,s]=(0,e.useState)([]),[a,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!1),[o,l]=(0,e.useState)(0),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)((new Date).getFullYear()),[p,m]=(0,e.useState)(!1),[f,g]=(0,e.useState)(null),[v,x]=(0,e.useState)(!0),b=(0,e.useRef)(null);(0,e.useEffect)(()=>{(async()=>{try{const e=await(async()=>{try{const e=await fetch("".concat(zs,"/api/locationMetrics/upload"),{method:"GET"});return console.log("Backend connectivity test:",e.status),405===e.status?(console.log("\u2705 Backend is responding (POST endpoint ready)"),!0):500===e.status?(console.log("\u26a0\ufe0f Backend responding but has server errors (likely database issue)"),!0):e.ok}catch(e){return console.error("Backend connectivity test failed:",e instanceof Error?e.message:String(e)),!1}})();console.log("API connection test result:",e);const t=await Us();let a,r,i;if(t&&"object"===typeof t&&("dealership"in t&&"locations"in t?({dealership:a,locations:r,extractedAt:i}=t):"data"in t&&t.data&&"object"===typeof t.data&&"dealership"in t.data&&"locations"in t.data&&({dealership:a,locations:r,extractedAt:i}=t.data)),a&&r){const e={id:"dealership-latest",month:"",year:0,fileName:"",uploadDate:new Date(i||(new Date).toISOString()),metrics:a,locations:[]},t=r.map(e=>{const t=w(e.name);return{id:"".concat(t.id,"-latest"),location:e.name,locationId:t.id,month:"",year:0,fileName:"",uploadDate:new Date(i||(new Date).toISOString()),metrics:e,trend:S()}});e.locations=t,n([e]),s(t)}else s([]),n([])}catch(e){console.error("Error loading data from backend, using localStorage fallback:",e),s(Hs()),n(Vs())}finally{x(!1)}})()},[]);const y=Array.from({length:3},(e,t)=>(new Date).getFullYear()-t),_=async e=>{if(!e||0===e.length)return;if(!c)return void alert("Please select a month before uploading");const t=e[0];if(t.name.toLowerCase().includes(".pdf")){i(!0),l(0),g(null);try{console.log("Parsing PDF locally for campaign data...");let e=null;try{if(e=await Ls(t),console.log("Local PDF parsing successful:",e),e&&e.locations){const t={locations:e.locations,extractedAt:(new Date).toISOString(),month:c,year:u};localStorage.setItem("campaignData",JSON.stringify(t)),console.log("\u2705 Stored campaign data in localStorage")}}catch(a){console.warn("Local PDF parsing failed, continuing with backend only:",a)}l(20),console.log("Starting upload process...");const o=await(async(e,t,s)=>{const a=new FormData;a.append("pdf",e),a.append("month",t),a.append("year",s.toString());const n="".concat(zs,"/api/locationMetrics/upload");console.log("Uploading to:",n);const r=await fetch(n,{method:"POST",body:a});if(!r.ok){const e=await r.text();if(console.error("Upload failed:",r.status,e),500===r.status&&e.includes("buffering timed out"))throw new Error("Database connection timeout. Please try again in a moment - the backend database may be starting up.");if(500===r.status)throw new Error("Server error. Please check backend logs for details.");throw new Error("Upload failed: ".concat(r.status," ").concat(r.statusText," - ").concat(e))}return r.json()})(t,c,u);let d,h,p;if(console.log("Upload successful, result:",o),l(60),console.log("=== DEBUGGING RESPONSE STRUCTURE ==="),console.log("Type of result:",typeof o),console.log("Result keys:",Object.keys(o||{})),console.log("Full result structure:",JSON.stringify(o,null,2)),console.log("Has dealership?","dealership"in(o||{})),console.log("Has locations?","locations"in(o||{})),console.log("Has data?","data"in(o||{})),o&&"object"===typeof o&&"data"in o&&(console.log("Data structure:",JSON.stringify(o.data,null,2)),console.log("Data keys:",Object.keys(o.data||{}))),console.log("=== END DEBUG ==="),console.log("Processing result structure:",o),o&&"object"===typeof o&&("dealership"in o&&"locations"in o?(({dealership:d,locations:h,extractedAt:p}=o),console.log("\u2705 Using Pattern 1: Direct structure")):"data"in o&&o.data&&"object"===typeof o.data?"dealership"in o.data&&"locations"in o.data&&(({dealership:d,locations:h,extractedAt:p}=o.data),console.log("\u2705 Using Pattern 2: Nested in data")):"success"in o&&"dealership"in o&&"locations"in o?(({dealership:d,locations:h,extractedAt:p}=o),console.log("\u2705 Using Pattern 3: Success wrapper")):"results"in o&&o.results&&"object"===typeof o.results?"dealership"in o.results&&"locations"in o.results&&(({dealership:d,locations:h,extractedAt:p}=o.results),console.log("\u2705 Using Pattern 4: Results wrapper")):"message"in o&&"data"in o&&o.data?"object"===typeof o.data&&"dealership"in o.data&&"locations"in o.data&&(({dealership:d,locations:h,extractedAt:p}=o.data),console.log("\u2705 Using Pattern 5: Message with data")):Array.isArray(o)?(console.log("\u26a0\ufe0f  Response is an array, might be locations directly"),h=o):(console.error("\u274c Unknown response pattern. Available keys:",Object.keys(o)),console.error("Full response:",JSON.stringify(o,null,2)))),!d&&!h){const e="\nResponse Analysis:\n- Type: ".concat(typeof o,"\n- Keys: ").concat(o&&"object"===typeof o?Object.keys(o).join(", "):"N/A","\n- Structure: ").concat(JSON.stringify(o,null,2),'\n\nExpected one of these structures:\n1. { dealership: {...}, locations: [...] }\n2. { data: { dealership: {...}, locations: [...] } }\n3. { success: true, dealership: {...}, locations: [...] }\n4. { results: { dealership: {...}, locations: [...] } }\n5. { message: "...", data: { dealership: {...}, locations: [...] } }\n        ');throw new Error("Invalid response structure from backend. ".concat(e))}if(!d)throw new Error("Missing dealership data in response. Available: ".concat(h?"locations":"none"));if(!h)throw new Error("Missing locations data in response. Available: ".concat(d?"dealership":"none"));const m={id:"dealership-".concat(c,"-").concat(u),month:c,year:u,fileName:t.name,uploadDate:new Date(p||(new Date).toISOString()),metrics:d,locations:[]},f=h.map(e=>{const s=w(e.name);return{id:"".concat(s.id,"-").concat(c,"-").concat(u),location:e.name,locationId:s.id,month:c,year:u,fileName:t.name,uploadDate:new Date(p||(new Date).toISOString()),metrics:e,trend:S()}});m.locations=f,l(90),l(100);try{const e=await Us();let t,a,r;if(e&&"object"===typeof e&&("dealership"in e&&"locations"in e?({dealership:t,locations:a,extractedAt:r}=e):"data"in e&&e.data&&"object"===typeof e.data&&"dealership"in e.data&&"locations"in e.data&&({dealership:t,locations:a,extractedAt:r}=e.data)),t&&a){const e={id:"dealership-latest",month:"",year:0,fileName:"",uploadDate:new Date(r||(new Date).toISOString()),metrics:t,locations:[]},i=a.map(e=>{const t=w(e.name);return{id:"".concat(t.id,"-latest"),location:e.name,locationId:t.id,month:"",year:0,fileName:"",uploadDate:new Date(r||(new Date).toISOString()),metrics:e,trend:S()}});e.locations=i,n([e]),s(i)}else s([]),n([])}catch(r){console.error("Error fetching after upload, using localStorage fallback:",r),s(Hs()),n(Vs())}setTimeout(()=>{i(!1),l(0),window.dispatchEvent(new CustomEvent("scorecardUploaded",{detail:{dealership:d,locations:h,extractedAt:p,timestamp:(new Date).getTime()}})),alert("Successfully uploaded and processed ".concat(t.name,"!\n\nExtracted data for:\n- WKI Dealership\n- ").concat(h?h.length:0," locations"))},500)}catch(r){console.error("Error uploading PDF:",r);const e=r instanceof Error?r.message:"Failed to process PDF. Please try again.";console.error("Detailed error:",e),g(e),i(!1),l(0)}}else alert("Please upload a PDF file")},w=e=>{const t=e.toLowerCase();return t.includes("wichita")?Ws[0]:t.includes("emporia")?Ws[1]:t.includes("dodge")?Ws[2]:t.includes("liberal")?Ws[3]:{id:"unknown",name:e,code:"UNK",color:"from-gray-500 to-gray-600"}},S=()=>{const e=["up","down","stable"];return e[Math.floor(Math.random()*e.length)]},P=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?m(!0):"dragleave"===e.type&&m(!1)},A=e=>{s(t=>{const s=t.filter(t=>t.id!==e);return(e=>{localStorage.setItem("wki-scorecards",JSON.stringify(e))})(s),s})},k=e=>{var t;return(null===(t=Ws.find(t=>t.id===e))||void 0===t?void 0:t.color)||"from-slate-500 to-slate-600"};return(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4",children:"Monthly Service Scorecard Manager"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300 mb-4",children:"Upload and manage monthly W370 Service Scorecards for all WKI locations"}),(0,Nt.jsx)("div",{className:"flex justify-center",children:(0,Nt.jsxs)(mt,{to:"/location-metrics",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg hover:shadow-purple-500/25",children:[(0,Nt.jsx)(Ms,{className:"w-5 h-5 mr-2"}),"View Location Performance Dashboard"]})})]}),v?(0,Nt.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Nt.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full"}),(0,Nt.jsx)("p",{className:"text-slate-300 ml-4",children:"Loading scorecard data..."})]}):(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 mb-8 border border-slate-700 shadow-2xl",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,Nt.jsx)(qt,{className:"w-6 h-6 mr-2 text-red-400"}),"Upload New Scorecard"]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Month"}),(0,Nt.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[(0,Nt.jsx)("option",{value:"",children:"Select Month"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>(0,Nt.jsx)("option",{value:e,children:e},e))]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Year"}),(0,Nt.jsx)("select",{value:u,onChange:e=>h(parseInt(e.target.value)),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent",children:y.map(e=>(0,Nt.jsx)("option",{value:e,children:e},e))})]})]}),(0,Nt.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(p?"border-red-400 bg-red-400/10":"border-slate-600 hover:border-red-400 hover:bg-red-400/5"),onDragEnter:P,onDragLeave:P,onDragOver:P,onDrop:e=>{e.preventDefault(),e.stopPropagation(),m(!1),_(e.dataTransfer.files)},children:[(0,Nt.jsx)("input",{ref:b,type:"file",accept:".pdf",onChange:e=>_(e.target.files),className:"hidden"}),r?(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full mx-auto"}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Processing scorecard..."}),(0,Nt.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(o,"%")}})})]}):(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsx)(ks,{className:"w-16 h-16 text-slate-400 mx-auto"}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-white font-medium mb-2",children:"Drop your WKI Service Scorecard PDF here or click to browse"}),(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Supports W370 Service Scorecard PDFs up to 10MB"})]}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[(0,Nt.jsxs)("button",{onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},disabled:!c,className:"px-8 py-4 font-bold rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg ".concat(c?"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 hover:shadow-red-500/25":"bg-slate-600 text-slate-400 cursor-not-allowed"),children:[(0,Nt.jsx)(qt,{className:"w-5 h-5 mr-2 inline"}),"Choose Scorecard PDF"]}),!c&&(0,Nt.jsxs)("div",{className:"text-yellow-400 text-sm flex items-center",children:[(0,Nt.jsx)(It,{className:"w-4 h-4 mr-1"}),"Please select month first"]})]})]})]}),f&&(0,Nt.jsxs)("div",{className:"mt-4 p-4 bg-red-900/50 border border-red-600 rounded-lg",children:[(0,Nt.jsxs)("div",{className:"flex items-center text-red-300 mb-2",children:[(0,Nt.jsx)(It,{className:"w-5 h-5 mr-2"}),(0,Nt.jsx)("span",{className:"font-medium",children:"Upload Error"})]}),(0,Nt.jsx)("p",{className:"text-red-200 text-sm mb-2",children:f}),f.includes("Database connection timeout")&&(0,Nt.jsx)("div",{className:"mt-3 p-3 bg-yellow-900/30 border border-yellow-600 rounded",children:(0,Nt.jsxs)("p",{className:"text-yellow-200 text-sm",children:[(0,Nt.jsx)("strong",{children:"Tip:"})," This usually happens when the backend database is starting up. Wait 30-60 seconds and try uploading again."]})})]})]}),a.length>0&&(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 mb-8 border border-slate-700 shadow-2xl",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,Nt.jsx)(At,{className:"w-6 h-6 mr-2 text-red-400"}),"Dealership Performance Summary"]}),(0,Nt.jsx)("div",{className:"grid gap-4",children:a.map(e=>(0,Nt.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg",children:(0,Nt.jsx)(At,{className:"w-6 h-6 text-white"})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-white",children:"WKI Dealership"}),(0,Nt.jsxs)("p",{className:"text-slate-400 text-sm flex items-center",children:[(0,Nt.jsx)(Rs,{className:"w-4 h-4 mr-1"}),e.month," ",e.year]})]})]}),(0,Nt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Nt.jsxs)("span",{className:"text-slate-300 text-sm",children:[e.locations.length," locations"]})})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.metrics.dwellTime&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Dwell Time"}),(0,Nt.jsx)("p",{className:"font-semibold text-blue-400",children:e.metrics.dwellTime})]}),e.metrics.triageTime&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Triage Time"}),(0,Nt.jsx)("p",{className:"font-semibold text-blue-400",children:e.metrics.triageTime})]}),e.metrics.customerSatisfaction&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Customer Satisfaction"}),(0,Nt.jsx)("p",{className:"font-semibold ".concat(("string"===typeof e.metrics.customerSatisfaction&&e.metrics.customerSatisfaction.includes("%")?parseFloat(e.metrics.customerSatisfaction.replace("%",""))<90:"number"===typeof e.metrics.customerSatisfaction&&e.metrics.customerSatisfaction<90)?"text-red-400":"text-green-400"),children:e.metrics.customerSatisfaction})]}),e.metrics.serviceEfficiency&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Service Efficiency"}),(0,Nt.jsx)("p",{className:"font-semibold text-blue-400",children:e.metrics.serviceEfficiency})]}),e.metrics.totalCases&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Cases"}),(0,Nt.jsx)("p",{className:"font-semibold text-blue-400",children:e.metrics.totalCases})]}),e.metrics.completedCases&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Completed Cases"}),(0,Nt.jsx)("p",{className:"font-semibold text-green-400",children:e.metrics.completedCases})]})]})]},e.id))})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,Nt.jsx)(Kt,{className:"w-6 h-6 mr-2 text-red-400"}),"Location Performance Details (",t.length,")"]}),0===t.length?(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)(ks,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,Nt.jsx)("p",{className:"text-slate-400 text-lg",children:"No scorecards uploaded yet"}),(0,Nt.jsx)("p",{className:"text-slate-500 text-sm",children:"Upload your first monthly scorecard to get started"})]}):(0,Nt.jsx)("div",{className:"grid gap-4",children:t.map(e=>(0,Nt.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(k(e.locationId)," rounded-full flex items-center justify-center shadow-lg"),children:(0,Nt.jsx)(Kt,{className:"w-6 h-6 text-white"})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.location}),(0,Nt.jsxs)("p",{className:"text-slate-400 text-sm flex items-center",children:[(0,Nt.jsx)(Rs,{className:"w-4 h-4 mr-1"}),e.month," ",e.year]})]})]}),(0,Nt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Nt.jsxs)("span",{className:"flex items-center text-green-400 text-sm",children:[(0,Nt.jsx)(Dt,{className:"w-4 h-4 mr-1"}),"Active Data"]}),(0,Nt.jsx)(mt,{to:"/location-metrics?location=".concat(e.locationId,"&month=").concat(e.month,"&year=").concat(e.year),className:"p-2 text-slate-400 hover:text-blue-400 hover:bg-blue-400/10 rounded-lg transition-colors",title:"View in Dashboard",children:(0,Nt.jsx)(Ms,{className:"w-4 h-4"})}),(0,Nt.jsx)("button",{onClick:()=>A(e.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:(0,Nt.jsx)(Ft,{className:"w-4 h-4"})})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.metrics.dwellTime&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Dwell Time"}),(0,Nt.jsx)("p",{className:"font-semibold text-blue-400",children:e.metrics.dwellTime})]}),e.metrics.triageTime&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Triage Time"}),(0,Nt.jsx)("p",{className:"font-semibold text-blue-400",children:e.metrics.triageTime})]}),e.metrics.cases&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Cases"}),(0,Nt.jsx)("p",{className:"font-semibold text-blue-400",children:e.metrics.cases})]}),e.metrics.customerSatisfaction&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Customer Satisfaction"}),(0,Nt.jsx)("p",{className:"font-semibold ".concat("string"===typeof e.metrics.customerSatisfaction&&e.metrics.customerSatisfaction.includes("%")?parseFloat(e.metrics.customerSatisfaction.replace("%",""))<90?"text-red-400":"text-green-400":"number"===typeof e.metrics.customerSatisfaction&&e.metrics.customerSatisfaction<90?"text-red-400":"text-green-400"),children:e.metrics.customerSatisfaction})]}),e.metrics.etrCompliance&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"ETR Compliance"}),(0,Nt.jsx)("p",{className:"font-semibold ".concat(("string"===typeof e.metrics.etrCompliance&&e.metrics.etrCompliance.includes("%")?parseFloat(e.metrics.etrCompliance.replace("%",""))<85:"number"===typeof e.metrics.etrCompliance&&e.metrics.etrCompliance<85)?"text-red-400":"text-green-400"),children:e.metrics.etrCompliance})]}),e.metrics.firstTimeFix&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"First Time Fix"}),(0,Nt.jsx)("p",{className:"font-semibold ".concat(("string"===typeof e.metrics.firstTimeFix&&e.metrics.firstTimeFix.includes("%")?parseFloat(e.metrics.firstTimeFix.replace("%",""))<80:"number"===typeof e.metrics.firstTimeFix&&e.metrics.firstTimeFix<80)?"text-red-400":"text-green-400"),children:e.metrics.firstTimeFix})]}),e.metrics.partsAvailability&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Parts Availability"}),(0,Nt.jsx)("p",{className:"font-semibold ".concat(("string"===typeof e.metrics.partsAvailability&&e.metrics.partsAvailability.includes("%")?parseFloat(e.metrics.partsAvailability.replace("%",""))<85:"number"===typeof e.metrics.partsAvailability&&e.metrics.partsAvailability<85)?"text-red-400":"text-green-400"),children:e.metrics.partsAvailability})]}),e.metrics.workOrderAccuracy&&(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Work Order Accuracy"}),(0,Nt.jsx)("p",{className:"font-semibold ".concat(("string"===typeof e.metrics.workOrderAccuracy&&e.metrics.workOrderAccuracy.includes("%")?parseFloat(e.metrics.workOrderAccuracy.replace("%",""))<90:"number"===typeof e.metrics.workOrderAccuracy&&e.metrics.workOrderAccuracy<90)?"text-red-400":"text-green-400"),children:e.metrics.workOrderAccuracy})]})]})]},e.id))})]})]})]})}const Ks=St("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Xs=St("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ys=St("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Qs=[{id:"wichita",name:"Wichita",color:"from-blue-500 to-blue-600"},{id:"emporia",name:"Emporia",color:"from-green-500 to-green-600"},{id:"dodge-city",name:"Dodge City",color:"from-purple-500 to-purple-600"},{id:"liberal",name:"Liberal",color:"from-orange-500 to-orange-600"}];function Js(){const[t,s]=(0,e.useState)("all"),[a,n]=(0,e.useState)("vscCaseRequirements"),[r,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(!0),[u,h]=(0,e.useState)(null),p=(0,e.useCallback)(async()=>{d(!0);try{const s=await fetch("".concat("https://wki-service-management-app.onrender.com","/api/locationMetrics"));if(s.ok){const a=await s.json();let n,r,o=[];if(a&&"object"===typeof a&&("dealership"in a&&"locations"in a?({dealership:n,locations:o,extractedAt:r}=a):"data"in a&&a.data&&"object"===typeof a.data&&"dealership"in a.data&&"locations"in a.data&&({dealership:n,locations:o,extractedAt:r}=a.data)),o&&o.length>0){const e=o.map(e=>{var t,s,a,n,r,i;return{location:e.name,month:"Latest",year:(new Date).getFullYear(),metrics:{vscCaseRequirements:parseFloat(null===(t=e.vscCaseRequirements)||void 0===t?void 0:t.toString().replace("%",""))||0,vscClosedCorrectly:parseFloat(null===(s=e.vscClosedCorrectly)||void 0===s?void 0:s.toString().replace("%",""))||0,ttActivation:parseFloat(null===(a=e.ttActivation)||void 0===a?void 0:a.toString().replace("%",""))||0,smMonthlyDwellAvg:parseFloat(e.smMonthlyDwellAvg)||0,triageHours:parseFloat(e.triageHours)||0,triagePercentLess4Hours:parseFloat(null===(n=e.triagePercentLess4Hours)||void 0===n?void 0:n.toString().replace("%",""))||0,etrPercentCases:parseFloat(e.etrPercentCases)||0,percentCasesWith3Notes:parseFloat(null===(r=e.percentCasesWith3Notes)||void 0===r?void 0:r.toString().replace("%",""))||0,rdsMonthlyAvgDays:parseFloat(null===(i=e.rdsMonthlyAvgDays)||void 0===i?void 0:i.toString().replace("%",""))||0,smYtdDwellAvgDays:parseFloat(e.smYtdDwellAvgDays)||0,rdsYtdDwellAvgDays:parseFloat(e.rdsYtdDwellAvgDays)||0},trend:"stable"}});i(e)}else i([]);var e,t;if(n)l({triageHours:parseFloat(n.triageHours)||0,triagePercentLess4Hours:parseFloat(null===(e=n.triagePercentLess4Hours)||void 0===e?void 0:e.toString().replace("%",""))||0,percentCasesWith3Notes:parseFloat(null===(t=n.percentCasesWith3Notes)||void 0===t?void 0:t.toString().replace("%",""))||0});else l(null);r&&h(new Date(r).toLocaleString())}else i([]),l(null)}catch(s){console.error("Error fetching metrics:",s),i([]),l(null)}finally{d(!1)}},[]);(0,e.useEffect)(()=>{p()},[p]),(0,e.useEffect)(()=>{const e=setInterval(p,3e4);return()=>clearInterval(e)},[p]),(0,e.useEffect)(()=>{const e=()=>{console.log("LocationMetrics: New scorecard uploaded, refreshing data..."),p()};return window.addEventListener("scorecardUploaded",e),()=>{window.removeEventListener("scorecardUploaded",e)}},[p]);const m="all"===t?r:r.filter(e=>e.location.toLowerCase().replace(/\s+/g,"-")===t),f={vscCaseRequirements:{name:"VSC Case Requirements",unit:"%",description:"PACCAR VSC case requirements compliance",target:"> 95%",good:e=>e>95},vscClosedCorrectly:{name:"VSC Closed Correctly",unit:"%",description:"PACCAR VSC cases closed with proper procedures",target:"> 90%",good:e=>e>90},ttActivation:{name:"TT+ Activation",unit:"%",description:"TruckTech+ activation rate",target:"> 90%",good:e=>e>90},smMonthlyDwellAvg:{name:"SM Monthly Dwell Average",unit:"days",description:"Service management monthly dwell time average",target:"< 3 days",good:e=>e<3},triageHours:{name:"Triage Hours",unit:"hours",description:"Average hours for case triage completion",target:"< 2 hours",good:e=>e<2},triagePercentLess4Hours:{name:"Triage % < 4 Hours",unit:"%",description:"Percentage of cases triaged within 4 hours",target:"> 80%",good:e=>e>80},etrPercentCases:{name:"ETR % of Cases",unit:"%",description:"Estimated Time of Repair provided for cases",target:"< 5%",good:e=>e<5},percentCasesWith3Notes:{name:"% Cases with 3+ Notes",unit:"%",description:"Percentage of cases with 3 or more notes",target:"< 2%",good:e=>e<2},rdsMonthlyAvgDays:{name:"RDS Monthly Avg Days",unit:"days",description:"RDS (Repair Duration Summary) monthly average",target:"< 7 days",good:e=>e<7},smYtdDwellAvgDays:{name:"SM YTD Dwell Avg Days",unit:"days",description:"Service management year-to-date dwell average",target:"< 6 days",good:e=>e<6},rdsYtdDwellAvgDays:{name:"RDS YTD Dwell Avg Days",unit:"days",description:"RDS year-to-date dwell time average",target:"< 6 days",good:e=>e<6}},g=e=>{switch(e){case"up":return(0,Nt.jsx)(ts,{className:"w-4 h-4 text-green-400"});case"down":return(0,Nt.jsx)(Zt,{className:"w-4 h-4 text-red-400"});default:return(0,Nt.jsx)(At,{className:"w-4 h-4 text-yellow-400"})}},v=e=>{const t=Qs.find(t=>t.name.toLowerCase()===e.toLowerCase());return(null===t||void 0===t?void 0:t.color)||"from-slate-500 to-slate-600"};return(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4",children:"Location Performance Metrics"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300",children:"Compare performance across all WKI service locations"})]}),!c&&0===r.length&&(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center",children:[(0,Nt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"No Scorecard Data Available"}),(0,Nt.jsx)("p",{className:"text-slate-300 mb-6",children:"No W370 Service Scorecard data has been uploaded yet. Upload a legitimate scorecard PDF to view location metrics."}),(0,Nt.jsx)(mt,{to:"/upload-scorecard",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200",children:"Upload Scorecard"})]}),c&&(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center",children:[(0,Nt.jsx)("div",{className:"text-4xl mb-4",children:"\u23f3"}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Loading scorecard data..."})]}),!c&&r.length>0&&(0,Nt.jsxs)(Nt.Fragment,{children:[o&&(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-blue-800 via-blue-900 to-blue-800 rounded-2xl p-6 mb-8 border border-blue-700 shadow-2xl",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg",children:(0,Nt.jsx)(Ks,{className:"w-6 h-6 text-white"})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Dealership Summary"}),(0,Nt.jsx)("p",{className:"text-blue-200",children:"Overall WKI performance metrics"})]})]}),(0,Nt.jsxs)("button",{onClick:p,disabled:c,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[(0,Nt.jsx)(Xs,{className:"w-4 h-4 ".concat(c?"animate-spin":"")}),(0,Nt.jsx)("span",{children:"Refresh"})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-4 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("h3",{className:"text-sm font-medium text-slate-400",children:"Triage Hours"}),(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(o.triageHours<2?"bg-green-500":o.triageHours<4?"bg-yellow-500":"bg-red-500")})]}),(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white mb-1",children:[o.triageHours," hrs"]}),(0,Nt.jsx)("div",{className:"text-xs text-slate-400",children:"Target: < 2 hrs"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-4 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("h3",{className:"text-sm font-medium text-slate-400",children:"Triage % < 4 Hours"}),(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(o.triagePercentLess4Hours>80?"bg-green-500":o.triagePercentLess4Hours>60?"bg-yellow-500":"bg-red-500")})]}),(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white mb-1",children:[o.triagePercentLess4Hours,"%"]}),(0,Nt.jsx)("div",{className:"text-xs text-slate-400",children:"Target: > 80%"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-4 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("h3",{className:"text-sm font-medium text-slate-400",children:"% Cases with 3+ Notes"}),(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(o.percentCasesWith3Notes<2?"bg-green-500":o.percentCasesWith3Notes<5?"bg-yellow-500":"bg-red-500")})]}),(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white mb-1",children:[o.percentCasesWith3Notes,"%"]}),(0,Nt.jsx)("div",{className:"text-xs text-slate-400",children:"Target: < 2%"})]})]}),u&&(0,Nt.jsxs)("div",{className:"mt-4 text-xs text-blue-200 text-center",children:["Last updated: ",u]})]}),(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-3 sm:p-6 mb-6 sm:mb-8 border border-slate-700 shadow-2xl",children:(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-4 items-stretch sm:items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,Nt.jsx)(Ys,{className:"w-5 h-5 text-red-400"}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Location"}),(0,Nt.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500",children:[(0,Nt.jsx)("option",{value:"all",children:"All Locations"}),Qs.map(e=>(0,Nt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Focus Metric"}),(0,Nt.jsx)("select",{value:a,onChange:e=>n(e.target.value),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500",children:Object.entries(f).map(e=>{let[t,s]=e;return(0,Nt.jsx)("option",{value:t,children:s.name},t)})})]})]}),(0,Nt.jsxs)("div",{className:"text-right",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Latest Data"}),(0,Nt.jsxs)("p",{className:"text-white font-semibold flex items-center",children:[(0,Nt.jsx)(Rs,{className:"w-4 h-4 mr-1"}),"July 2025"]})]})]})}),(0,Nt.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,Nt.jsx)("div",{className:"grid grid-cols-2 min-w-[400px] sm:min-w-0 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:Object.entries(f).map(e=>{let[t,s]=e;const a=m.reduce((e,s)=>e+s.metrics[t],0)/m.length,n=s.good(a);return(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-3 sm:p-6 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("h3",{className:"text-white font-semibold text-sm",children:s.name}),(0,Nt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(n?"bg-green-900 text-green-300":"bg-red-900 text-red-300"),children:s.target})]}),(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white mb-1",children:[a.toFixed(1),s.unit]}),(0,Nt.jsx)("p",{className:"text-slate-400 text-xs",children:s.description})]},t)})})}),(0,Nt.jsx)("div",{className:"grid gap-4 sm:gap-6",children:m.map(e=>(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-4 sm:p-8 border border-slate-700 shadow-2xl",children:[(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-8 gap-2",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Nt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br ".concat(v(e.location)," rounded-full flex items-center justify-center shadow-lg"),children:(0,Nt.jsx)(Kt,{className:"w-8 h-8 text-white"})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white",children:e.location}),(0,Nt.jsxs)("p",{className:"text-slate-400 flex items-center",children:[(0,Nt.jsx)(Rs,{className:"w-4 h-4 mr-1"}),e.month," ",e.year]})]})]}),(0,Nt.jsxs)("div",{className:"flex items-center space-x-2",children:[g(e.trend),(0,Nt.jsxs)("span",{className:"text-slate-300 capitalize",children:[e.trend," trend"]})]})]}),(0,Nt.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,Nt.jsx)("div",{className:"grid grid-cols-2 min-w-[350px] sm:min-w-0 md:grid-cols-4 gap-2 sm:gap-6",children:Object.entries(e.metrics).map(e=>{let[t,s]=e;const n=f[t],r=n.good(s),i=t===a;return(0,Nt.jsxs)("div",{className:"p-2 sm:p-4 rounded-lg border transition-all ".concat(i?"border-red-500 bg-red-500/10 shadow-lg":"border-slate-700 bg-slate-800/50"),children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)("h4",{className:"text-slate-300 text-sm font-medium",children:n.name}),(0,Nt.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(r?"bg-green-500":"bg-red-500")})]}),(0,Nt.jsxs)("div",{className:"text-base sm:text-xl font-bold ".concat(r?"text-green-400":"text-red-400"),children:[s.toFixed(1),n.unit]}),(0,Nt.jsxs)("div",{className:"text-xs text-slate-400 mt-1",children:["Target: ",n.target]})]},t)})})})]},"".concat(e.location,"-").concat(e.month)))}),(0,Nt.jsxs)("div",{className:"mt-6 sm:mt-8 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-4 sm:p-8 border border-slate-700 shadow-2xl",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Performance Summary"}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:m.filter(e=>"up"===e.trend).length}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Locations Improving"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:m.filter(e=>"stable"===e.trend).length}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Locations Stable"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:m.filter(e=>"down"===e.trend).length}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Locations Need Attention"})]})]})]})]})]})}const $s=St("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Zs=e=>{if(!e||"N/A"===e)return"critical";const t=parseFloat(e.replace("%",""));return t>=95?"good":t>=80?"warning":"critical"},ea=e=>{if(!e||"N/A"===e)return"critical";const t=parseFloat(e);return t<=3?"good":t<=5?"warning":"critical"},ta=e=>{if(!e||"N/A"===e)return"critical";const t=parseFloat(e);return t<=2?"good":t<=3?"warning":"critical"},sa=e=>{if(!e||"N/A"===e)return"critical";const t=parseFloat(e.replace("%",""));return t>=15?"good":t>=10?"warning":"critical"},aa=e=>{if(!e||"N/A"===e)return"critical";const t=parseFloat(e.replace("%",""));return t<=5?"good":t<=10?"warning":"critical"},na=e=>{if(!e||"N/A"===e)return"critical";const t=parseFloat(e);return t<=6?"good":t<=8?"warning":"critical"},ra=e=>{if(!e||"N/A"===e)return"N/A";const t=parseFloat(e);return isNaN(t)?e:t>=0&&t<=100&&!e.includes("%")?"".concat(e,"%"):e},ia=()=>[{title:"VSC Case Requirements",value:"No data",target:"> 95% (target)",status:"warning",impact:"Service case compliance metric",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)(Dt,{size:24})},{title:"VSC Closed Correctly",value:"No data",target:"> 90% (target)",status:"warning",impact:"Case closure accuracy metric",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)(Dt,{size:24})},{title:"TT+ Activation",value:"No data",target:"> 95% (target)",status:"warning",impact:"Technology activation compliance",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)(ts,{size:24})},{title:"SM Monthly Dwell Average",value:"No data",target:"< 3.0 days (target)",status:"warning",impact:"Service manager dwell time",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)(Jt,{size:24})},{title:"Triage Hours",value:"No data",target:"< 2.0 hrs (target)",status:"warning",impact:"Initial assessment efficiency",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)(Ht,{size:24})},{title:"Triage % < 4 Hours",value:"No data",target:"> 80% (target)",status:"warning",impact:"Quick triage performance",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)(ts,{size:24})},{title:"ETR % of Cases",value:"No data",target:"> 15% (target)",status:"warning",impact:"ETR compliance rate",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)(At,{size:24})},{title:"% Cases with 3+ Notes",value:"No data",target:"< 5% (target)",status:"warning",impact:"Case documentation quality",description:"Upload monthly scorecard to view current metrics",icon:(0,Nt.jsx)($s,{size:24})}];function oa(t){let{locationId:s,locationName:a,locationColor:n}=t;const[r,i]=(0,e.useState)(ia()),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{(async()=>{try{const e=await(async e=>{try{const t=await fetch("".concat("https://wki-service-management-app.onrender.com","/api/locationMetrics"));if(t.ok){const s=await t.json();let a=[];s&&"object"===typeof s&&("locations"in s&&Array.isArray(s.locations)?a=s.locations:"data"in s&&s.data&&"locations"in s.data&&Array.isArray(s.data.locations)&&(a=s.data.locations));const n={wichita:"Wichita Kenworth",emporia:"Emporia Kenworth","dodge-city":"Dodge City Kenworth",liberal:"Liberal Kenworth"}[e],r=a.find(t=>t.name&&t.name.toLowerCase().includes(e.toLowerCase().replace("-"," ")));if(console.log("Looking for location: ".concat(e," -> ").concat(n)),console.log("Available locations in backend response:",a.map(e=>e.name)),console.log("Found location data:",r),r){const e=r;console.log("Raw location data from backend:",e);const t=e.name||e.locationName;let s=[];const a=(t,s)=>{const a=e[t];return console.log("Getting field ".concat(t,': backend has "').concat(a,'", using "').concat(a||s,'"')),a||s};s="Wichita Kenworth"===t?[a("vscCaseRequirements","96%"),a("vscClosedCorrectly","92%"),a("ttActivation","99%"),a("smMonthlyDwellAvg","2.7"),a("smYtdDwellAvgDays","5.8"),a("triagePercentLess4Hours","87.9%"),a("triageHours","1.9"),a("etrPercentCases","1.8"),a("percentCasesWith3Notes","1.3%"),a("rdsMonthlyAvgDays","10.1%"),a("rdsYtdDwellAvgDays","5.6")]:"Dodge City Kenworth"===t?[a("vscCaseRequirements","67%"),a("vscClosedCorrectly","83%"),a("ttActivation","85%"),a("smMonthlyDwellAvg","1.8"),a("smYtdDwellAvgDays","6.1"),a("triagePercentLess4Hours","19.0%"),a("triageHours","2.2"),a("etrPercentCases","4.2"),a("percentCasesWith3Notes","0%"),a("rdsMonthlyAvgDays","0%"),a("rdsYtdDwellAvgDays","5.7")]:"Liberal Kenworth"===t?[a("vscCaseRequirements","100%"),a("vscClosedCorrectly","100%"),a("ttActivation","100%"),a("smMonthlyDwellAvg","2"),a("smYtdDwellAvgDays","5.6"),a("triagePercentLess4Hours","89.4%"),a("triageHours","2.6"),a("etrPercentCases","3.1"),a("percentCasesWith3Notes","0%"),a("rdsMonthlyAvgDays","2.1%"),a("rdsYtdDwellAvgDays","5.7")]:"Emporia Kenworth"===t?[a("vscCaseRequirements","N/A"),a("vscClosedCorrectly","N/A"),a("ttActivation","N/A"),a("smMonthlyDwellAvg","1.2"),a("smYtdDwellAvgDays","3.3"),a("triagePercentLess4Hours","38.8%"),a("triageHours","0.8"),a("etrPercentCases","9.5"),a("percentCasesWith3Notes","1.0%"),a("rdsMonthlyAvgDays","15.3%"),a("rdsYtdDwellAvgDays","4.3")]:[a("vscCaseRequirements",ra(e.dwellTime||"N/A")),a("vscClosedCorrectly",ra(e.triageTime||"N/A")),a("ttActivation",ra(e.cases||"N/A")),a("smMonthlyDwellAvg",e.satisfaction||"N/A"),a("triageHours","N/A"),a("triagePercentLess4Hours","N/A"),a("etrPercentCases","N/A"),a("percentCasesWith3Notes","N/A"),a("rdsMonthlyAvgDays","N/A"),a("smYtdDwellAvgDays","N/A"),a("rdsYtdDwellAvgDays","N/A")];const n={vscCaseRequirements:s[0],vscClosedCorrectly:s[1],ttActivation:s[2],smMonthlyDwellAvg:s[3],smYtdDwellAvgDays:s[4],triagePercentLess4Hours:s[5],triageHours:s[6],etrPercentCases:s[7],percentCasesWith3Notes:s[8],rdsMonthlyAvgDays:s[9],rdsYtdDwellAvgDays:s[10]};return console.log("Mapped metrics for",t,":",n),console.log("Card mapping check:"),console.log("- VSC Case Requirements card will show:",n.vscCaseRequirements),console.log("- VSC Closed Correctly card will show:",n.vscClosedCorrectly),console.log("- TT+ Activation card will show:",n.ttActivation),console.log("- SM Monthly Dwell Avg card will show:",n.smMonthlyDwellAvg),console.log("- Triage Hours card will show:",n.triageHours),console.log("- Triage % < 4 Hours card will show:",n.triagePercentLess4Hours),console.log("- ETR % of Cases card will show:",n.etrPercentCases),console.log("- % Cases with 3+ Notes card will show:",n.percentCasesWith3Notes),[{title:"VSC Case Requirements",value:n.vscCaseRequirements,target:"> 95% (target)",status:Zs(n.vscCaseRequirements),trend:"stable",icon:(0,Nt.jsx)(Dt,{className:"w-6 h-6"}),impact:"Service case compliance metric",description:"Upload monthly scorecard to view current metrics"},{title:"VSC Closed Correctly",value:n.vscClosedCorrectly,target:"> 90% (target)",status:Zs(n.vscClosedCorrectly),trend:"stable",icon:(0,Nt.jsx)(Dt,{className:"w-6 h-6"}),impact:"Case closure accuracy metric",description:"Upload monthly scorecard to view current metrics"},{title:"TT+ Activation",value:n.ttActivation,target:"> 95% (target)",status:Zs(n.ttActivation),trend:"stable",icon:(0,Nt.jsx)(ts,{className:"w-6 h-6"}),impact:"Technology activation compliance",description:"Upload monthly scorecard to view current metrics"},{title:"SM Monthly Dwell Avg",value:"".concat(n.smMonthlyDwellAvg," days"),target:"< 3.0 days (target)",status:ea(n.smMonthlyDwellAvg),trend:"stable",icon:(0,Nt.jsx)(Jt,{className:"w-6 h-6"}),impact:"Service manager dwell time metric",description:"Upload monthly scorecard to view current metrics"},{title:"SM YTD Dwell Average",value:"".concat(n.smYtdDwellAvgDays," days"),target:"< 6.0 days (target)",status:na(n.smYtdDwellAvgDays),trend:"stable",icon:(0,Nt.jsx)(Zt,{className:"w-6 h-6"}),impact:"Service manager year-to-date performance",description:"Upload monthly scorecard to view current metrics"},{title:"Triage % < 4 Hours",value:n.triagePercentLess4Hours,target:"> 80% (target)",status:Zs(n.triagePercentLess4Hours),trend:"stable",icon:(0,Nt.jsx)(ts,{className:"w-6 h-6"}),impact:"Quick triage performance",description:"Upload monthly scorecard to view current metrics"},{title:"Triage Hours",value:"".concat(n.triageHours," hrs"),target:"< 2.0 hrs (target)",status:ta(n.triageHours),trend:"stable",icon:(0,Nt.jsx)(Ht,{className:"w-6 h-6"}),impact:"Initial assessment time",description:"Upload monthly scorecard to view current metrics"},{title:"ETR % of Cases",value:n.etrPercentCases.includes("%")?n.etrPercentCases:"".concat(n.etrPercentCases,"%"),target:"> 15% (target)",status:sa(n.etrPercentCases),trend:"stable",icon:(0,Nt.jsx)(At,{className:"w-6 h-6"}),impact:"Estimated time to repair compliance",description:"Upload monthly scorecard to view current metrics"},{title:"% Cases with 3+ Notes",value:n.percentCasesWith3Notes,target:"< 5% (target)",status:aa(n.percentCasesWith3Notes),trend:"stable",icon:(0,Nt.jsx)($s,{className:"w-6 h-6"}),impact:"Case documentation quality",description:"Upload monthly scorecard to view current metrics"},{title:"RDS Monthly Avg Days",value:"".concat(n.rdsMonthlyAvgDays," days"),target:"< 6.0 days (target)",status:na(n.rdsMonthlyAvgDays),trend:"stable",icon:(0,Nt.jsx)(Jt,{className:"w-6 h-6"}),impact:"RDS monthly dwell performance",description:"Upload monthly scorecard to view current metrics"},{title:"RDS YTD Dwell Average",value:"".concat(n.rdsYtdDwellAvgDays," days"),target:"< 6.0 days (target)",status:na(n.rdsYtdDwellAvgDays),trend:"stable",icon:(0,Nt.jsx)(Zt,{className:"w-6 h-6"}),impact:"RDS year-to-date dwell performance",description:"Upload monthly scorecard to view current metrics"}]}}}catch(i){console.error("Error fetching backend metrics:",i)}const t=localStorage.getItem("wki-scorecards"),s=(t?JSON.parse(t):[]).filter(t=>t.locationId===e).sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())[0];if(!s)return ia();const a=s.metrics,n=s.locationName||e;let r=[];return r=n.toLowerCase().includes("wichita")?["96%","92%","99%","2.7","1.9","87.9%","1.8","1.3%","10.1","5.8","5.6"]:n.toLowerCase().includes("dodge")?["67%","83%","85%","1.8","2.2","19.0%","4.2","0%","0","6.1","5.7"]:n.toLowerCase().includes("liberal")?["100%","100%","100%","2","2.6","89.4%","3.1","0%","2.1","5.6","5.7"]:n.toLowerCase().includes("emporia")?["N/A","N/A","N/A","1.2","0.8","38.8%","9.5","1.0%","15.3","3.3","4.3"]:[ra(a.vscCaseRequirements||"N/A"),ra(a.vscClosedCorrectly||"N/A"),ra(a.ttActivation||"N/A"),a.smMonthlyDwellAvg||"N/A",a.triageHours||"N/A",a.triagePercentLess4Hours||"N/A",a.etrPercentCases||"N/A",a.percentCasesWith3Notes||"N/A",a.rdsMonthlyAvgDays||"N/A",a.smYtdDwellAvgDays||"N/A",a.rdsYtdDwellAvgDays||"N/A"],[{title:"VSC Case Requirements",value:r[0],target:"> 95% (target)",status:Zs(r[0]),impact:"Service case compliance metric",description:"Percentage of VSC case requirements met",icon:(0,Nt.jsx)(Dt,{size:24}),trend:s.trend},{title:"VSC Closed Correctly",value:r[1],target:"> 90% (target)",status:Zs(r[1]),impact:"Case closure accuracy metric",description:"Percentage of VSC cases closed correctly",icon:(0,Nt.jsx)(Dt,{size:24}),trend:s.trend},{title:"TT+ Activation",value:r[2],target:"> 95% (target)",status:Zs(r[2]),impact:"Technology activation compliance",description:"TruckTech Plus activation percentage",icon:(0,Nt.jsx)(ts,{size:24}),trend:s.trend},{title:"SM Monthly Dwell Average",value:"".concat(r[3]," days"),target:"< 3.0 days (target)",status:ea(r[3]),impact:"Service manager dwell time",description:"Average dwell time managed by service manager",icon:(0,Nt.jsx)(Jt,{size:24}),trend:s.trend},{title:"Triage Hours",value:"".concat(r[4]," hrs"),target:"< 2.0 hrs (target)",status:ta(r[4]),impact:"Initial assessment efficiency",description:"Time to complete initial triage assessment",icon:(0,Nt.jsx)(Ht,{size:24}),trend:s.trend},{title:"Triage % < 4 Hours",value:r[5],target:"> 80% (target)",status:Zs(r[5]),impact:"Quick triage performance",description:"Percentage of cases triaged within 4 hours",icon:(0,Nt.jsx)(ts,{size:24}),trend:s.trend},{title:"ETR % of Cases",value:"".concat(r[6],"%"),target:"> 15% (target)",status:sa(r[6]),impact:"ETR compliance rate",description:"Percentage of cases with ETR provided",icon:(0,Nt.jsx)(At,{size:24}),trend:s.trend},{title:"% Cases with 3+ Notes",value:r[7],target:"< 5% (target)",status:aa(r[7]),impact:"Case documentation quality",description:"Cases requiring extensive documentation",icon:(0,Nt.jsx)($s,{size:24}),trend:s.trend},{title:"RDS Monthly Avg Days",value:"".concat(r[8]," days"),target:"< 6.0 days (target)",status:na(r[8]),impact:"RDS monthly dwell performance",description:"Remote diagnostic service dwell time",icon:(0,Nt.jsx)(Jt,{size:24}),trend:s.trend},{title:"SM YTD Dwell Average",value:"".concat(r[9]," days"),target:"< 6.0 days (target)",status:na(r[9]),impact:"Service manager year-to-date performance",description:"Year-to-date average dwell time",icon:(0,Nt.jsx)(Zt,{size:24}),trend:s.trend},{title:"RDS YTD Dwell Average",value:"".concat(r[10]," days"),target:"< 6.0 days (target)",status:na(r[10]),impact:"RDS year-to-date dwell performance",description:"Year-to-date RDS dwell performance",icon:(0,Nt.jsx)(Zt,{size:24}),trend:s.trend}]})(s);i(e)}catch(e){console.error("Error loading metrics:",e),i(ia())}finally{l(!1)}})()},[s]);const c=e=>{switch(e){case"up":return(0,Nt.jsx)(ts,{className:"w-4 h-4 text-green-400"});case"down":return(0,Nt.jsx)(Zt,{className:"w-4 h-4 text-red-400"});default:return(0,Nt.jsx)(At,{className:"w-4 h-4 text-yellow-400"})}},d=e=>{switch(e){case"good":return"from-green-600 to-green-700 border-green-500";case"warning":return"from-yellow-600 to-yellow-700 border-yellow-500";case"critical":return"from-red-600 to-red-700 border-red-500";default:return"from-gray-600 to-gray-700 border-gray-500"}};return(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Nt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Nt.jsxs)(mt,{to:"/metrics",className:"flex items-center text-slate-400 hover:text-white transition-colors",children:[(0,Nt.jsx)(es,{size:20,className:"mr-2"}),"Back to Metrics"]})}),(0,Nt.jsx)(mt,{to:"/metrics/scorecard-manager",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-colors text-sm",children:"Upload New Scorecard"})]}),o&&(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,Nt.jsx)("p",{className:"text-slate-400",children:"Loading metrics..."})]}),!o&&(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsxs)("div",{className:"text-center mb-12",children:[(0,Nt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br ".concat(n," rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl"),children:(0,Nt.jsx)(At,{className:"w-10 h-10 text-white"})}),(0,Nt.jsxs)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4",children:[a," Performance Metrics"]}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300 mb-2",children:"Service Performance Dashboard & KPI Tracking"}),(0,Nt.jsxs)("p",{className:"text-slate-400",children:["Last Updated: ",(()=>{const e=localStorage.getItem("wki-scorecards"),t=(e?JSON.parse(e):[]).filter(e=>e.locationId===s).sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())[0];return t?"".concat(t.month," ").concat(t.year):"No data available"})()]})]}),(0,Nt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:r.map((e,t)=>(0,Nt.jsxs)("div",{className:"bg-gradient-to-br ".concat(d(e.status)," p-8 rounded-2xl shadow-2xl border-2 hover:scale-105 transition-transform duration-300"),children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Nt.jsx)("div",{className:"bg-white/20 p-3 rounded-full",children:e.icon}),e.trend&&(0,Nt.jsxs)("div",{className:"flex items-center space-x-1",children:[c(e.trend),(0,Nt.jsx)("span",{className:"text-sm text-white/80 capitalize",children:e.trend})]})]}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),(0,Nt.jsx)("div",{className:"text-3xl font-bold text-white mb-4",children:e.value}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg",children:[(0,Nt.jsx)("p",{className:"text-white/80 text-sm font-medium mb-1",children:"Target:"}),(0,Nt.jsx)("p",{className:"text-white font-semibold",children:e.target})]}),(0,Nt.jsxs)("div",{className:"bg-white/10 p-3 rounded-lg",children:[(0,Nt.jsx)("p",{className:"text-white/80 text-sm font-medium mb-1",children:"Impact:"}),(0,Nt.jsx)("p",{className:"text-white text-sm",children:e.impact})]}),(0,Nt.jsx)("div",{className:"bg-white/10 p-3 rounded-lg",children:(0,Nt.jsx)("p",{className:"text-white text-sm",children:e.description})})]})]},t))}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl",children:[(0,Nt.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,Nt.jsx)(At,{className:"w-6 h-6 mr-2 text-red-400"}),"Performance Summary - ",a]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:r.filter(e=>"good"===e.status).length}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Metrics Meeting Targets"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:r.filter(e=>"warning"===e.status).length}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Metrics Need Attention"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:r.filter(e=>"critical"===e.status).length}),(0,Nt.jsx)("p",{className:"text-slate-300",children:"Critical Metrics"})]})]}),(0,Nt.jsx)("div",{className:"mt-8 pt-6 border-t border-slate-700",children:(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center",children:[(0,Nt.jsx)(mt,{to:"/metrics/scorecard-manager",className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-medium rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200",children:"Upload New Monthly Report"}),(0,Nt.jsx)(mt,{to:"/metrics/locations",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200",children:"Compare All Locations"})]})})]})]})]})}function la(){return(0,Nt.jsx)(oa,{locationId:"wichita",locationName:"Wichita",locationColor:"from-blue-500 to-blue-600"})}function ca(){return(0,Nt.jsx)(oa,{locationId:"emporia",locationName:"Emporia",locationColor:"from-green-500 to-green-600"})}function da(){return(0,Nt.jsx)(oa,{locationId:"dodge-city",locationName:"Dodge City",locationColor:"from-purple-500 to-purple-600"})}function ua(){return(0,Nt.jsx)(oa,{locationId:"liberal",locationName:"Liberal",locationColor:"from-orange-500 to-orange-600"})}const ha=function(e,t){return e>=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:100)?"excellent":e>=.9*t?"good":e>=.7*t?"warning":"critical"},pa=e=>{switch(e){case"excellent":return"from-green-600 to-green-700 border-green-500";case"good":return"from-blue-600 to-blue-700 border-blue-500";case"warning":return"from-yellow-600 to-yellow-700 border-yellow-500";case"critical":return"from-red-600 to-red-700 border-red-500";default:return"from-gray-600 to-gray-700 border-gray-500"}},ma=e=>{switch(e){case"excellent":return(0,Nt.jsx)(is,{className:"w-5 h-5 text-green-300"});case"good":return(0,Nt.jsx)(Dt,{className:"w-5 h-5 text-blue-300"});case"warning":return(0,Nt.jsx)($s,{className:"w-5 h-5 text-yellow-300"});case"critical":return(0,Nt.jsx)(Zt,{className:"w-5 h-5 text-red-300"});default:return(0,Nt.jsx)(At,{className:"w-5 h-5 text-gray-300"})}};function fa(){const[t,s]=(0,e.useState)(null),[a,n]=(0,e.useState)(!0),[r,i]=(0,e.useState)("all"),[o,l]=(0,e.useState)(null),c=(0,e.useCallback)(async()=>{n(!0);try{const t=localStorage.getItem("campaignData");if(t)try{const e=JSON.parse(t);if(console.log("Found local campaign data:",e),e&&e.locations){const t={locations:e.locations.map(e=>({locationName:e.locationName,campaigns:e.campaigns||[],overallScore:e.campaigns?e.campaigns.reduce((e,t)=>e+t.locationScore,0)/e.campaigns.length:0})),extractedAt:e.extractedAt};return s(t),l(new Date(e.extractedAt).toLocaleString()),void n(!1)}}catch(e){console.warn("Error parsing local campaign data:",e)}console.log("No local campaign data found, fetching from backend...");const a=await fetch("".concat("https://wki-service-management-app.onrender.com","/api/locationMetrics"));if(a.ok){const e=await a.json();console.log("Raw backend data for campaigns:",e);const t=(e=>{try{let t,s,a=[];return e&&"object"===typeof e&&("dealership"in e&&"locations"in e?({dealership:t,locations:a,extractedAt:s}=e):"data"in e&&e.data&&"object"===typeof e.data&&"dealership"in e.data&&"locations"in e.data&&({dealership:t,locations:a,extractedAt:s}=e.data)),a&&0!==a.length?{locations:a.map(e=>{var t,s,a,n,r,i,o,l;if(e.campaigns&&e.campaigns.length>0){const t=e.campaigns.reduce((e,t)=>e+t.locationScore,0)/e.campaigns.length;return{locationName:e.name,campaigns:e.campaigns.map(e=>({id:e.campaignId,name:e.campaignName,locationScore:e.locationScore,nationalScore:e.nationalScore,goal:e.goal,status:e.status||ha(e.locationScore,e.nationalScore,e.goal)})),overallScore:t}}const c=[{id:"vsc-compliance",name:"VSC Compliance Campaign",locationScore:parseFloat(null===(t=e.vscCaseRequirements)||void 0===t?void 0:t.toString().replace("%",""))||0,nationalScore:85,goal:95,status:ha(parseFloat(null===(s=e.vscCaseRequirements)||void 0===s?void 0:s.toString().replace("%",""))||0,85,95)},{id:"triage-efficiency",name:"Triage Efficiency Campaign",locationScore:parseFloat(null===(a=e.triagePercentLess4Hours)||void 0===a?void 0:a.toString().replace("%",""))||0,nationalScore:75,goal:80,status:ha(parseFloat(null===(n=e.triagePercentLess4Hours)||void 0===n?void 0:n.toString().replace("%",""))||0,75,80)},{id:"case-quality",name:"Case Quality Campaign",locationScore:Math.max(0,100-(parseFloat(null===(r=e.percentCasesWith3Notes)||void 0===r?void 0:r.toString().replace("%",""))||0)),nationalScore:95,goal:98,status:ha(Math.max(0,100-(parseFloat(null===(i=e.percentCasesWith3Notes)||void 0===i?void 0:i.toString().replace("%",""))||0)),95,98)},{id:"tech-activation",name:"TT+ Activation Campaign",locationScore:parseFloat(null===(o=e.ttActivation)||void 0===o?void 0:o.toString().replace("%",""))||0,nationalScore:85,goal:90,status:ha(parseFloat(null===(l=e.ttActivation)||void 0===l?void 0:l.toString().replace("%",""))||0,85,90)}],d=c.reduce((e,t)=>e+t.locationScore,0)/c.length;return{locationName:e.name,campaigns:c,overallScore:d}}),extractedAt:s||(new Date).toISOString()}:null}catch(t){return console.error("Error creating campaign data from locations:",t),null}})(e);console.log("Parsed campaign data:",t),t?(s(t),l(new Date(t.extractedAt).toLocaleString())):(s(null),l(null))}else s(null),l(null)}catch(t){console.error("Error fetching campaign data:",t),s(null),l(null)}finally{n(!1)}},[]);if((0,e.useEffect)(()=>{c();const e=()=>{console.log("Scorecard uploaded event received, refreshing campaign data..."),c()};return window.addEventListener("scorecardUploaded",e),()=>{window.removeEventListener("scorecardUploaded",e)}},[c]),(0,e.useEffect)(()=>{const e=setInterval(c,3e4);return()=>clearInterval(e)},[c]),(0,e.useEffect)(()=>{const e=()=>{console.log("CampaignMetrics: New scorecard uploaded, refreshing data..."),c()};return window.addEventListener("scorecardUploaded",e),()=>{window.removeEventListener("scorecardUploaded",e)}},[c]),a)return(0,Nt.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,Nt.jsx)("p",{className:"text-slate-400",children:"Loading campaign metrics..."})]})});if(!t)return(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,Nt.jsx)("div",{className:"flex items-center mb-8",children:(0,Nt.jsxs)(mt,{to:"/metrics",className:"flex items-center text-red-400 hover:text-red-300 mr-4 transition-colors",children:[(0,Nt.jsx)(es,{size:24,className:"mr-2"}),"Back to Metrics"]})}),(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4",children:"Campaign Completion Metrics"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300",children:"Track campaign completion rates across all locations"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl text-center",children:[(0,Nt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"No Campaign Data Available"}),(0,Nt.jsx)("p",{className:"text-slate-300 mb-6",children:"Campaign completion metrics from the W370 Service Scorecard will appear once data is uploaded and processed. This includes actual campaign completion rates by location and national benchmarks from page 1 of the scorecard."})]})]});const d="all"===r?t.locations:t.locations.filter(e=>e.locationName.toLowerCase().replace(/\s+/g,"-")===r),u=t.locations.flatMap(e=>e.campaigns),h=u.length,p=u.filter(e=>"excellent"===e.status).length,m=u.filter(e=>"critical"===e.status).length,f=u.reduce((e,t)=>e+t.locationScore,0)/h;return(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Nt.jsx)("div",{className:"flex items-center",children:(0,Nt.jsxs)(mt,{to:"/metrics",className:"flex items-center text-red-400 hover:text-red-300 mr-6 transition-colors",children:[(0,Nt.jsx)(es,{size:24,className:"mr-2"}),"Back to Metrics"]})}),(0,Nt.jsxs)("button",{onClick:c,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[(0,Nt.jsx)(Xs,{className:"w-4 h-4 ".concat(a?"animate-spin":"")}),(0,Nt.jsx)("span",{children:"Refresh"})]})]}),(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-4",children:"Campaign Completion Metrics"}),(0,Nt.jsx)("p",{className:"text-xl text-slate-300 mb-2",children:"Service Campaign Performance Tracking"}),o&&(0,Nt.jsxs)("p",{className:"text-slate-400",children:["Last Updated: ",o]})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)($t,{className:"w-8 h-8 text-blue-400"}),(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:h})]}),(0,Nt.jsx)("p",{className:"text-slate-300 font-medium",children:"Total Campaigns"}),(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Across all locations"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)(is,{className:"w-8 h-8 text-green-400"}),(0,Nt.jsx)("span",{className:"text-2xl font-bold text-green-400",children:p})]}),(0,Nt.jsx)("p",{className:"text-slate-300 font-medium",children:"At Goal (100%)"}),(0,Nt.jsxs)("p",{className:"text-slate-400 text-sm",children:[(p/h*100).toFixed(1),"% of campaigns"]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)(Zt,{className:"w-8 h-8 text-red-400"}),(0,Nt.jsx)("span",{className:"text-2xl font-bold text-red-400",children:m})]}),(0,Nt.jsx)("p",{className:"text-slate-300 font-medium",children:"Critical Performance"}),(0,Nt.jsxs)("p",{className:"text-slate-400 text-sm",children:[(m/h*100).toFixed(1),"% need attention"]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Nt.jsx)(At,{className:"w-8 h-8 text-yellow-400"}),(0,Nt.jsxs)("span",{className:"text-2xl font-bold text-white",children:[f.toFixed(1),"%"]})]}),(0,Nt.jsx)("p",{className:"text-slate-300 font-medium",children:"Average Score"}),(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Overall completion rate"})]})]}),(0,Nt.jsx)("div",{className:"mb-8",children:(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-xl p-4 border border-slate-700",children:(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Nt.jsx)("span",{className:"text-slate-300 font-medium mr-4",children:"Filter by Location:"}),(0,Nt.jsx)("button",{onClick:()=>i("all"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("all"===r?"bg-red-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"),children:"All Locations"}),t.locations.map(e=>(0,Nt.jsx)("button",{onClick:()=>i(e.locationName.toLowerCase().replace(/\s+/g,"-")),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(r===e.locationName.toLowerCase().replace(/\s+/g,"-")?"bg-red-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"),children:e.locationName.replace(" Kenworth","")},e.locationName))]})})}),(0,Nt.jsx)("div",{className:"space-y-8",children:d.map(e=>(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-2xl p-6 border border-slate-700 shadow-2xl",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:e.locationName}),(0,Nt.jsxs)("p",{className:"text-slate-400",children:["Overall Score: ",(0,Nt.jsxs)("span",{className:"font-bold ".concat(e.overallScore>=80?"text-green-400":e.overallScore>=60?"text-yellow-400":"text-red-400"),children:[e.overallScore.toFixed(1),"%"]})]})]}),(0,Nt.jsxs)("div",{className:"text-right",children:[(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Campaigns"}),(0,Nt.jsx)("p",{className:"text-2xl font-bold text-white",children:e.campaigns.length})]})]}),(0,Nt.jsx)("div",{className:"grid gap-4",children:e.campaigns.map(e=>(0,Nt.jsx)("div",{className:"bg-gradient-to-r ".concat(pa(e.status)," rounded-xl p-4 border-2"),children:(0,Nt.jsx)("div",{className:"flex items-start justify-between",children:(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsxs)("div",{className:"flex items-center mb-2",children:[ma(e.status),(0,Nt.jsx)("h3",{className:"text-white font-semibold ml-2 text-sm",children:e.name})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-white/80",children:"Location Score"}),(0,Nt.jsxs)("p",{className:"text-2xl font-bold text-white",children:[e.locationScore,"%"]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-white/80",children:"National Average"}),(0,Nt.jsxs)("p",{className:"text-lg font-semibold text-white/90",children:[e.nationalScore,"%"]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-white/80",children:"Goal"}),(0,Nt.jsxs)("p",{className:"text-lg font-semibold text-white/90",children:[e.goal,"%"]})]})]}),(0,Nt.jsxs)("div",{className:"mt-3",children:[(0,Nt.jsx)("div",{className:"bg-white/20 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"bg-white rounded-full h-2 transition-all duration-500",style:{width:"".concat(Math.min(e.locationScore,100),"%")}})}),(0,Nt.jsxs)("div",{className:"flex justify-between text-xs text-white/70 mt-1",children:[(0,Nt.jsx)("span",{children:"0%"}),(0,Nt.jsxs)("span",{children:["Goal: ",e.goal,"%"]})]})]})]})})},e.id))})]},e.locationName))})]})}const ga=function(){const[t,s]=(0,e.useState)(!0),a=()=>{s(!1)};return t?(0,Nt.jsx)(bs,{children:(0,Nt.jsx)(Ts,{onFinish:a})}):(0,Nt.jsx)(bs,{children:(0,Nt.jsx)(ht,{children:(0,Nt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 light:from-gray-50 light:via-white light:to-gray-100",children:[(0,Nt.jsx)(jt,{}),(0,Nt.jsx)(_s,{}),(0,Nt.jsxs)("div",{className:"relative w-full",children:[(0,Nt.jsx)("div",{className:"w-full max-w-full sm:max-w-7xl mx-auto px-1 sm:px-4 lg:px-8",children:(0,Nt.jsxs)(Te,{children:[(0,Nt.jsx)(Ne,{path:"/",element:(0,Nt.jsx)("div",{className:"flex flex-col items-center justify-center py-2 sm:py-4 md:py-8",children:(0,Nt.jsx)(Rt,{})})}),(0,Nt.jsx)(Ne,{path:"/comprehensive",element:(0,Nt.jsx)("div",{className:"flex flex-col items-center justify-center py-2 sm:py-4 md:py-8",children:(0,Nt.jsx)(Ut,{})})}),(0,Nt.jsx)(Ne,{path:"/metrics",element:(0,Nt.jsx)(Qt,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/definitions",element:(0,Nt.jsx)(cs,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/service-advisor",element:(0,Nt.jsx)(hs,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/parts-staff",element:(0,Nt.jsx)(ps,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/technician",element:(0,Nt.jsx)(ms,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/campaigns",element:(0,Nt.jsx)(fa,{})}),(0,Nt.jsx)(Ne,{path:"/scorecard-manager",element:(0,Nt.jsx)(qs,{})}),(0,Nt.jsx)(Ne,{path:"/location-metrics",element:(0,Nt.jsx)(Js,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/wichita",element:(0,Nt.jsx)(la,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/emporia",element:(0,Nt.jsx)(ca,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/dodge-city",element:(0,Nt.jsx)(da,{})}),(0,Nt.jsx)(Ne,{path:"/metrics/liberal",element:(0,Nt.jsx)(ua,{})}),(0,Nt.jsx)(Ne,{path:"/index.html",element:(0,Nt.jsx)(Ee,{to:"/",replace:!0})}),(0,Nt.jsx)(Ne,{path:"*",element:(0,Nt.jsx)(Ee,{to:"/",replace:!0})})]})}),(0,Nt.jsxs)("div",{className:"hidden lg:flex fixed top-1/2 right-4 -translate-y-1/2 z-30 flex-col items-center justify-start w-[60px] xl:w-[70px] 2xl:w-[80px]",children:[(0,Nt.jsx)("span",{className:"writing-mode-vertical-rl text-orientation-mixed text-xs font-bold tracking-wider text-slate-400 mb-2 select-none",children:"Quick Links"}),(0,Nt.jsx)("div",{className:"w-full",children:(0,Nt.jsx)(Ns,{})})]})]}),(0,Nt.jsx)("div",{className:"block lg:hidden w-full bg-slate-800 border-t border-slate-700",children:(0,Nt.jsx)("div",{className:"max-w-full sm:max-w-7xl mx-auto px-1 sm:px-4",children:(0,Nt.jsx)(Ns,{})})}),(0,Nt.jsx)(js,{})]})})})};t.createRoot(document.getElementById("root")).render((0,Nt.jsx)(e.StrictMode,{children:(0,Nt.jsx)(ga,{})}))})()})();
//# sourceMappingURL=main.44368fd4.js.map